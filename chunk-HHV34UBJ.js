import{$ as w,$a as Ae,$b as pe,A as _,Ab as Ne,B as R,C as xe,Da as $e,Db as je,E as T,Ea as f,Eb as ze,F as v,Fa as U,G as Q,Ga as M,H as De,J as we,Ja as Ee,Jb as He,K as k,Ka as ne,M as Fe,Mb as Ue,Nb as We,O as c,Oa as Ve,Ob as qe,Pb as Ge,Qb as Ye,R as X,Rb as Ke,Sb as Je,T as u,Tb as Qe,Ub as Xe,V as p,Vb as Ze,W as Z,Wb as se,X as ke,Xb as de,Y as m,Yb as W,Z as Se,_ as D,aa as s,ab as N,ac as ue,ba as d,bb as oe,bc as _e,ca as x,cb as Re,da as O,db as re,ea as g,ec as me,f as ge,fa as y,fc as et,g as B,ga as l,hc as fe,ic as Ce,jc as tt,ka as C,kc as it,la as h,lb as ae,lc as nt,m as K,mb as $,mc as ot,nb as Oe,nc as rt,oa as ee,oc as at,pa as te,pb as le,pc as lt,qa as L,qb as Le,qc as ct,ra as z,rb as Ie,rc as st,s as ye,sa as S,sb as Pe,sc as dt,tb as Be,tc as pt,ub as Me,uc as ut,vb as ce,vc as _t,x as J,xa as I,y as A,ya as H,za as ie}from"./chunk-GA4IGTFJ.js";import{a as F,b as V}from"./chunk-EQDQRRRY.js";var Y=(t,n)=>n.id;function vt(t,n){if(t&1&&O(0,3),t&2){let e=l();p("ngComponentOutlet",e.configuration.content)}}function gt(t,n){if(t&1&&(s(0,"i"),C(1),d()),t&2){let e=l(2).$implicit;c(),h(e.icon)}}function yt(t,n){if(t&1&&O(0,8),t&2){let e=l(2).$implicit;p("ngTemplateOutlet",e.iconTemplateRef)}}function xt(t,n){if(t&1){let e=g();s(0,"button",7),y("click",function(o){T(e);let r=l().$implicit,a=l();return v(a.layoutService.controlOnClick(r.id,o))}),u(1,gt,2,1,"i")(2,yt,1,1,"ng-container",8),s(3,"span",9),C(4),d()()}if(t&2){let e=l().$implicit;p("disabled",e.isDisabled)("hoverableEnabled",!e.isDisabled),c(),m(e.icon?1:e.iconTemplateRef?2:-1),c(3),h(e.label)}}function Dt(t,n){if(t&1&&(s(0,"i"),C(1),d()),t&2){let e=l(2).$implicit;c(),h(e.icon)}}function wt(t,n){if(t&1&&O(0,8),t&2){let e=l(2).$implicit;p("ngTemplateOutlet",e.iconTemplateRef)}}function Ft(t,n){if(t&1){let e=g();s(0,"button",10),y("click",function(o){T(e);let r=l().$implicit,a=l();return v(a.layoutService.controlOnClick(r.id,o))}),u(1,Dt,2,1,"i")(2,wt,1,1,"ng-container",8),d()}if(t&2){let e=l().$implicit;p("disabled",e.isDisabled)("hoverableEnabled",!e.isDisabled),c(),m(e.icon?1:e.iconTemplateRef?2:-1)}}function kt(t,n){}function St(t,n){if(t&1&&u(0,xt,5,4,"button",5)(1,Ft,3,3,"button",6)(2,kt,0,0),t&2){let e=n.$implicit,i=l();m(e.id==i.mostEmphasizedControlId()?0:e.icon||e.iconTemplateRef?1:2)}}var he=(t,n)=>n.key,q=t=>({enum:t}),mt=()=>({});function $t(t,n){if(t&1&&x(0,"pui-field-def",2),t&2){let e,i=n.$implicit;p("key",i.key)("fieldType",i.fieldConfiguration.type)("label",(e=i.fieldConfiguration.description)!==null&&e!==void 0?e:i.key)("fieldConfig",i.fieldConfiguration.type=="string"?S(4,q,i.fieldConfiguration.enum):i.fieldConfiguration.type=="number"?S(6,q,i.fieldConfiguration.enum):z(8,mt))}}function Et(t,n){if(t&1&&(s(0,"form")(1,"pui-fieldset",1),D(2,$t,1,9,"pui-field-def",2,he),d()()),t&2){let e=l();c(),p("formControl",e.formControl),c(),w(e.flattenedControls())}}function Vt(t,n){if(t&1){let e=g();s(0,"pui-layout-control",3),y("click",function(o){let r=T(e).$implicit,a=l();return v(a.onControlClick(r.id,o))}),d()}if(t&2){let e=n.$implicit;p("id",e.id)("label",e.label)("icon",e.icon)("iconTemplateRef",e.iconTemplateRef)("disabled",e.isDisabled)("weight",e.weight)("mode",e.mode)}}var At=()=>[],Rt=t=>({peek:t}),Ot=t=>({outlets:t}),Lt=t=>[t];function It(t,n){if(t&1&&(s(0,"a",1)(1,"i"),C(2,"open_in_full"),d()()),t&2){let e=l();p("routerLink",e.routeToFullContent())}}function Pt(t,n){if(t&1&&x(0,"pui-field-def",4),t&2){let e,i=n.$implicit;p("key",i.key)("fieldType",i.fieldConfiguration.type)("label",(e=i.fieldConfiguration.description)!==null&&e!==void 0?e:i.key)("fieldConfig",i.fieldConfiguration.type=="string"?S(5,q,i.fieldConfiguration.enum):i.fieldConfiguration.type=="number"?S(7,q,i.fieldConfiguration.enum):z(9,mt))("isNullable",!1)}}function Bt(t,n){if(t&1){let e=g();s(0,"pui-fieldset",3),y("valueChange",function(o){T(e);let r=l();return v(r.onFilterValueChange(o))}),D(1,Pt,1,10,"pui-field-def",4,he),d()}if(t&2){let e=l();p("formControl",e.filterFormControl),c(),w(e.flattenFilterDef())}}function Mt(t,n){if(t&1){let e=g();s(0,"pui-table-header-cell",7),y("cellClick",function(o){T(e);let r=l().$implicit,a=l();return v(a.onHeaderClick(r.key,o))}),C(1),d()}if(t&2){let e,i,o,r=l().$implicit;p("rightAligned",(e=r.isAlignEnd)!==null&&e!==void 0?e:!1)("sortedAsc",(i=r.isSortedAsc)!==null&&i!==void 0?i:!1)("sortedDesc",(o=r.isSortedDesc)!==null&&o!==void 0?o:!1),c(),h(r.label)}}function Nt(t,n){t&1&&C(0," \xA0ago ")}function jt(t,n){if(t&1&&(x(0,"pui-time-display",10),u(1,Nt,1,0)),t&2){let e=l(2).$implicit,i=l().$implicit;p("mode",i.fieldConfiguration.format=="timeAgo"?"timeAgo":"normal")("format",i.fieldConfiguration.format)("date",e[i.key]),c(),m(i.fieldConfiguration.format=="timeAgo"?1:-1)}}function zt(t,n){if(t&1&&(ee(0),I(1,"lodashGet"),s(2,"i",11),C(3),d()),t&2){let e,i=l(2).$implicit,o=l().$implicit,r=H(1,3,i,(e=o.path)!==null&&e!==void 0?e:o.key);c(2),ke("pui-table-cell__boolean-content--true",r===!0),c(),h(r===!0?"check":r===!1?"close":"")}}function Ht(t,n){if(t&1&&(s(0,"span"),C(1),I(2,"lodashGet"),d()),t&2){let e,i=l(2).$implicit,o=l().$implicit;c(),h(H(2,1,i,(e=o.path)!==null&&e!==void 0?e:o.key))}}function Ut(t,n){if(t&1&&u(0,jt,2,4)(1,zt,4,6,"i",9)(2,Ht,3,4,"span"),t&2){let e,i=l(2).$implicit;m((e=i.fieldConfiguration.type)==="date-time"?0:e==="boolean"?1:2)}}function Wt(t,n){if(t&1&&(s(0,"span"),C(1),I(2,"lodashGet"),d()),t&2){let e,i=l().$implicit,o=l().$implicit;c(),h(H(2,1,i,(e=o.path)!==null&&e!==void 0?e:o.key))}}function qt(t,n){if(t&1&&(s(0,"pui-table-cell",8),u(1,Ut,3,1)(2,Wt,3,4,"span"),d()),t&2){let e,i=l().$implicit;p("rightAligned",(e=i.isAlignEnd)!==null&&e!==void 0?e:!1),c(),m(i.fieldConfiguration?1:2)}}function Gt(t,n){if(t&1&&u(0,Mt,2,4,"pui-table-header-cell",5)(1,qt,3,2,"pui-table-cell",6),t&2){let e=n.$implicit;p("puiTableHeaderCellDef",e.key),c(),p("puiTableCellDef",e.key)}}function Yt(t,n){if(t&1){let e=g();s(0,"pui-table-row",15),I(1,"isInSet"),y("click",function(){let o=T(e).$implicit,r=l(3);return v(r.onRowClick(o))}),d()}if(t&2){let e=n.$implicit,i=l(3);Z("height",48,"px"),p("item",e)("route",e[i.ROUTE_TO_DETAIL])("selected",ie(1,5,e,i.selectedItems(),i.cmpFn))}}function Kt(t,n){if(t&1&&(s(0,"cdk-virtual-scroll-viewport",13),u(1,Yt,2,9,"pui-table-row",14),d()),t&2){let e=l(2);Z("height",e.data().length*48,"px"),c(),p("cdkVirtualForOf",e.data())("cdkVirtualForTrackBy",e.trackingFn)("cdkVirtualForTemplateCacheSize",0)}}function Jt(t,n){if(t&1&&u(0,Kt,2,5,"cdk-virtual-scroll-viewport",12),t&2){let e=l();m(e.isBrowser?0:-1)}}function Qt(t,n){if(t&1){let e=g();s(0,"pui-table-row",15),I(1,"isInSet"),y("click",function(){let o=T(e).$implicit,r=l(2);return v(r.onRowClick(o))}),d()}if(t&2){let e=n.$implicit,i=l(2);p("item",e)("route",e[i.ROUTE_TO_DETAIL])("selected",ie(1,3,e,i.selectedItems(),i.cmpFn))}}function Xt(t,n){if(t&1&&D(0,Qt,2,7,"pui-table-row",16,Se),t&2){let e=l();w(e.data())}}function Zt(t,n){if(t&1){let e=g();s(0,"pui-layout-control",17),y("click",function(o){let r=T(e).$implicit,a=l();return v(a.onControlClick(r.id,o))}),d()}if(t&2){let e=n.$implicit;p("id",e.id)("label",e.label)("icon",e.icon)("iconTemplateRef",e.iconTemplateRef)("disabled",e.isDisabled)("weight",e.weight)("mode",e.mode)}}var ei=(t,n)=>n.label;function ti(t,n){if(t&1&&(s(0,"a",6),C(1),d()),t&2){let e=l().$implicit;p("routerLink",e.route),c(),h(e.label)}}function ii(t,n){if(t&1&&u(0,ti,2,2,"a",7),t&2){let e=n.$implicit;p("puiTab",e.label)}}function ni(t,n){if(t&1){let e=g();s(0,"pui-tab-bar",5),y("tabChange",function(o){T(e);let r=l(2);return v(r.onTabChanged(o))}),D(1,ii,1,1,"a",6,ei),d()}if(t&2){let e=l(2);p("currentTab",e.activeTab()),c(),w(e.tabs())}}function oi(t,n){if(t&1&&(s(0,"i"),C(1),d()),t&2){let e=l(2).$implicit;c(),h(e.icon)}}function ri(t,n){if(t&1&&O(0,11),t&2){let e=l(2).$implicit;p("ngTemplateOutlet",e.iconTemplateRef)}}function ai(t,n){if(t&1){let e=g();s(0,"button",10),y("click",function(o){T(e);let r=l().$implicit,a=l(2);return v(a.layoutService.controlOnClick(r.id,o))}),u(1,oi,2,1,"i")(2,ri,1,1,"ng-container",11),s(3,"span",12),C(4),d()()}if(t&2){let e=l().$implicit;p("disabled",e.isDisabled)("hoverableEnabled",!e.isDisabled),c(),m(e.icon?1:e.iconTemplateRef?2:-1),c(3),h(e.label)}}function li(t,n){if(t&1&&(s(0,"i"),C(1),d()),t&2){let e=l(2).$implicit;c(),h(e.icon)}}function ci(t,n){if(t&1&&O(0,11),t&2){let e=l(2).$implicit;p("ngTemplateOutlet",e.iconTemplateRef)}}function si(t,n){if(t&1){let e=g();s(0,"button",13),y("click",function(o){T(e);let r=l().$implicit,a=l(2);return v(a.layoutService.controlOnClick(r.id,o))}),u(1,li,2,1,"i")(2,ci,1,1,"ng-container",11),d()}if(t&2){let e=l().$implicit;p("disabled",e.isDisabled)("hoverableEnabled",!e.isDisabled)("puiTooltip",e.label),c(),m(e.icon?1:e.iconTemplateRef?2:-1)}}function di(t,n){}function pi(t,n){if(t&1&&u(0,ai,5,4,"button",8)(1,si,3,4,"button",9)(2,di,0,0),t&2){let e=n.$implicit,i=l(2);m(e.id==i.mostEmphasizedControlId()?0:e.icon||e.iconTemplateRef?1:2)}}function ui(t,n){if(t&1&&(s(0,"header",2),u(1,ni,3,1,"pui-tab-bar",3),x(2,"div",4),D(3,pi,3,1,null,null,Y),d()),t&2){let e=l();c(),m(e.tabs().length>0?1:-1),c(2),w(e.controls())}}var j=(()=>{let n=class n{constructor(){this._controls=X([]),this.controls=f(()=>this._controls().toSorted((i,o)=>(i.weight??0)-(o.weight??0))),this.mostEmphasizedControlId=f(()=>this.controls().filter(i=>!i.mode||i.mode=="auto").at(-1)?.id),this.eventsMap={}}registerControl(i,o){return this._controls.update(r=>[...r,F({},i)]),this.eventsMap[i.id]=o,{update:r=>{this._controls.update(a=>a.map(b=>b.id==r.id?F(F({},b),r):b))},dispose:()=>{this._controls.update(r=>r.filter(a=>a.id!=i.id))}}}controlOnClick(i,o){this.eventsMap[i]?.click?.(o)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=J({token:n,factory:n.\u0275fac});let t=n;return t})(),_i=(()=>{let n=class n{constructor(){this.overlayRef=_(Je),this.dataProvider=_(ft),this.layoutService=_(j,{self:!0}),this.configuration=this.dataProvider?.configuration,this.heading=f(()=>this.dataProvider.heading()),this.controls=this.layoutService.controls,this.mostEmphasizedControlId=this.layoutService.mostEmphasizedControlId,this.dataProvider.onActionDrawerInit?.(this.overlayRef)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=R({type:n,selectors:[["pui-action-drawer-layout"]],hostAttrs:[1,"pui-action-drawer-layout"],standalone:!0,features:[te([j]),L],decls:10,vars:2,consts:[[1,"@container/layout"],[1,"pui-action-drawer-layout__heading"],[1,"pui-action-drawer-layout__content"],[3,"ngComponentOutlet"],[1,"pui-action-drawer-layout__controls"],["puiFilledButton","","color","accent",1,"pui-action-drawer-layout__controls__most-emphasized",3,"disabled","hoverableEnabled"],["puiBorderedButton","","color","accent",1,"pui-action-drawer-layout__controls__normal",3,"disabled","hoverableEnabled"],["puiFilledButton","","color","accent",1,"pui-action-drawer-layout__controls__most-emphasized",3,"click","disabled","hoverableEnabled"],[3,"ngTemplateOutlet"],[1,"font-medium"],["puiBorderedButton","","color","accent",1,"pui-action-drawer-layout__controls__normal",3,"click","disabled","hoverableEnabled"]],template:function(o,r){o&1&&(s(0,"div",0)(1,"header",1),x(2,"pui-breadcrumbs"),s(3,"h1"),C(4),d()(),s(5,"div",2),u(6,vt,1,1,"ng-container",3),d(),s(7,"div",4),D(8,St,3,1,null,null,Y),d()()),o&2&&(c(4),h(r.heading()),c(2),m(r.configuration&&r.configuration.content?6:-1),c(2),w(r.controls()))},dependencies:[_e,Ee,ne,W,se,de]});let t=n;return t})(),ft=new A("action drawer layout data provider"),Ni=(()=>{let n=class n{constructor(){this.overlay=_(Qe),this.injector=_(Q)}open(i,o={width:"480px"}){this.overlay.open(_i,{positionStrategy:this.overlay.position().global().right("0").centerVertically(),maxWidth:"90vw",width:o.width??"480px",height:"100%",hasBackdrop:!0,backdropClass:"pui-action-drawer-backdrop",closeOnBackdropClick:!0,disposeOnNavigation:!0,closeOnEscapeKeydown:!0,animation:"slideInEnd",data:o.overlayData,parentInjector:Q.create({providers:[{provide:Ke,useValue:o.overlayData},{provide:ft,useClass:i},...o.providers??[]],parent:o.parent??this.injector})})}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})(),mi=[{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"}],ji=[{id:"cancel",label:"Cancel",icon:"close",mode:"low-emphasis"},{id:"save",label:"Save",icon:"save"}],fi=new A("editable content data provider");function G(t,n,e,i){return Object.entries(t.properties).flatMap(([r,a])=>{if(a.type=="object")return G(a,n,`${e?`${e}.`:""}${r}`,`${i}${a.description??""} / `);if(a.type=="array"){let b=ae(n,`${e?`${e}.`:""}${r}`);return[{key:`${e?`${e}.`:""}${r}`,fieldConfiguration:V(F({},a),{description:`${i}${a.description??""}`})},...Array.isArray(b)?b.flatMap((be,E)=>a.items.type=="object"?[...G(a.items,n,`${e?`${e}.`:""}${r}[${E}]`,`${i}${a.description??""} / #${E} / `)]:[{key:`${e?`${e}.`:""}${r}[${E}]`,fieldConfiguration:V(F({},a.items),{description:`${i}${a.description??""} / #${E}`})}]):[]]}return[{key:`${e?`${e}.`:""}${r}`,fieldConfiguration:V(F({},a),{description:i+a.description})}]})}var Ct=(()=>{let n=class n{constructor(){if(this.layoutService=_(j,{optional:!0}),this.destroyRef=_(De),this.id=k.required(),this.label=k.required(),this.weight=k(0),this.icon=k(),this.iconTemplateRef=k(),this.disabled=k(!1,{transform:$e}),this.mode=k(void 0),this.click=we(),!this.layoutService)return;let i,o;M(()=>{let r=this.id(),a=this.label(),b=this.disabled(),be=this.icon(),E=this.iconTemplateRef(),ht=this.mode(),bt=this.weight(),Te={id:r,label:a,isDisabled:b,icon:be,iconTemplateRef:E,weight:bt,mode:ht};if(i)i(Te);else{let ve=this.layoutService.registerControl(Te,{click:Tt=>this.click.emit(Tt)});i=ve.update,o=ve.dispose}},{allowSignalWrites:!0}),this.destroyRef.onDestroy(()=>{o?.()})}};n.\u0275fac=function(o){return new(o||n)},n.\u0275dir=xe({type:n,selectors:[["pui-layout-control"]],inputs:{id:[1,"id"],label:[1,"label"],weight:[1,"weight"],icon:[1,"icon"],iconTemplateRef:[1,"iconTemplateRef"],disabled:[1,"disabled"],mode:[1,"mode"]},outputs:{click:"click"},standalone:!0});let t=n;return t})(),zi=(()=>{let n=class n{constructor(){this.route=_(N),this.dataProvider=_(fi),this.formControl=new Be(void 0),this.data=f(()=>this.dataProvider.data()),this.fieldConfiguration=f(()=>this.dataProvider.fieldConfiguration()),this.formControlValue=Oe(this.formControl.events.pipe(K(i=>i instanceof Ie),ge(i=>i.value))),this.flattenedControls=f(()=>{let i=this.fieldConfiguration(),o=this.formControlValue();return i?G(i,o,"",i.description?`${i.description} / `:""):[]}),this.controlsConfig=f(()=>this.dataProvider.controlsConfig?.()??mi),M(()=>{let i=this.data();U(()=>this.formControl.setValue(i))}),M(()=>{let i=this.formControlValue();U(()=>this.dataProvider.onValueChange?.(i))}),B([this.route.params,this.route.queryParams]).pipe($()).subscribe(([i,o])=>this.dataProvider.onParamsChange?.(i,o)),this.formControl.events.pipe($()).subscribe(()=>{this.dataProvider.onStateChange?.({isValid:this.formControl.valid,isDisabled:this.formControl.disabled,isDirty:this.formControl.dirty})}),this.dataProvider.registerUpdateState?.(i=>{U(()=>{i?.isDirty===!1?this.formControl.markAsPristine():i?.isDirty===!0&&this.formControl.markAsDirty(),i?.isDisabled===!1?this.formControl.enable():i?.isDisabled===!0&&this.formControl.disable()})})}onControlClick(i,o){this.dataProvider.onControlClick?.(i,o)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=R({type:n,selectors:[["pui-editable-content"]],hostAttrs:[1,"pui-editable-content"],standalone:!0,features:[L],decls:4,vars:1,consts:[[3,"id","label","icon","iconTemplateRef","disabled","weight","mode"],[3,"formControl"],[3,"key","fieldType","label","fieldConfig"],[3,"click","id","label","icon","iconTemplateRef","disabled","weight","mode"]],template:function(o,r){o&1&&(s(0,"main"),u(1,Et,4,1,"form"),d(),D(2,Vt,1,7,"pui-layout-control",0,Y)),o&2&&(c(),m(r.flattenedControls().length>0?1:-1),c(),w(r.controlsConfig()))},dependencies:[Ce,fe,me,Me,le,Le,Pe,ce,Ct]});let t=n;return t})(),Ci=new A("peekable addon data provider"),hi=(()=>{let n=class n{constructor(){this.dataProvider=_(Ci,{optional:!0}),this.route=_(N),this.routeToFullContent=f(()=>this.dataProvider?.routeToFullContent()??null),B([this.route.params,this.route.queryParams]).pipe($()).subscribe(([i,o])=>this.dataProvider?.onParamsChange?.(i,o))}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=R({type:n,selectors:[["pui-peekable-addon"]],hostAttrs:[1,"pui-peekable-addon"],standalone:!0,features:[L],decls:8,vars:9,consts:[[1,"pui-peekable-addon__nav"],["puiBaseButton","","puiTooltip","View in full",1,"pui-peekable-addon__nav-button",3,"routerLink"],[1,"spacer"],["puiBaseButton","","puiTooltip","Close peek window",1,"pui-peekable-addon__nav-button",3,"routerLink"],[1,"pui-peekable-addon__content"],["name","peek"]],template:function(o,r){o&1&&(s(0,"nav",0),u(1,It,3,1,"a",1),x(2,"div",2),s(3,"a",3)(4,"i"),C(5,"close"),d()()(),s(6,"main",4),x(7,"router-outlet",5),d()),o&2&&(c(),m(r.routeToFullContent()?1:-1),c(2),p("routerLink",S(7,Lt,S(5,Ot,S(3,Rt,z(2,At))))))},dependencies:[oe,re,W,Ze,ue,pe]});let t=n;return t})();function Hi(t,n,e=!0){let i=Object.values(t??{}).some(r=>typeof r=="string"?!!r:r!=null),o=Object.keys(t??{});return r=>{if(!i)return!0;if(e){for(let a of o)if(a in n&&n[a]!=null&&!n[a](r,a,t[a],t))return!1;return!0}else{for(let a of o)if(a in n&&n[a]!=null&&n[a](r,a,t[a],t))return!0;return!1}}}function Ui(t){let n=t.find(i=>i.isSortedAsc||i.isSortedDesc);if(!n)return()=>0;let e=n.isSortedDesc?-1:1;return n.fieldConfiguration?.type=="date-time"?(i,o)=>{let r=P(i,n),a=P(o,n);return r==null&&a==null?0:r instanceof Date&&a instanceof Date?(r.getTime()-a.getTime())*e:r instanceof Date?1*e:-1*e}:(i,o)=>{switch(n.key){default:return P(i,n)>P(o,n)?e:P(i,n)<P(o,n)?-1*e:0}}}function P(t,n){return n.path?ae(t,n.path):t[n.key]}var bi=[{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"},{id:"add",label:"Add new",icon:"add"}],Ti=new A("table content data provider"),Wi=(()=>{let n=class n{constructor(){this.route=_(N),this.dataProvider=_(Ti),this.isBrowser=Ve(_(Fe)),this.ROUTE_TO_DETAIL=Symbol(),this.configuration=this.dataProvider.configuration,this.data=f(()=>{let i=this.dataProvider.data(),o=this.dataProvider.routeToDetail;return i?.map(r=>Object.assign({},r,{[this.ROUTE_TO_DETAIL]:o?.bind(this.dataProvider)?.(r)}))}),this.columnConfig=f(()=>this.dataProvider.columnsConfig()),this.columnsToDisplay=f(()=>this.dataProvider.columnsToDisplay()),this.selectionMode=f(()=>this.dataProvider.selectionMode?.()??null),this.selectedItems=f(()=>this.dataProvider.selectedItems?.()??new Set),this.controlsConfig=f(()=>this.dataProvider.controlsConfig?.()??bi),this.flattenFilterDef=f(()=>{let i=this.dataProvider.filterConfig?.();return i?G(i,{},"",i.description?`${i.description} / `:""):[]}),this.filterFormControl=_(Ne).nonNullable.control({}),this.cmpFn=this.dataProvider.compareFn??((i,o)=>i==o),B([this.route.params,this.route.queryParams]).pipe($()).subscribe(([i,o])=>this.dataProvider.onParamsChange?.(i,o)),M(()=>{this.dataProvider.filterValue&&this.filterFormControl.setValue(this.dataProvider.filterValue?.(),{emitEvent:!1})},{allowSignalWrites:!0})}onRowClick(i){this.dataProvider.onTableRowClick?.(i)}onHeaderClick(i,o){this.dataProvider.onHeaderCellClick?.(i,o)}onControlClick(i,o){this.dataProvider.onControlClick?.(i,o)}onFilterValueChange(i){this.dataProvider.onFilterChange?.(i)}trackingFn(i,o){return i}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=R({type:n,selectors:[["pui-table-content"]],hostAttrs:[1,"pui-table-content"],standalone:!0,features:[L],decls:13,vars:5,consts:[[3,"formControl"],[3,"itemHeight","columns","selectionMode"],[3,"id","label","icon","iconTemplateRef","disabled","weight","mode"],[3,"valueChange","formControl"],[3,"key","fieldType","label","fieldConfig","isNullable"],[3,"rightAligned","sortedAsc","sortedDesc","cellClick",4,"puiTableHeaderCellDef"],[3,"rightAligned",4,"puiTableCellDef"],[3,"cellClick","rightAligned","sortedAsc","sortedDesc"],[3,"rightAligned"],[1,"pui-table-cell__boolean-content",3,"pui-table-cell__boolean-content--true"],[3,"mode","format","date"],[1,"pui-table-cell__boolean-content"],["itemSize","48","scrollWindow","",3,"height"],["itemSize","48","scrollWindow",""],["puiHoverable","",3,"item","route","height","selected","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],["puiHoverable","",3,"click","item","route","selected"],["puiHoverable","",3,"item","route","selected"],[3,"click","id","label","icon","iconTemplateRef","disabled","weight","mode"]],template:function(o,r){if(o&1&&(s(0,"main")(1,"div"),ee(2),u(3,Bt,3,1,"pui-fieldset",0),s(4,"pui-table",1),D(5,Gt,2,2,null,null,he),s(7,"pui-table-body"),x(8,"pui-table-header-row"),u(9,Jt,1,1)(10,Xt,2,0),d()()()(),D(11,Zt,1,7,"pui-layout-control",2,Y)),o&2){let a=r.flattenFilterDef();c(3),m(a.length>0?3:-1),c(),p("itemHeight",48)("columns",r.columnsToDisplay())("selectionMode",r.selectionMode()),c(),w(r.columnConfig()),c(4),m(r.configuration!=null&&r.configuration.useVirtualScroll?9:10),c(2),w(r.controlsConfig())}},dependencies:[_t,at,ut,lt,pt,dt,ct,ot,st,rt,Xe,Ct,et,ze,Ye,Ue,qe,We,Ge,Ce,fe,me,le,ce,je]});let t=n;return t})();function qi(t,n,e=!0){return t.map(i=>i.key==n?V(F({},i),{isSortedAsc:!i.isSortedAsc&&!i.isSortedDesc?e:!!i.isSortedDesc,isSortedDesc:!i.isSortedAsc&&!i.isSortedDesc?!e:!!i.isSortedAsc}):V(F({},i),{isSortedAsc:!1,isSortedDesc:!1}))}var vi=new A("vertical layout data provider"),Gi=(()=>{let n=class n{constructor(){this.dataProvider=_(vi),this.layoutService=_(j,{self:!0}),this.router=_(Re),this.route=_(N),this.activeTab=X(null),this.heading=f(()=>this.dataProvider.heading()),this.tabs=f(()=>this.dataProvider.tabs()),this.controls=this.layoutService.controls,this.mostEmphasizedControlId=this.layoutService.mostEmphasizedControlId,B([this.route.params,this.route.queryParams]).pipe($()).subscribe(([i,o])=>this.dataProvider.onParamsChange?.(i,o)),this.router.events.pipe(K(i=>i instanceof Ae),ye(this.router.lastSuccessfulNavigation?.finalUrl),He(),$()).subscribe(()=>{let i=this.tabs();if(!i)return;let o=i.find(a=>{let b=this.router.createUrlTree(a.route,{relativeTo:this.route});return this.router.isActive(b,{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})});if(!o)return;this.activeTab.set(o.label);let r=this.route.routeConfig?.children?.find(a=>a.path=="**");r&&(r.redirectTo=o.route.map(a=>String(a).replaceAll("..%2F","").replaceAll(".%2F","")).join("/"))})}onTabChanged(i){let o=this.tabs()?.find(r=>r.label==i);o&&this.router.navigate(o.route,{relativeTo:this.route})}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=R({type:n,selectors:[["pui-vertical-layout"]],hostAttrs:[1,"pui-vertical-layout"],standalone:!0,features:[te([j]),L],decls:8,vars:2,consts:[[1,"@container/layout"],[1,"pui-vertical-layout__heading"],[1,"pui-vertical-layout__controls"],[1,"pui-vertical-layout__tabs",3,"currentTab"],[1,"spacer"],[1,"pui-vertical-layout__tabs",3,"tabChange","currentTab"],[3,"routerLink"],[3,"routerLink",4,"puiTab"],["puiFilledButton","","color","accent",1,"pui-vertical-layout__controls__most-emphasized",3,"disabled","hoverableEnabled"],["puiBorderedButton","","color","accent",1,"pui-vertical-layout__controls__normal",3,"disabled","hoverableEnabled","puiTooltip"],["puiFilledButton","","color","accent",1,"pui-vertical-layout__controls__most-emphasized",3,"click","disabled","hoverableEnabled"],[3,"ngTemplateOutlet"],[1,"font-medium"],["puiBorderedButton","","color","accent",1,"pui-vertical-layout__controls__normal",3,"click","disabled","hoverableEnabled","puiTooltip"]],template:function(o,r){o&1&&(s(0,"div",0)(1,"header",1),x(2,"pui-breadcrumbs"),s(3,"h1"),C(4),d()(),u(5,ui,5,1,"header",2),x(6,"router-outlet")(7,"pui-peekable-addon"),d()),o&2&&(c(4),h(r.heading()),c(),m(r.tabs().length>0||r.controls().length>0?5:-1))},dependencies:[oe,_e,W,se,de,nt,it,tt,re,ne,hi,ue,pe]});let t=n;return t})();export{ft as a,Ni as b,mi as c,ji as d,fi as e,Ct as f,zi as g,Ci as h,Hi as i,Ui as j,bi as k,Ti as l,Wi as m,qi as n,vi as o,Gi as p};
