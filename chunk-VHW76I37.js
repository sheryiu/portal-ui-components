import{a as l,b as h,c,e as n}from"./chunk-33BX6FVD.js";import{a as g,b as O,c as A,d as j,e as u,g as m,j as V,k,l as I,m as L,n as R,o as F,p as E,q as D}from"./chunk-EII2OGUU.js";import{a as w}from"./chunk-5KUQE4MU.js";import{I as d,ka as T,ua as v}from"./chunk-IQCA3Y3N.js";import{$ as r,Ca as i,W as b,fa as s,q as C,rc as p,uc as S}from"./chunk-I76RA5B3.js";import{a as y}from"./chunk-EQDQRRRY.js";var N=(()=>{class e{constructor(){this.dataService=s(n),this.list=d(this.dataService.getList()),this.id=i(void 0),this.heading=p(()=>this.list()?.find(t=>t.id==this.id())?.name??"--"),this.tabs=i([])}onParamsChange(t,a){this.id.set(t.id)}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac})}}return e})();var P=(()=>{class e{constructor(){this.dataService=s(n),this.list=d(this.dataService.getList()),this.id=i(void 0),this.data=i(void 0),this.fieldConfiguration=i({type:"object",properties:{name:{type:"string",description:"Name"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},department:{type:"string",description:"Department",enum:Object.values(l)},position:{type:"string",description:"Position",enum:Object.values(h)},dateOfJoining:{type:"date-time",description:"Date of Joining"},dateOfLeaving:{type:"date-time",description:"Date of Leaving"},status:{type:"string",description:"Status",enum:Object.values(c)}}}),this.isDirty=i(!1),this.updatedValue=i(void 0),this.controlsConfig=p(()=>this.isDirty()?j:A),S(()=>{this.data.set(structuredClone(this.list()?.find(t=>t.id==this.id())))})}registerUpdateState(t){this.updateState=t}onStateChange(t){this.isDirty.update(a=>t.isDirty??a)}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,a){switch(t){case"refresh":case"cancel":{this.data.set(structuredClone(this.list()?.find(o=>o.id==this.id()))),this.updateState({isDirty:!1});break}case"save":{let o=this.updatedValue();o&&(this.dataService.save(o),this.updateState({isDirty:!1}));break}}}onParamsChange(t,a){this.id.set(t.id)}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac})}}return e})();var _=(()=>{class e{constructor(){this.heading=i("Employees"),this.tabs=i([])}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac})}}return e})();var x=(()=>{class e{constructor(){this.dataService=s(n),this.configuration={content:m},this.data=i(null),this.fieldConfiguration=i({type:"object",properties:{name:{type:"string",description:"Name"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},department:{type:"string",description:"Department",enum:Object.values(l)},position:{type:"string",description:"Position",enum:Object.values(h)},dateOfJoining:{type:"date-time",description:"Date of Joining"},dateOfLeaving:{type:"date-time",description:"Date of Leaving"},status:{type:"string",description:"Status",enum:Object.values(c)}}}),this.controlsConfig=i([{id:"cancel",label:"Cancel",icon:"close",mode:"low-emphasis"},{id:"save",label:"Save",icon:"save"}]),this.updatedValue=i(void 0),this.heading=i("Add Employee")}registerUpdateState(t){this.updateState=t,this.updateState({isDirty:!0})}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,a){switch(t){case"cancel":{this.data.set({}),this.overlayRef.close();break}case"save":{let o=this.updatedValue();o&&(o=Object.assign(o,{id:w.string.nanoid()}),this.dataService.add(o),this.overlayRef.close());break}}}onActionDrawerInit(t){this.overlayRef=t}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac})}}return e})();var U=(()=>{class e{constructor(){this.overlayData=s(T,{optional:!0}),this.configuration={content:m},this.heading=i("Filter Employee"),this.data=i(this.overlayData?.filter??{}),this.fieldConfiguration=i({type:"object",properties:{department:{type:"string",description:"Department",enum:[""].concat(Object.values(l))},status:{type:"string",description:"Status",enum:[""].concat(Object.values(c))}}}),this.controlsConfig=i([{id:"cancel",label:"Cancel",icon:"close"},{id:"apply",label:"Apply",icon:"filter_alt"}]),this.updatedValue=i(void 0)}onActionDrawerInit(t){this.overlayRef=t}registerUpdateState(t){this.updateState=t,this.updateState({isDirty:!0})}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,a){switch(t){case"cancel":{this.overlayRef.close();break}case"apply":{let o=this.updatedValue();o&&(this.overlayData?.onFilterApply?.(o),this.overlayRef.close());break}}}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac})}}return e})();var B=(()=>{class e{constructor(){this.dataService=s(n),this.actionDrawer=s(O),this.rawData=d(this.dataService.getList()),this.configuration={useVirtualScroll:!0},this.data=p(()=>(this.rawData()??[]).filter(this.filterFn()).toSorted(this.sortFn())),this.columnsConfig=i([{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"department",label:"Department"},{key:"position",label:"Position"},{key:"status",label:"Status"}]),this.columnsToDisplay=i(["name","email","phone","department","position","status"]),this.filterConfig=i({type:"object",properties:{department:{type:"string",description:"Department",enum:[""].concat(Object.values(l))},status:{type:"string",description:"Status",enum:[""].concat(Object.values(c))}}}),this.filterValue=i({}),this.controlsConfig=i([{id:"filter",label:"Advance Filters",icon:"filter_alt"},...I]),this.sortFn=p(()=>k(this.columnsConfig())),this.filterFn=p(()=>V(this.filterValue(),{department:(t,a,o)=>!!o&&t.department==o,status:(t,a,o)=>!!o&&t.status==o}))}routeToDetail(t){return["detail",t.id]}onHeaderCellClick(t,a){this.columnsConfig.update(o=>F(o,t))}onFilterChange(t){this.filterValue.set(t)}onControlClick(t,a){switch(t){case"add":{this.actionDrawer.open(x,{providers:[{provide:u,useExisting:g}]});break}case"filter":{this.actionDrawer.open(U,{overlayData:{filter:this.filterValue(),onFilterApply:o=>this.filterValue.set(o)},providers:[{provide:u,useExisting:g}]});break}}}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac})}}return e})();var Ft=[{path:"",data:y({},v({title:"Employee"})),children:[{path:"detail/:id",component:D,data:y({},v({deps:[n],titleFn:(e,J)=>e.params.pipe(b(t=>J.getList().pipe(C(a=>a.find(o=>o.id==t.id)?.name??"--"))))})),providers:[{provide:E,useClass:N}],children:[{path:"",component:m,providers:[{provide:u,useClass:P}]}]},{path:"",component:D,providers:[{provide:E,useClass:_}],children:[{path:"",component:R,providers:[{provide:L,useClass:B}]}]}]}];export{Ft as ROUTES};
