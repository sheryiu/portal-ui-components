import{a as m}from"./chunk-ETUUKZY6.js";import"./chunk-A7X6ERW6.js";import{B as p,C as b,O as a,Ob as I,Pb as A,Qb as E,Sb as F,Vb as L,W as v,X as g,Xb as k,Ya as d,Yb as R,Zb as y,_b as C,a as c,b as u,ba as D,ga as T,i as S,ta as l,tb as f,va as w,y as o}from"./chunk-Q665FWTK.js";var j=(()=>{let t=class t{constructor(){this.dataService=p(m),this.list=d(this.dataService.getList()),this.id=a(void 0),this.heading=l(()=>{let e=this.list()?.find(r=>r.id==this.id())?.location;return e?`${e.aisle.toUpperCase()}${e.row} - ${e.layer}`:"--"}),this.tabs=a([{label:"Raw",route:["./"]}])}onParamsChange(e,r){this.id.set(e.id)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var x=(()=>{let t=class t{constructor(){this.dataService=p(m),this.list=d(this.dataService.getList()),this.id=a(void 0),this.data=a(void 0),this.fieldConfiguration=a({type:"object",properties:{location:{type:"object",description:"Shelf Location",properties:{aisle:{type:"string",description:"Aisle"},row:{type:"number",description:"Row"},layer:{type:"number",description:"Layer"}}},maxCapacity:{type:"number",description:"Maximum Capacity (grams)"},isAllowFragileItems:{type:"boolean",description:"Allows Fragile Items Inside"},dimensions:{type:"object",description:"Dimension",properties:{width:{type:"number",description:"Width (millimeters)"},depth:{type:"number",description:"Depth (millimeters)"},height:{type:"number",description:"Height (millimeters)"}}}}}),this.isDirty=a(!1),this.updatedValue=a(void 0),this.controlsConfig=l(()=>this.isDirty()?A:I),w(()=>{this.data.set(structuredClone(this.list()?.find(e=>e.id==this.id())))},{allowSignalWrites:!0})}registerUpdateState(e){this.updateState=e}onStateChange(e){this.isDirty.update(r=>e.isDirty??r)}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,r){switch(e){case"refresh":case"cancel":{this.data.set(structuredClone(this.list()?.find(s=>s.id==this.id()))),this.updateState({isDirty:!1});break}case"save":{let s=this.updatedValue();s&&(this.dataService.save(s),this.updateState({isDirty:!1}));break}}}onParamsChange(e,r){this.id.set(e.id)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var O=(()=>{let t=class t{constructor(){this.heading=a("Warehouse Shelves"),this.tabs=a([{label:"Map",route:["map"]},{label:"Data",route:["data"]}])}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var V=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=b({type:t,selectors:[["demo-inventory-shelf-map"]],standalone:!0,features:[T],decls:2,vars:0,template:function(r,s){r&1&&(v(0,"p"),D(1,"inventory-shelf-map works!"),g())}});let i=t;return i})();var N=(()=>{let t=class t{constructor(){this.dataService=p(m),this.rawData=d(this.dataService.getList()),this.configuration={useVirtualScroll:!0},this.data=l(()=>(this.rawData()??[]).toSorted(this.sortFn())),this.columnsConfig=a([{key:"aisle",path:"location.aisle",label:"Aisle"},{key:"row",path:"location.row",label:"Row"},{key:"layer",path:"location.layer",label:"Layer"},{key:"maxCapacity",label:"Maximum Capacity (g)",fieldConfiguration:{type:"number"}},{key:"isAllowFragileItems",label:"Allows Fragile",fieldConfiguration:{type:"boolean"}}]),this.columnsToDisplay=a(["aisle","row","layer","maxCapacity","isAllowFragileItems"]),this.controlsConfig=a([{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"}]),this.sortFn=l(()=>L(this.columnsConfig()))}onHeaderCellClick(e,r){this.columnsConfig.update(s=>s.map(n=>n.key==e?u(c({},n),{isSortedAsc:!n.isSortedAsc&&!n.isSortedDesc?!0:!!n.isSortedDesc,isSortedDesc:!!n.isSortedAsc}):u(c({},n),{isSortedAsc:!1,isSortedDesc:!1})))}routeToDetail(e){return["../","detail",e.id]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var mt=[{path:"",data:c({},f({title:"Shelf"})),children:[{path:"detail/:id",component:C,data:c({},f({titleFn:i=>i.params.pipe(S(t=>t.id))})),providers:[{provide:y,useClass:j}],children:[{path:"",component:F,providers:[{provide:E,useClass:x}]}]},{path:"",component:C,providers:[{provide:y,useClass:O}],children:[{path:"map",component:V},{path:"data",component:R,providers:[{provide:k,useClass:N}]},{path:"**",redirectTo:"map"}]}]}];export{mt as ROUTES};
