import{a as g}from"./chunk-L5BSYYKI.js";import{a as E}from"./chunk-36ZBXQMA.js";import{a as e}from"./chunk-QLEH2ZB5.js";import{M as d}from"./chunk-WX3TDQFG.js";import{I as p,L as o,X as u,aa as s,f as h,jb as f,q as m}from"./chunk-456UTSJA.js";var l=(function(i){return i.OPEN="Open",i.REPACKAGING="Repackaging",i.WAITING_FOR_DELIVERY="Waiting for delivery",i.DELIVERED="Delivered",i.EXPIRED="Expired",i})(l||{}),c=(function(i){return i.ACCESSORY="Accessory",i.BOOK="Book",i.CDDVD="CD / DVD",i.CLOTHING="Clothing",i.ELECTRONICS="Electronics",i.FOOD="Food",i.GOODS="Goods",i.INSTRUMENT="Instrument",i.STATIONARY="Stationary",i.UTENSIL="Utensil",i.OTHERS="Others",i})(c||{});var G=(()=>{class i{constructor(){this.appRef=s(f),this.customerData=s(g),this.inventoryShelfData=s(E),this.list=new h([]),this.isInitialized=!1}createMock(r,t){let a=e.helpers.rangeToNumber({min:250,max:1500}),n=e.helpers.enumValue(l);return{id:e.string.nanoid(),netWeight:a,grossWeight:a+e.helpers.rangeToNumber({min:400,max:800}),contents:Array(e.helpers.rangeToNumber({min:1,max:3})).fill(0).map(()=>({id:e.string.nanoid(),type:e.helpers.enumValue(c),description:e.commerce.productName(),isbn:e.helpers.maybe(()=>e.commerce.isbn())??null,quantity:1,totalPrice:e.helpers.rangeToNumber({min:100,max:2500})/10})),isContainFragile:e.datatype.boolean(),arrivedAt:e.date.past({years:1}),belongsTo:e.helpers.arrayElement(r).id,status:n,locatedIn:n==l.EXPIRED?null:e.helpers.arrayElement(t).id}}initialize(){this.isInitialized||(this.isInitialized=!0,m([this.customerData.getList(),this.inventoryShelfData.getList()]).pipe(o(([r,t])=>r.length>0&&t.length>0)).subscribe(([r,t])=>{this.list.next(Array(100).fill(0).map(()=>this.createMock(r,t)))}))}getList(){return this.appRef.isStable.pipe(o(r=>r),p(50)).subscribe(()=>{this.initialize()}),this.list}save(r,t){this.list.next(this.list.value.map(a=>a.id==r?d(a,t):a))}add(r){this.list.next(this.list.value.toSpliced(0,0,r))}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{l as a,c as b,G as c};
