import{a as n}from"./chunk-NFHW2FZH.js";import{B as d,N as a,Na as E,Oa as V,Xa as g,a as f,b as O,e as I,i as T,ka as k,ma as h,na as S,nb as A,ob as F,pb as L,qb as w,r as b,rb as R,s as N,tb as y,u as j,vb as P,wb as _,xb as U,y as l,yb as C,zb as D}from"./chunk-7ZWV2HLD.js";var m=function(i){return i.WAREHOUSE="Warehouse",i.SHIPPING="Shipping",i.MANAGEMENT="Management",i}(m||{}),o=function(i){return i.INTERN="Intern",i.WAREHOUSE_WORKER="Warehouse Worker",i.FORKLIFT_OPERATOR="Forklift Operator",i.INVENTORY_CLERK="Inventory Clerk",i.WAREHOUSE_SUPERVISOR="Warehouse Supervisor",i.WAREHOUSE_MANAGER="Warehouse Manager",i.SHIPPING_AND_RECEIVING_CLERK="Shipping and Receiving Clerk",i.HR_MANAGER="HR Manager",i.CFO="Chief Financial Officer",i.CEO="Chief Executive Officer",i}(o||{}),c=function(i){return i.ACTIVE="Active",i.INACTIVE="Inactive",i.ON_LEAVE="On Leave",i.TERMINATED="Terminated",i.RETIRED="Retired",i.PROBATION="Probation",i.CONTRACT="Contract",i}(c||{});var u=(()=>{let e=class e{constructor(){this.appRef=d(k),this.list=new I([]),this.isInitialized=!1}createMock(){let t=n.person.firstName(),r=n.person.lastName(),s=n.helpers.enumValue(m),p=n.helpers.enumValue(c);return{id:n.string.nanoid(),name:n.person.fullName({firstName:t,lastName:r}),email:n.internet.email({firstName:t,lastName:r}),phone:n.phone.number(),department:s,position:s==m.SHIPPING?n.helpers.arrayElement([o.SHIPPING_AND_RECEIVING_CLERK]):s==m.MANAGEMENT?n.helpers.arrayElement([o.CEO,o.CFO,o.HR_MANAGER,o.WAREHOUSE_MANAGER]):n.helpers.arrayElement([o.INTERN,o.WAREHOUSE_WORKER,o.WAREHOUSE_SUPERVISOR,o.FORKLIFT_OPERATOR,o.INVENTORY_CLERK]),dateOfJoining:n.date.past({years:10}),status:p,dateOfLeaving:[c.TERMINATED,c.RETIRED,c.INACTIVE].includes(p)?n.date.past({years:1}):null}}initialize(){this.isInitialized||(this.isInitialized=!0,this.list.next(Array(100).fill(0).map(()=>this.createMock()).sort((t,r)=>t.dateOfJoining.getTime()-r.dateOfJoining.getTime())))}getList(){return this.appRef.isStable.pipe(N(t=>t),b(1e3)).subscribe(()=>{this.initialize()}),this.list}save(t){this.list.next(this.list.value.map(r=>r.id==t.id?t:r))}add(t){this.list.next(this.list.value.toSpliced(0,0,t))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var x=(()=>{let e=class e{constructor(){this.dataService=d(u),this.list=E(this.dataService.getList()),this.params=a({}),this.queryParams=a({}),this.heading=h(()=>this.list()?.find(t=>t.id==this.params().id)?.name??"--"),this.tabs=a([])}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l({token:e,factory:e.\u0275fac});let i=e;return i})();var W=(()=>{let e=class e{constructor(){this.dataService=d(u),this.list=E(this.dataService.getList()),this.params=a({}),this.queryParams=a({}),this.data=a(this.list()?.find(t=>t.id==this.params().id)),this.jsonSchema=a({type:"object",properties:{name:{type:"string",description:"Name"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},department:{type:"string",description:"Department",enum:Object.values(m)},position:{type:"string",description:"Position",enum:Object.values(o)},dateOfJoining:{type:"date-time",description:"Date of Joining"},dateOfLeaving:{type:"date-time",description:"Date of Leaving"},status:{type:"string",description:"Status",enum:Object.values(c)}}}),this.isDirty=a(!1),this.updatedValue=a(void 0),this.controlsConfig=h(()=>this.isDirty()?w:L),S(()=>{this.data.set(structuredClone(this.list()?.find(t=>t.id==this.params().id)))},{allowSignalWrites:!0})}registerUpdateState(t){this.updateState=t}onStateChange(t){this.isDirty.update(r=>t.isDirty??r)}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,r){switch(t){case"refresh":case"cancel":{this.data.set(structuredClone(this.list()?.find(s=>s.id==this.params().id))),this.updateState({isDirty:!1});break}case"save":{let s=this.updatedValue();s&&(this.dataService.save(s),this.updateState({isDirty:!1}));break}}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l({token:e,factory:e.\u0275fac});let i=e;return i})();var M=(()=>{let e=class e{constructor(){this.params=a({}),this.queryParams=a({}),this.heading=a("Employees"),this.tabs=a([])}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l({token:e,factory:e.\u0275fac});let i=e;return i})();var H=(()=>{let e=class e{constructor(){this.dataService=d(u),this.configuration={content:y},this.data=a(null),this.jsonSchema=a({type:"object",properties:{name:{type:"string",description:"Name"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},department:{type:"string",description:"Department",enum:Object.values(m)},position:{type:"string",description:"Position",enum:Object.values(o)},dateOfJoining:{type:"date-time",description:"Date of Joining"},dateOfLeaving:{type:"date-time",description:"Date of Leaving"},status:{type:"string",description:"Status",enum:Object.values(c)}}}),this.controlsConfig=a([{id:"cancel",label:"Cancel",icon:"close",mode:"low-emphasis"},{id:"save",label:"Save",icon:"save"}]),this.updatedValue=a(void 0),this.heading=a("Add Employee"),this.overlayRef=a(null)}registerUpdateState(t){this.updateState=t,this.updateState({isDirty:!0})}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,r){switch(t){case"cancel":{this.data.set({}),this.overlayRef()?.close();break}case"save":{let s=this.updatedValue();s&&(s=Object.assign(s,{id:n.string.nanoid()}),this.dataService.add(s),this.overlayRef()?.close());break}}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l({token:e,factory:e.\u0275fac});let i=e;return i})();var G=(()=>{let e=class e{constructor(){this.overlayData=d(V,{optional:!0}),this.configuration={content:y},this.heading=a("Filter Employee"),this.overlayRef=a(null),this.data=a(this.overlayData?.filter??{}),this.jsonSchema=a({type:"object",properties:{department:{type:"string",description:"Department",enum:[""].concat(Object.values(m))},status:{type:"string",description:"Status",enum:[""].concat(Object.values(c))}}}),this.controlsConfig=a([{id:"cancel",label:"Cancel",icon:"close"},{id:"apply",label:"Apply",icon:"filter_alt"}]),this.updatedValue=a(void 0)}registerUpdateState(t){this.updateState=t,this.updateState({isDirty:!0})}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,r){switch(t){case"cancel":{this.overlayRef()?.close();break}case"apply":{let s=this.updatedValue();s&&(this.overlayData?.onFilterApply?.(s),this.overlayRef()?.close());break}}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l({token:e,factory:e.\u0275fac});let i=e;return i})();var B=(()=>{let e=class e{constructor(){this.dataService=d(u),this.actionDrawer=d(F),this.rawData=E(this.dataService.getList()),this.configuration={useVirtualScroll:!0},this.data=a([]),this.columnsConfig=a([{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"department",label:"Department"},{key:"position",label:"Position"},{key:"status",label:"Status"}]),this.columnsToDisplay=a(["name","email","phone","department","position","status"]),this.simpleFilterConfig=a({type:"object",properties:{department:{type:"string",description:"Department",enum:[""].concat(Object.values(m))},status:{type:"string",description:"Status",enum:[""].concat(Object.values(c))}}}),this.simpleFilterValue=a({}),this.controlsConfig=a([{id:"filter",label:"Advance Filters",icon:"filter_alt"},...P]),this.sortFn=h(()=>{let t=this.columnsConfig().find(s=>s.isSortedAsc||s.isSortedDesc);if(!t)return()=>0;let r=t.isSortedDesc?-1:1;return(s,p)=>{switch(t.key){default:return s[t.key]>p[t.key]?r:s[t.key]<p[t.key]?-1*r:0}}}),this.filterFn=h(()=>{let t=this.simpleFilterValue(),r=Object.values(t??{}).some(s=>!!s);return s=>r&&t.status&&s.status!=t.status?!1:!(r&&t.department&&s.department!=t.department)}),S(()=>{let t=this.rawData();t&&this.data.set(t.filter(this.filterFn()).sort(this.sortFn()))},{allowSignalWrites:!0})}routeToDetail(t){return["detail",t.id]}onHeaderCellClick(t,r){this.columnsConfig.update(s=>s.map(p=>p.key==t?O(f({},p),{isSortedAsc:!p.isSortedAsc&&!p.isSortedDesc?!0:!!p.isSortedDesc,isSortedDesc:!!p.isSortedAsc}):O(f({},p),{isSortedAsc:!1,isSortedDesc:!1})))}onUpdateSimpleFilter(t){this.simpleFilterValue.set(t)}onControlClick(t,r){switch(t){case"add":{this.actionDrawer.open(H,{providers:[{provide:R,useExisting:A}]});break}case"filter":{this.actionDrawer.open(G,{overlayData:{filter:this.simpleFilterValue(),onFilterApply:s=>this.simpleFilterValue.set(s)},providers:[{provide:R,useExisting:A}]});break}}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l({token:e,factory:e.\u0275fac});let i=e;return i})();var Gt=[{path:"",data:f({},g({title:"Employee"})),children:[{path:"detail/:id",component:D,data:f({},g({deps:[u],titleFn:(i,e)=>i.params.pipe(j(K=>e.getList().pipe(T(t=>t.find(r=>r.id==K.id)?.name??"--"))))})),providers:[{provide:C,useClass:x}],children:[{path:"",component:y,providers:[{provide:R,useClass:W}]}]},{path:"",component:D,providers:[{provide:C,useClass:M}],children:[{path:"",component:U,providers:[{provide:_,useClass:B}]}]}]}];export{Gt as ROUTES};
