import{a as Ve}from"./chunk-K6MWBR4L.js";import"./chunk-BRNWN2PY.js";import{a as X,c as je}from"./chunk-2X3EZACX.js";import{a as c}from"./chunk-C2G75J7Z.js";import"./chunk-HDUTYA6J.js";import{a as Le,b as U,c as W,d as H,e as P,f as Fe,g as N,h as Re,j as Pe,k as Ne,m as $,n as q,o as Me,p as Y,q as G}from"./chunk-FCGWZYH4.js";import{a as Oe}from"./chunk-5KUQE4MU.js";import{A as ce,C as ue,Ca as Ce,D as fe,Ea as B,Fa as xe,Ia as Se,Ka as be,L as D,P as u,Sa as Ee,Ta as De,Ua as Ie,Va as ke,Wa as _e,Xa as we,_a as Ae,b as j,ha as he,qb as Te,xa as ve,ya as ye,z as V,za as ge}from"./chunk-IE55STSM.js";import{$ as f,Bb as ae,Cb as se,Da as s,Db as o,Eb as r,Fb as m,Kb as le,Lb as de,Ra as l,Vb as pe,W as z,Wb as a,Xb as h,Yb as E,Zb as R,_ as te,bc as me,dc as J,ec as Q,fa as d,fb as b,mb as ie,q as S,vb as C,vc as p,wb as ne,yb as re,yc as O,zb as oe}from"./chunk-SJLNDPFN.js";import{a as M}from"./chunk-EQDQRRRY.js";var Be=(()=>{class t{constructor(){this.dataService=d(c),this.list=u(this.dataService.getList()),this.id=s(void 0),this.index=s(void 0),this.data=s(void 0),this.fieldConfiguration=s({type:"object",properties:{line1:{type:"string",description:"Line 1"},line2:{type:"string",description:"Line 2"},city:{type:"string",description:"City"},state:{type:"string",description:"State"},postalCode:{type:"string",description:"Postal Code"},country:{type:"string",description:"Country"}}}),this.isDirty=s(!1),this.updatedValue=s(void 0),this.controlsConfig=p(()=>this.isDirty()?H:W),O(()=>{this.data.set(D(this.list()?.find(e=>e.id==this.id())?.savedAddresses.at(Number(this.index()))))})}registerUpdateState(e){this.updateState=e}onStateChange(e){this.isDirty.update(n=>e.isDirty??n)}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,n){switch(e){case"refresh":case"cancel":{this.data.set(D(this.list()?.find(i=>i.id==this.id())?.savedAddresses.at(Number(this.index())))),this.updateState({isDirty:!1});break}case"save":{let i=this.updatedValue();i&&(this.dataService.updateAddress(this.id(),Number(this.index()),i),this.updateState({isDirty:!1}));break}}}onParamsChange(e,n){this.id.set(e.id),this.index.set(e.index)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=f({token:t,factory:t.\u0275fac})}}return t})();var Je=t=>["./",t],Qe=t=>({"border-primary-300 dark:border-primary-700 bg-hover":t});function Xe(t,v){if(t&1&&(o(0,"a",4,0)(2,"div",5)(3,"span",6),a(4),r(),o(5,"span",6),a(6),r(),o(7,"span",7),a(8),r()()()),t&2){let e=v.$implicit,n=v.$index,i=pe(1);C("routerLink",J(6,Je,n))("ngClass",J(8,Qe,i.isActive)),l(4),E(" ",e.line1," "),l(2),E(" ",e.line2," "),l(2),R("",e.city,", ",e.state,"")}}var Ue=(()=>{class t{constructor(){this.dataService=d(c),this.route=d(V),this.list=u(this.dataService.getList()),this.id=u(this.route.params.pipe(S(e=>e.id))),this.data=p(()=>this.list()?.find(e=>e.id==this.id())?.savedAddresses??[])}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["demo-customer-address"]],hostAttrs:[1,"contents"],decls:6,vars:0,consts:[["active","routerLinkActive"],[1,"flex","flex-row","gap-8","grow"],[1,"pui-card","rounded-4","basis-80","shrink-0","grow-0","p-4","h-fit","max-h-[calc(100svh_-_8.5rem)]","overflow-y-auto","sticky","top-26"],[1,"flex","flex-col","gap-4"],["routerLinkActive","","puiHoverable","",1,"rounded-3","pui-card--subtle","border","p-4","text-start","justify-start",3,"routerLink","ngClass"],[1,"flex","flex-col"],[1,"text-base","truncate"],[1,"text-sm","truncate","font-medium","text-neutral-800","dark:text-neutral-200"]],template:function(n,i){n&1&&(o(0,"div",1)(1,"div",2)(2,"div",3),ae(3,Xe,9,10,"a",4,oe),r()(),m(5,"router-outlet"),r()),n&2&&(l(3),se(i.data()))},dependencies:[Te,ve,ue,fe,j,ce],encapsulation:2})}}return t})();var K=(()=>{class t{constructor(){this.dataService=d(c),this.list=u(this.dataService.getList()),this.id=s(""),this.heading=p(()=>this.list()?.find(e=>e.id==this.id())?.name??"--"),this.tabs=s([{label:"Info",route:["info"]},{label:"Addresses",route:["address"]},{label:"Raw",route:["raw"]}]),this.routeToFullContent=p(()=>["../","customer",{outlets:{primary:["detail",this.id()],peek:null}}])}onParamsChange(e,n){this.id.set(e.id)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=f({token:t,factory:t.\u0275fac})}}return t})();var We=(()=>{class t{constructor(){this.dataService=d(c),this.list=u(this.dataService.getList()),this.id=s(void 0),this.data=s(void 0),this.fieldConfiguration=s({type:"object",properties:{name:{type:"string",description:"Name"},username:{type:"string",description:"Username"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},address:{type:"object",description:"Address",properties:{line1:{type:"string",description:"Line 1"},line2:{type:"string",description:"Line 2"},city:{type:"string",description:"City"},state:{type:"string",description:"State"},postalCode:{type:"string",description:"Postal Code"},country:{type:"string",description:"Country"}}},savedAddresses:{type:"array",description:"Saved Address",items:{type:"object",properties:{line1:{type:"string",description:"Line 1"},line2:{type:"string",description:"Line 2"},city:{type:"string",description:"City"},state:{type:"string",description:"State"},postalCode:{type:"string",description:"Postal Code"},country:{type:"string",description:"Country"}}}},registeredSince:{type:"date-time",description:"Registered Since",format:"yyyy MMMM dd"}}}),this.isDirty=s(!1),this.updatedValue=s(void 0),this.controlsConfig=p(()=>this.isDirty()?H:W),O(()=>{this.data.set(D(this.list()?.find(e=>e.id==this.id())))})}registerUpdateState(e){this.updateState=e}onStateChange(e){this.isDirty.update(n=>e.isDirty??n)}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,n){switch(e){case"refresh":case"cancel":{this.data.set(D(this.list()?.find(i=>i.id==this.id()))),this.updateState({isDirty:!1});break}case"save":{let i=this.updatedValue();i&&(this.dataService.save(i),this.updateState({isDirty:!1}));break}}}onParamsChange(e,n){this.id.set(e.id)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=f({token:t,factory:t.\u0275fac})}}return t})();var He=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["demo-media-manager-picker"]],decls:3,vars:3,consts:[[1,"px-2"],[3,"navigateWithRouter","folderId"],["id","confirm","mode","auto",3,"label"]],template:function(n,i){n&1&&(o(0,"div",0),m(1,"demo-media-manager-folder",1),r(),m(2,"pui-layout-control",2)),n&2&&(l(),C("navigateWithRouter",!1)("folderId",null),l(),C("label","Choose"))},dependencies:[Ve,Fe],encapsulation:2})}}return t})();var $e=(()=>{class t{constructor(){this.configuration={content:He},this.heading=s("Choose a file")}onActionDrawerInit(e){this.overlayRef=e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=f({token:t,factory:t.\u0275fac})}}return t})();var Ze=(t,v)=>({"bg-emerald-300 dark:bg-emerald-800":t,"border-emerald-300/70 dark:border-emerald-800/70":v}),et=(t,v)=>({"bg-amber-300 dark:bg-amber-800":t,"border-amber-300/70 dark:border-amber-800/70":v});function tt(t,v){if(t&1&&(o(0,"span",36),a(1),r(),o(2,"span",36),a(3),r(),o(4,"span",36),a(5),r(),o(6,"span",36),a(7),r()),t&2){let e,n,i,y,g=de();l(),h((e=g.customer())==null||e.address==null?null:e.address.line1),l(2),h((n=g.customer())==null||n.address==null?null:n.address.line2),l(2),R("",(i=g.customer())==null||i.address==null?null:i.address.city,", ",(i=g.customer())==null||i.address==null?null:i.address.state,""),l(2),R("",(y=g.customer())==null||y.address==null?null:y.address.country," ",(y=g.customer())==null||y.address==null?null:y.address.postalCode,"")}}function it(t,v){t&1&&(o(0,"span",36),a(1,"----"),r())}var qe=(()=>{class t{constructor(){this.dataService=d(c),this.inventoryItemService=d(je),this.route=d(V),this.list=u(this.dataService.getList()),this.id=u(this.route.params.pipe(S(e=>e.id))),this.allInventoryItems=u(this.inventoryItemService.getList()),this.actionDrawer=d(U),this.customer=p(()=>this.list()?.find(e=>e.id==this.id())),this.inventoryItems=p(()=>this.allInventoryItems()?.filter(e=>e.belongsTo==this.customer()?.id)??[]),this.awaitingPaymentsCount=p(()=>this.inventoryItems()?.filter(e=>e.status==X.OPEN).length),this.repackageCount=p(()=>this.inventoryItems()?.filter(e=>e.status==X.REPACKAGING).length),this.data=p(()=>this.inventoryItems().slice(0,5)),this.configuration={id:"customer-info-table"},this.columnsConfig=s([{key:"netWeight",label:"Net Weight (g)",fieldConfiguration:{type:"number"}},{key:"grossWeight",label:"Gross Weight (g)",fieldConfiguration:{type:"number"}},{key:"isContainFragile",label:"Fragile",fieldConfiguration:{type:"boolean"}},{key:"status",label:"Status"},{key:"arrivedAt",label:"Arrived",isAlignEnd:!0,isSortedDesc:!0,fieldConfiguration:{type:"date-time",format:"yyyy-MM-dd HH:mm"}}]),this.columnsToDisplay=s({default:["netWeight","status"],768:["netWeight","status","arrivedAt"],1280:["netWeight","grossWeight","isContainFragile","status","arrivedAt"]}),this.controlsConfig=s([])}routeToDetail(e){return["/","inventory","item","detail",e.id]}onProfilePicEdit(){this.actionDrawer.open($e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["demo-customer-info"]],hostAttrs:[1,"contents"],features:[me([{provide:$,useExisting:te(()=>t)}])],decls:113,vars:25,consts:[[1,"@container","grow"],[1,"grid","@screen-md:grid-cols-3","gap-8"],[1,"pui-card","rounded-4","p-8","overflow-hidden","@screen-md:col-span-2"],[1,"flex","flex-col","sm:flex-row","gap-4","items-stretch","h-full","overflow-x-auto"],[1,"rounded-3","flex-1","border","dark:bg-blue-800","flex","flex-col","p-4","transition-colors"],[1,"dark:text-blue-200","flex-none"],[1,"spacer"],[1,"text-2xl","font-bold","self-end","text-end","tabular-nums"],[1,"rounded-3","flex-1","border","dark:bg-emerald-800","flex","flex-col","p-4","transition-colors",3,"ngClass"],[1,"dark:text-emerald-200","flex-none"],[1,"rounded-3","flex-1","border","flex","flex-col","p-4","transition-colors",3,"ngClass"],[1,"dark:text-amber-200","flex-none"],[1,"pui-card","rounded-4","p-8","overflow-hidden"],[1,"flex","flex-col","items-center","gap-2"],[1,"p-4","rounded-full","bg-neutral-500","shadow-md","shadow-neutral-500","transition-colors","relative"],[1,"icon-10","font-variation-fill"],["puiBaseButton","","puiTooltip","Edit",1,"absolute","size-8","rounded-full","dark:bg-neutral-600","shadow-md","-bottom-2","-right-2","justify-center","items-center",3,"click"],[1,"icon-5","font-variation-weight-extra-light"],[1,"w-full","text-center","break-anywhere","whitespace-normal"],[1,"text-sm","text-center","text-neutral-800","dark:text-neutral-200","before:content-['#']"],[1,"text-base","text-center"],[3,"date","format"],[1,"pui-card","rounded-4","p-8","overflow-hidden","@screen-md:col-span-2","flex","flex-col"],[1,"flex-none"],[1,"flex","flex-row","justify-end","items-center"],["puiBorderedButton","","color","primary",1,"rounded-full","px-4","py-2"],[1,"pui-card","rounded-4","py-8","gap-6","overflow-hidden","flex","flex-col"],[1,"flex-none","px-4","@screen-lg/layout:px-8"],["puiFormFieldIcon",""],["puiFormFieldTitle",""],["puiFormFieldContent",""],[1,"flex","flex-col","pt-6","gap-4"],[1,"flex","flex-row","items-center","gap-2"],[1,"icon-6","font-variation-weight-light","text-neutral-800","dark:text-neutral-200"],[1,"flex","flex-col","gap-1"],[1,"text-sm","text-neutral-800","dark:text-neutral-200"],[1,"text-base"],[1,"text-base","break-anywhere"]],template:function(n,i){if(n&1&&(o(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),a(6,"Completed"),m(7,"br"),a(8,"Sales"),r(),m(9,"div",6),o(10,"span",7),a(11,"$2,000"),r()(),o(12,"div",8)(13,"h3",9),a(14,"Awaiting"),m(15,"br"),a(16,"Payments"),r(),m(17,"div",6),o(18,"span",7),a(19),r()(),o(20,"div",10)(21,"h3",11),a(22," Repackage"),m(23,"br"),a(24,"Requests "),r(),m(25,"div",6),o(26,"span",7),a(27),r()()()(),o(28,"div",12)(29,"div",13)(30,"div",14)(31,"i",15),a(32),r(),o(33,"button",16),le("click",function(){return i.onProfilePicEdit()}),o(34,"i",17),a(35,"edit"),r()()(),o(36,"h2",18),a(37),r(),o(38,"span",19),a(39),r(),o(40,"span",20),a(41,"Joined since "),m(42,"pui-time-display",21),r()()(),o(43,"div",22)(44,"h3",23),a(45,"Recent Inventory"),r(),m(46,"pui-table-content"),o(47,"div",24)(48,"button",25),a(49),r()()(),o(50,"div",26)(51,"h3",27),a(52,"Detailed information"),r(),o(53,"pui-form-display")(54,"pui-form-field")(55,"i",28),a(56,"person"),r(),o(57,"span",29),a(58,"Username"),r(),o(59,"span",30),a(60),r()(),o(61,"pui-form-field")(62,"i",28),a(63,"phone"),r(),o(64,"span",29),a(65,"Phone number"),r(),o(66,"span",30),a(67),r()()(),o(68,"div",31)(69,"div",32)(70,"i",33),a(71,"person"),r(),o(72,"div",34)(73,"span",35),a(74,"Fullname"),r(),o(75,"span",36),a(76),r()()(),m(77,"pui-divider"),o(78,"div",32)(79,"i",33),a(80,"person"),r(),o(81,"div",34)(82,"span",35),a(83,"Username"),r(),o(84,"span",37),a(85),r()()(),m(86,"pui-divider"),o(87,"div",32)(88,"i",33),a(89,"phone"),r(),o(90,"div",34)(91,"span",35),a(92,"Phone number"),r(),o(93,"span",37),a(94),r()()(),m(95,"pui-divider"),o(96,"div",32)(97,"i",33),a(98,"email"),r(),o(99,"div",34)(100,"span",35),a(101,"Email address"),r(),o(102,"span",37),a(103),r()()(),m(104,"pui-divider"),o(105,"div",32)(106,"i",33),a(107,"location_on"),r(),o(108,"div",34)(109,"span",35),a(110,"Main address"),r(),ie(111,tt,8,6)(112,it,2,0,"span",36),r()()()()()()),n&2){let y,g,I,k,Z,_,w,A,T,L,F,ee;l(12),C("ngClass",Q(19,Ze,i.awaitingPaymentsCount()>0,i.awaitingPaymentsCount()==0)),l(7),h(i.awaitingPaymentsCount()),l(),C("ngClass",Q(22,et,i.repackageCount()>0,i.repackageCount()==0)),l(7),h(i.repackageCount()),l(3),ne("--color-neutral-500",(y=i.customer())==null||y.profile==null?null:y.profile.color),l(2),h((g=i.customer())==null||g.profile==null?null:g.profile.icon),l(5),E(" ",(I=(I=i.customer())==null?null:I.username)!==null&&I!==void 0?I:"---"," "),l(2),h((k=(k=i.customer())==null?null:k.id)!==null&&k!==void 0?k:"----"),l(3),C("date",(Z=i.customer())==null?null:Z.registeredSince)("format","dd MMM yyyy"),l(7),E(" View all (",i.inventoryItems().length,") "),l(11),h((_=(_=i.customer())==null?null:_.username)!==null&&_!==void 0?_:"----"),l(7),h((w=(w=i.customer())==null?null:w.phone)!==null&&w!==void 0?w:"----"),l(9),h((A=(A=i.customer())==null?null:A.name)!==null&&A!==void 0?A:"----"),l(9),h((T=(T=i.customer())==null?null:T.username)!==null&&T!==void 0?T:"----"),l(9),h((L=(L=i.customer())==null?null:L.phone)!==null&&L!==void 0?L:"----"),l(9),h((F=(F=i.customer())==null?null:F.email)!==null&&F!==void 0?F:"----"),l(8),re((ee=i.customer())!=null&&ee.address?111:112)}},dependencies:[be,Se,q,Ce,ye,ge,j,xe,we,De,Ee,_e,Ie,ke],styles:["demo-customer-info .pui-table-content main{background-color:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);-webkit-backdrop-filter:none;backdrop-filter:none;padding-left:0;padding-right:0}"]})}}return t})();var Ye=(()=>{class t{constructor(){this.heading=s("Customers"),this.tabs=s([])}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=f({token:t,factory:t.\u0275fac})}}return t})();var Ge=(()=>{class t{constructor(){this.dataService=d(c),this.configuration={content:N},this.data=s(null),this.fieldConfiguration=s({type:"object",properties:{name:{type:"string",description:"Name"},username:{type:"string",description:"Username"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},address:{type:"object",description:"Address",properties:{line1:{type:"string",description:"Line 1"},line2:{type:"string",description:"Line 2"},city:{type:"string",description:"City"},state:{type:"string",description:"State"},postalCode:{type:"string",description:"Postal Code"},country:{type:"string",description:"Country"}}},savedAddresses:{type:"array",description:"Saved Addresses",items:{type:"object",description:"Address",properties:{line1:{type:"string",description:"Line 1"},line2:{type:"string",description:"Line 2"},city:{type:"string",description:"City"},state:{type:"string",description:"State"},postalCode:{type:"string",description:"Postal Code"},country:{type:"string",description:"Country"}}}},registeredSince:{type:"date-time",description:"Registered Since"}}}),this.controlsConfig=s([{id:"cancel",label:"Cancel",icon:"close",mode:"low-emphasis"},{id:"save",label:"Save",icon:"save"}]),this.updatedValue=s(void 0),this.heading=s("Add Customer")}registerUpdateState(e){this.updateState=e,this.updateState({isDirty:!0})}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,n){switch(e){case"cancel":{this.data.set({}),this.overlayRef.close();break}case"save":{let i=this.updatedValue();i&&(i=Object.assign(i,{id:Oe.string.nanoid()}),this.dataService.add(i),this.overlayRef.close());break}}}onActionDrawerInit(e){this.overlayRef=e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=f({token:t,factory:t.\u0275fac})}}return t})();var Ke=(()=>{class t{constructor(){this.dataService=d(c),this.actionDrawer=d(U),this.screenWidth=d(he),this.rawData=u(this.dataService.getList()),this.configuration={id:"customer-table",useVirtualScroll:!0},this.isLoading=u(this.dataService.isLoading$,{initialValue:!0}),this.data=p(()=>(this.rawData()??[]).filter(this.filterFn()).toSorted(this.sortFn())),this.columnsConfig=s([{key:"name",label:"Name"},{key:"username",label:"Username"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"line2",path:"address.line2",label:"Address (Line 2)"},{key:"registeredSince",label:"Registered",isAlignEnd:!0,isSortedDesc:!0,fieldConfiguration:{type:"date-time",format:"yyyy-MM-dd HH:mm"}}]),this.columnsToDisplay=s({default:["name","phone"],768:["name","email","phone","registeredSince"],1536:["name","username","email","phone","line2","registeredSince"]}),this.filterConfig=s({type:"object",properties:{name:{type:"string",description:"Name"},id:{type:"string",description:"ID"}}}),this.filterValue=s({}),this.sortFn=p(()=>Ne(this.columnsConfig())),this.filterFn=p(()=>Pe(this.filterValue(),{id:(e,n,i)=>!!i&&e.id.toLowerCase().includes(i.toLowerCase()),name:(e,n,i)=>!!i&&(e.username.toLowerCase().includes(i.toLowerCase())||e.name.toLowerCase().includes(i.toLowerCase()))}))}routeToDetail(e){return this.screenWidth.above().sm()?["../","customer",{outlets:{peek:[e.id]}}]:["../","customer","detail",e.id]}onHeaderCellClick(e,n){this.columnsConfig.update(i=>Me(i,e))}onFilterChange(e){this.filterValue.set(e)}onControlClick(e,n){switch(e){case"add":{this.actionDrawer.open(Ge,{providers:[{provide:P,useExisting:Le}]});break}case"refresh":{this.dataService.refresh();break}}}onScrolledToBottom(){this.dataService.loadMore()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=f({token:t,factory:t.\u0275fac})}}return t})();var ze=[{path:"info",component:qe},{path:"address",component:Ue,children:[{path:":index",component:N,providers:[{provide:P,useClass:Be}]}]},{path:"raw",component:N,canDeactivate:[Ae],providers:[{provide:P,useClass:We}]},{path:"**",redirectTo:"info"}],Ai=[{path:"",data:M({},B({title:"Customer"})),children:[{path:"detail/:id",component:G,data:M({},B({deps:[c],titleFn:(t,v)=>t.params.pipe(z(e=>v.getList().pipe(S(n=>n.find(i=>i.id==e.id)?.name??"--"))))})),providers:[{provide:Y,useClass:K}],children:ze},{path:"",component:G,providers:[{provide:Y,useClass:Ye},{provide:Re,useClass:K}],children:[{path:":id",outlet:"peek",component:G,data:M({},B({deps:[c],titleFn:(t,v)=>t.params.pipe(z(e=>v.getList().pipe(S(n=>n.find(i=>i.id==e.id)?.name??"--"))))})),providers:[{provide:Y,useClass:K}],children:ze},{path:"",component:q,providers:[{provide:$,useClass:Ke}]}]}]}];export{Ai as ROUTES};
