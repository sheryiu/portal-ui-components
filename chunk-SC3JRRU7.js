import{a as e}from"./chunk-QLEH2ZB5.js";import{M as b}from"./chunk-YLZ6PUFM.js";import{$ as u,K as f,N as c,ea as h,g as m,nb as d}from"./chunk-LVH4HSPS.js";import{a as o,b as p}from"./chunk-C6Q5SG76.js";var n=(function(i){return i.FOLDER="Folder",i.FILE="File",i})(n||{});var x=(()=>{let r=class r{constructor(){this.appRef=h(d),this.list=new m([]),this.isInitialized=!1}createMock(){let t=e.helpers.enumValue(n);return{id:e.string.nanoid(),filename:t==n.FILE?e.system.fileName():e.hacker.noun(),type:t,sizeBytes:t==n.FILE?e.number.int({min:100,max:1e7}):null,belongsInFolderId:null,createdAt:e.date.anytime(),lastModifiedAt:e.date.anytime(),thumbnail:t==n.FILE?e.helpers.maybe(()=>"https://picsum.photos/160/90")??null:null}}initialize(){this.isInitialized||(this.isInitialized=!0,this.list.next(Array(200).fill(0).map(()=>this.createMock()).map((t,l,s)=>{let a=s.filter(y=>y.type==n.FOLDER);return a.length>0?p(o({},t),{belongsInFolderId:e.helpers.maybe(()=>e.helpers.arrayElement(a).id,{probability:.8})??null}):t})))}getList(){return this.appRef.isStable.pipe(c(t=>t),f(100)).subscribe(()=>{this.initialize()}),this.list}save(t,l){this.list.next(this.list.value.map(s=>s.id==t?b(s,l):s))}};r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();export{n as a,x as b};
