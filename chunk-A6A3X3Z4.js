import{a as E}from"./chunk-MMDBPURS.js";import{a as g}from"./chunk-O4OZFBT7.js";import{a as e}from"./chunk-5KUQE4MU.js";import{A as a,Ba as f,b as p,g as m,p as u,q as o,x as d}from"./chunk-GA4IGTFJ.js";var l=function(i){return i.OPEN="Open",i.REPACKAGING="Repackaging",i.WAITING_FOR_DELIVERY="Waiting for delivery",i.DELIVERED="Delivered",i.EXPIRED="Expired",i}(l||{}),c=function(i){return i.ACCESSORY="Accessory",i.BOOK="Book",i.CDDVD="CD / DVD",i.CLOTHING="Clothing",i.ELECTRONICS="Electronics",i.FOOD="Food",i.GOODS="Goods",i.INSTRUMENT="Instrument",i.STATIONARY="Stationary",i.UTENSIL="Utensil",i.OTHERS="Others",i}(c||{});var k=(()=>{let s=class s{constructor(){this.appRef=a(f),this.customerData=a(E),this.inventoryShelfData=a(g),this.list=new p([]),this.isInitialized=!1}createMock(r,t){let n=e.helpers.rangeToNumber({min:250,max:1500}),h=e.helpers.enumValue(l);return{id:e.string.nanoid(),netWeight:n,grossWeight:n+e.helpers.rangeToNumber({min:400,max:800}),contents:Array(e.helpers.rangeToNumber({min:1,max:3})).fill(0).map(()=>({id:e.string.nanoid(),type:e.helpers.enumValue(c),description:e.commerce.productName(),isbn:e.helpers.maybe(()=>e.commerce.isbn())??null,quantity:1,totalPrice:e.helpers.rangeToNumber({min:100,max:2500})/10})),isContainFragile:e.datatype.boolean(),arrivedAt:e.date.past({years:1}),belongsTo:e.helpers.arrayElement(r).id,status:h,locatedIn:h==l.EXPIRED?null:e.helpers.arrayElement(t).id}}initialize(){this.isInitialized||(this.isInitialized=!0,m([this.customerData.getList(),this.inventoryShelfData.getList()]).pipe(o(([r,t])=>r.length>0&&t.length>0)).subscribe(([r,t])=>{this.list.next(Array(100).fill(0).map(()=>this.createMock(r,t)))}))}getList(){return this.appRef.isStable.pipe(o(r=>r),u(50)).subscribe(()=>{this.initialize()}),this.list}save(r){this.list.next(this.list.value.map(t=>t.id==r.id?r:t))}add(r){this.list.next(this.list.value.toSpliced(0,0,r))}};s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=d({token:s,factory:s.\u0275fac,providedIn:"root"});let i=s;return i})();export{l as a,c as b,k as c};
