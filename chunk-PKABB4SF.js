import{B as k,C as F,Ja as N,K as d,Mb as $,P as u,S as T,T as _,Ta as j,U as H,V as l,W as c,X as C,aa as m,ba as w,fa as E,hb as B,i as g,ia as Y,ja as z,la as M,ma as v,qa as O,ua as W,va as L}from"./chunk-FL6MBFAD.js";var U=Math.pow(10,8)*24*60*60*1e3,it=-U;var X=3600;var A=X*24,st=A*7,Z=A*365.2425,tt=Z/12,at=tt*3,S=Symbol.for("constructDateFrom");function f(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&S in e?e[S](t):e instanceof Date?new e.constructor(t):new Date(t)}function i(e,t){return f(t||e,e)}var et={};function h(){return et}function Q(e,t){let o=h(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,r=i(e,t?.in),a=r.getDay(),p=(a<n?7:0)+a-n;return r.setDate(r.getDate()-p),r.setHours(0,0,0,0),r}function b(e,...t){let o=f.bind(null,e||t.find(n=>typeof n=="object"));return t.map(o)}function I(e,t){let o=i(e,t?.in);return o.setHours(0,0,0,0),o}function R(e,t,o){let[n,r]=b(o?.in,e,t);return+I(n)==+I(r)}function V(e,t){let o=i(e,t?.in),n=o.getMonth();return o.setFullYear(o.getFullYear(),n+1,0),o.setHours(23,59,59,999),o}function q(e,t){let[o,n]=b(e,t.start,t.end);return{start:o,end:n}}function P(e,t){let{start:o,end:n}=q(t?.in,e),r=+o>+n,a=r?+o:+n,p=r?n:o;p.setHours(0,0,0,0);let s=t?.step??1;if(!s)return[];s<0&&(s=-s,r=!r);let D=[];for(;+p<=a;)D.push(f(o,p)),p.setDate(p.getDate()+s),p.setHours(0,0,0,0);return r?D.reverse():D}function G(e,t){let o=i(e,t?.in);return o.setDate(1),o.setHours(0,0,0,0),o}function J(e,t){let o=h(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,r=i(e,t?.in),a=r.getDay(),p=(a<n?-7:0)+6-(a-n);return r.setDate(r.getDate()+p),r.setHours(23,59,59,999),r}function K(e,t){return i(e,t?.in).getDate()}function x(e,t){return i(e,t?.in).getMonth()}function y(e,t){return i(e,t?.in).getFullYear()}var ot=(e,t)=>({"border-b":e,"border-r":t}),nt=(e,t,o)=>({"dark:text-neutral-300":e,"font-bold":t,"text-white before:rounded-full before:-top-1 before:-bottom-0.5 before:-left-3 before:-right-3 before:absolute before:-z-10 before:bg-primary-700":o});function rt(e,t){if(e&1&&(l(0,"div",8)(1,"span",12),m(2),M(3,"date"),c()()),e&2){let o=t.$implicit,n=t.$index;u("ngClass",Y(6,ot,n<28,n%7!=6)),d(),u("ngClass",z(9,nt,(o.isLastMonth||o.isNextMonth)&&!o.isToday,!o.isLastMonth&&!o.isNextMonth,o.isToday)),d(),w(v(3,3,o.date,o.isStartOfMonth?"MMM dd":"dd"))}}var Ut=(()=>{let t=class t{constructor(){this.route=k(N),this.timestamp=j(this.route.params.pipe(g(n=>n.timestamp),g(n=>Number(n)))),this.selectedTime=O(()=>{let n=this.timestamp();return n!=null&&n!=-1?new Date(n):new Date}),this.daysVisible=O(()=>{let n=this.selectedTime();if(n==null)return[];let r=new Date,a=Q(G(n),{weekStartsOn:0}),p=J(V(n),{weekStartsOn:0});return P({start:a,end:p}).map(s=>({date:s,isLastMonth:x(s)<x(n)?!0:y(s)<y(s),isNextMonth:x(s)>x(n)?!0:y(s)>y(s),isStartOfMonth:K(s)==1,isToday:R(s,r)}))})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=F({type:t,selectors:[["demo-employee-calendar-monthly"]],hostAttrs:[1,"contents"],standalone:!0,features:[E],decls:26,vars:7,consts:[[1,"@container","grow","flex","flex-col"],[1,"light-glass-bg","rounded-4","h-full","grow","overflow-hidden","flex","flex-col"],[1,"rounded-t-4","px-8","pt-6","pb-12","bg-gradient-to-br","from-primary-800/20","to-primary-900/20"],[1,"text-xl","font-display"],[1,"grow","-mt-6","bg-neutral-800","rounded-t-4","border-t","grid","grid-cols-7","grid-rows-[min-content_repeat(5,1fr)]"],[1,"text-center","pt-2","pb-1","uppercase","font-bold","text-base/none","dark:text-red-400","border-r"],[1,"text-center","pt-2","pb-1","uppercase","font-bold","text-base/none","border-r"],[1,"text-center","pt-2","pb-1","uppercase","font-bold","text-base/none","dark:text-red-400"],["puiHoverable","",1,"flex","flex-col","items-center","justify-start",3,"ngClass"],["id","lastMonth","label","Last month","mode","low-emphasis","icon","arrow_back",3,"weight"],["id","today","label","Today","mode","auto","icon","today",3,"weight"],["id","nextMonth","label","Next month","mode","low-emphasis","icon","arrow_forward",3,"weight"],[1,"mt-2","text-base/none","relative","z-0",3,"ngClass"]],template:function(r,a){r&1&&(l(0,"div",0)(1,"main",1)(2,"div",2)(3,"span",3),m(4),M(5,"date"),c()(),l(6,"div",4)(7,"div",5),m(8,"Sun"),c(),l(9,"div",6),m(10,"Mon"),c(),l(11,"div",6),m(12,"Tue"),c(),l(13,"div",6),m(14,"Wed"),c(),l(15,"div",6),m(16,"Thu"),c(),l(17,"div",6),m(18,"Fri"),c(),l(19,"div",7),m(20,"Sat"),c(),_(21,rt,4,13,"div",8,T),c()()(),C(23,"pui-layout-control",9)(24,"pui-layout-control",10)(25,"pui-layout-control",11)),r&2&&(d(4),w(v(5,4,a.selectedTime(),"MMMM yyyy")),d(17),H(a.daysVisible()),d(2),u("weight",-100),d(),u("weight",0),d(),u("weight",100))},dependencies:[$,B,L,W]});let e=t;return e})();export{Ut as EmployeeCalendarMonthlyComponent};
