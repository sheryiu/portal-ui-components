import{a}from"./chunk-QLEH2ZB5.js";import{M as d}from"./chunk-UG5YWBUR.js";import{I as h,L as p,X as l,aa as c,f as n,jb as m}from"./chunk-456UTSJA.js";var x=(()=>{class s{constructor(){this.appRef=c(m),this.list=new n([]),this.widthMap=new Map,this.depthMap=new Map,this.isInitialized=!1}createMock(e,t,i){let o=this.widthMap.has(e)?this.widthMap.get(e):a.helpers.rangeToNumber({min:1500,max:3500});this.widthMap.set(e,o);let r=this.depthMap.has(t)?this.depthMap.get(t):a.helpers.rangeToNumber({min:1e3,max:2e3});return this.depthMap.set(t,r),{id:a.string.nanoid(),location:{row:t,aisle:e,layer:i},isAllowFragileItems:a.datatype.boolean(.25),maxCapacity:a.helpers.rangeToNumber({min:10,max:50})*1e3,dimensions:{width:o,depth:r,height:a.helpers.rangeToNumber({min:1200,max:5e3})}}}initialize(){if(this.isInitialized)return;this.isInitialized=!0;let e=[];for(let t=97;t<=107;t++)for(let i=1;i<=8;i++){let o=a.helpers.rangeToNumber({min:3,max:6});for(let r=0;r<o;r++)e.push(this.createMock(String.fromCharCode(t),i,r))}this.list.next(e.sort((t,i)=>t.location.layer-i.location.layer).sort((t,i)=>t.location.row-i.location.row).sort((t,i)=>t.location.aisle.charCodeAt(0)-i.location.aisle.charCodeAt(0)))}getList(){return this.appRef.isStable.pipe(p(e=>e),h(1e3)).subscribe(()=>{this.initialize()}),this.list}save(e,t){this.list.next(this.list.value.map(i=>i.id==e?d(i,t):i))}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{x as a};
