import{d as a,e as d}from"./chunk-CQ6MXSLE.js";import{a as r}from"./chunk-5KUQE4MU.js";import{$ as s,Da as l,K as m,N as o,fa as n,g as p,sb as h}from"./chunk-UVKU2DKY.js";var L=(()=>{class i{constructor(){this.appRef=n(h),this.list=new p([]),this.employeeData=n(d),this.isInitialized=!1}createMock(e){let t=r.date.past({years:1}),f=r.date.between({from:t,to:new Date(t.getTime()+5*24*36e5)}),c=r.helpers.arrayElement([a.ANNUAL_LEAVE,a.BUSINESS_TRIP,a.PERSONAL_LEAVE,a.SICK_LEAVE]);return{id:r.string.nanoid(),employeeId:e.id,startsFrom:t,endsAt:f,isFullDay:[a.ANNUAL_LEAVE,a.PERSONAL_LEAVE,a.SICK_LEAVE].includes(c),type:c,label:r.lorem.lines(1)}}initialize(){this.isInitialized||(this.isInitialized=!0,this.employeeData.getList().pipe(o(e=>e.length>0)).subscribe(e=>{this.list.next(e.map(t=>this.createMock(t)))}))}getList(){return this.appRef.isStable.pipe(o(e=>e),m(1e3)).subscribe(()=>{this.initialize()}),this.list}save(e){this.list.next(this.list.value.map(t=>t.id==e.id?e:t))}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var w=(()=>{class i{constructor(){this.heading=l("Employee Calendar"),this.tabs=l([{label:"Monthly",route:["monthly","-1"]},{label:"Weekly",route:["weekly"]},{label:"Data",route:["data"]}]),this.storedSelectedTime=new Date}updateSelectedTime(e){this.storedSelectedTime=e}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=s({token:i,factory:i.\u0275fac})}}return i})();export{L as a,w as b};
