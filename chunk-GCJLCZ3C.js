import{d as a,e as u}from"./chunk-57673U52.js";import{a as r}from"./chunk-QLEH2ZB5.js";import{M as f}from"./chunk-UG5YWBUR.js";import{I as d,L as n,X as o,aa as l,f as p,jb as h,pa as c}from"./chunk-456UTSJA.js";var v=(()=>{class t{constructor(){this.appRef=l(h),this.list=new p([]),this.employeeData=l(u),this.isInitialized=!1}createMock(e){let i=r.date.past({years:1}),s=r.date.between({from:i,to:new Date(i.getTime()+120*36e5)}),m=r.helpers.arrayElement([a.ANNUAL_LEAVE,a.BUSINESS_TRIP,a.PERSONAL_LEAVE,a.SICK_LEAVE]);return{id:r.string.nanoid(),employeeId:e.id,startsFrom:i,endsAt:s,isFullDay:[a.ANNUAL_LEAVE,a.PERSONAL_LEAVE,a.SICK_LEAVE].includes(m),type:m,label:r.lorem.lines(1)}}initialize(){this.isInitialized||(this.isInitialized=!0,this.employeeData.getList().pipe(n(e=>e.length>0)).subscribe(e=>{this.list.next(e.map(i=>this.createMock(i)))}))}getList(){return this.appRef.isStable.pipe(n(e=>e),d(1e3)).subscribe(()=>{this.initialize()}),this.list}save(e,i){this.list.next(this.list.value.map(s=>s.id==e?f(s,i):s))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=o({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var w=(()=>{class t{constructor(){this.heading=c("Employee Calendar"),this.tabs=c([{label:"Monthly",route:["monthly","-1"]},{label:"Weekly",route:["weekly"]},{label:"Data",route:["data"]}]),this.storedSelectedTime=new Date}updateSelectedTime(e){this.storedSelectedTime=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=o({token:t,factory:t.\u0275fac})}}return t})();export{v as a,w as b};
