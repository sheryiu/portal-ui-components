import{a as e}from"./chunk-QLEH2ZB5.js";import{M as d}from"./chunk-WX3TDQFG.js";import{I as m,L as c,X as f,aa as u,f as p,jb as h}from"./chunk-456UTSJA.js";import{a as l,b as o}from"./chunk-C6Q5SG76.js";var r=(function(i){return i.FOLDER="Folder",i.FILE="File",i})(r||{});var k=(()=>{class i{constructor(){this.appRef=u(h),this.list=new p([]),this.isInitialized=!1}createMock(){let t=e.helpers.enumValue(r);return{id:e.string.nanoid(),filename:t==r.FILE?e.system.fileName():e.hacker.noun(),type:t,sizeBytes:t==r.FILE?e.number.int({min:100,max:1e7}):null,belongsInFolderId:null,createdAt:e.date.anytime(),lastModifiedAt:e.date.anytime(),thumbnail:t==r.FILE?e.helpers.maybe(()=>"https://picsum.photos/160/90")??null:null}}initialize(){this.isInitialized||(this.isInitialized=!0,this.list.next(Array(200).fill(0).map(()=>this.createMock()).map((t,s,n)=>{let a=n.filter(b=>b.type==r.FOLDER);return a.length>0?o(l({},t),{belongsInFolderId:e.helpers.maybe(()=>e.helpers.arrayElement(a).id,{probability:.8})??null}):t})))}getList(){return this.appRef.isStable.pipe(c(t=>t),m(100)).subscribe(()=>{this.initialize()}),this.list}save(t,s){this.list.next(this.list.value.map(n=>n.id==t?d(n,s):n))}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{r as a,k as b};
