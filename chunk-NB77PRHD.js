import{a}from"./chunk-QLEH2ZB5.js";import{M as f}from"./chunk-4CV2DTBE.js";import{$ as c,K as p,N as l,ea as m,g as h,nb as d}from"./chunk-LVH4HSPS.js";var y=(()=>{let r=class r{constructor(){this.appRef=m(d),this.list=new h([]),this.widthMap=new Map,this.depthMap=new Map,this.isInitialized=!1}createMock(e,t,i){let o=this.widthMap.has(e)?this.widthMap.get(e):a.helpers.rangeToNumber({min:1500,max:3500});this.widthMap.set(e,o);let s=this.depthMap.has(t)?this.depthMap.get(t):a.helpers.rangeToNumber({min:1e3,max:2e3});return this.depthMap.set(t,s),{id:a.string.nanoid(),location:{row:t,aisle:e,layer:i},isAllowFragileItems:a.datatype.boolean(.25),maxCapacity:a.helpers.rangeToNumber({min:10,max:50})*1e3,dimensions:{width:o,depth:s,height:a.helpers.rangeToNumber({min:1200,max:5e3})}}}initialize(){if(this.isInitialized)return;this.isInitialized=!0;let e=[];for(let t=97;t<=107;t++)for(let i=1;i<=8;i++){let o=a.helpers.rangeToNumber({min:3,max:6});for(let s=0;s<o;s++)e.push(this.createMock(String.fromCharCode(t),i,s))}this.list.next(e.sort((t,i)=>t.location.layer-i.location.layer).sort((t,i)=>t.location.row-i.location.row).sort((t,i)=>t.location.aisle.charCodeAt(0)-i.location.aisle.charCodeAt(0)))}getList(){return this.appRef.isStable.pipe(l(e=>e),p(1e3)).subscribe(()=>{this.initialize()}),this.list}save(e,t){this.list.next(this.list.value.map(i=>i.id==e?f(i,t):i))}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();export{y as a};
