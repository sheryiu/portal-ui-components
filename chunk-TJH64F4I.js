import{b as F}from"./chunk-X3RRXTK5.js";import{c as T,d as y,e as D,g as b,h as A,j as E,k as g,l as v,m as I,n as k,o as S,p as d,q as c}from"./chunk-YNYHW5CE.js";import"./chunk-5KUQE4MU.js";import{J as m,ba as C,va as l}from"./chunk-YSJMDZIT.js";import{$a as r,aa as n,ga as h,q as u,wc as o}from"./chunk-O4SB2AXP.js";import{a as s}from"./chunk-EQDQRRRY.js";var p=(()=>{let t=class t{constructor(){this.id=r(void 0),this.heading=o(()=>this.id()??"--"),this.tabs=r([{label:"Raw",route:["raw"]}]),this.routeToFullContent=o(()=>["../","media",{outlets:{primary:["detail",this.id()],peek:null}}])}onParamsChange(e,a){this.id.set(e.id)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=n({token:t,factory:t.\u0275fac});let i=t;return i})();var L=(()=>{let t=class t{constructor(){this.id=r(void 0),this.isDirty=r(!1),this.updatedValue=r(void 0),this.data=r(void 0),this.fieldConfiguration=r({type:"object",properties:{}}),this.controlsConfig=o(()=>this.isDirty()?y:T)}registerUpdateState(e){this.updateState=e}onStateChange(e){this.isDirty.update(a=>e.isDirty??a)}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,a){switch(e){case"refresh":break;case"cancel":{this.updateState({isDirty:!1});break}case"save":{this.updateState({isDirty:!1});break}}}onParamsChange(e,a){this.id.set(e.id)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=n({token:t,factory:t.\u0275fac});let i=t;return i})();var O=(()=>{let t=class t{constructor(){this.heading=r("Media"),this.tabs=r([{label:"Files",route:["file"]},{label:"Raw",route:["raw"]}])}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=n({token:t,factory:t.\u0275fac});let i=t;return i})();var w=(()=>{let t=class t{constructor(){this.dataService=h(F),this.screenWidth=h(C),this.rawData=m(this.dataService.getList()),this.configuration={useVirtualScroll:!0},this.data=o(()=>(this.rawData()??[]).toSorted(this.sortFn()).filter(this.filterFn())),this.columnsConfig=r([{key:"filename",label:"Filename"},{key:"sizeBytes",label:"Size (Bytes)"},{key:"type",label:"Type"},{key:"createdAt",label:"Created At",fieldConfiguration:{type:"date-time"}},{key:"lastModifiedAt",label:"Last Modified At",fieldConfiguration:{type:"date-time"}}]),this.columnsToDisplay=r({default:["filename","sizeBytes"],768:["filename","sizeBytes","createdAt"],1280:["filename","sizeBytes","type","createdAt","lastModifiedAt"]}),this.controlsConfig=r(v),this.filterConfig=r({type:"object",properties:{}}),this.filterValue=r({}),this.sortFn=o(()=>g(this.columnsConfig())),this.filterFn=o(()=>E(this.filterValue(),{}))}routeToDetail(e){return this.screenWidth.above().sm()?["../../","media",{outlets:{peek:[e.id]}}]:["../","detail",e.id]}onHeaderCellClick(e,a){this.columnsConfig.update(N=>S(N,e))}onFilterChange(e){this.filterValue.set(e)}onControlClick(e,a){switch(e){case"add":break;case"refresh":break}}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=n({token:t,factory:t.\u0275fac});let i=t;return i})();var R=[{path:"raw",component:b,providers:[{provide:D,useClass:L}]},{path:"**",redirectTo:"raw"}],at=[{path:"",data:s({},l({title:"Media"})),children:[{path:"detail/:id",component:c,data:s({},l({titleFn:i=>i.params.pipe(u(t=>t.id))})),providers:[{provide:d,useClass:p}],children:R},{path:"",component:c,providers:[{provide:d,useClass:O},{provide:A,useClass:p}],children:[{path:":id",outlet:"peek",component:c,data:s({},l({titleFn:i=>i.params.pipe(u(t=>t.id))})),providers:[{provide:d,useClass:p}],children:R},{path:"file",children:[{path:"null",loadComponent:()=>import("./chunk-YZZB7U2C.js").then(i=>i.MediaManagerComponent)},{path:":folderId",loadComponent:()=>import("./chunk-YZZB7U2C.js").then(i=>i.MediaManagerComponent)},{path:"**",redirectTo:"null"}]},{path:"raw",component:k,providers:[{provide:I,useClass:w}]},{path:"**",redirectTo:"file"}]}]}];export{at as ROUTES};
