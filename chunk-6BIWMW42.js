import{a as p}from"./chunk-AQZ7OKGA.js";import{c as T,d as N,e as I,g as w,k as M,m as E,n as A,o as F,p as f,q as g}from"./chunk-LPOYXDON.js";import"./chunk-54KRQ4XJ.js";import{Da as h,K as u,O as d}from"./chunk-IVXI4S32.js";import{$ as r,Ab as D,Vb as C,ab as b,ea as l,pc as s,q as y,qc as S,ra as a,zb as v}from"./chunk-PPNSUE6H.js";import{a as c}from"./chunk-EQDQRRRY.js";var L=(()=>{let e=class e{constructor(){this.dataService=l(p),this.list=d(this.dataService.getList()),this.id=a(void 0),this.heading=s(()=>{let t=this.list()?.find(o=>o.id==this.id())?.location;return t?`${t.aisle.toUpperCase()}${t.row} - ${t.layer}`:"--"}),this.tabs=a([{label:"Raw",route:["./"]}])}onParamsChange(t,o){this.id.set(t.id)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=r({token:e,factory:e.\u0275fac});let i=e;return i})();var R=(()=>{let e=class e{constructor(){this.dataService=l(p),this.list=d(this.dataService.getList()),this.id=a(void 0),this.data=a(void 0),this.fieldConfiguration=a({type:"object",properties:{location:{type:"object",description:"Shelf Location",properties:{aisle:{type:"string",description:"Aisle"},row:{type:"number",description:"Row"},layer:{type:"number",description:"Layer"}}},maxCapacity:{type:"number",description:"Maximum Capacity (grams)"},isAllowFragileItems:{type:"boolean",description:"Allows Fragile Items Inside"},dimensions:{type:"object",description:"Dimension",properties:{width:{type:"number",description:"Width (millimeters)"},depth:{type:"number",description:"Depth (millimeters)"},height:{type:"number",description:"Height (millimeters)"}}}}}),this.isDirty=a(!1),this.updatedValue=a(void 0),this.controlsConfig=s(()=>this.isDirty()?N:T),S(()=>{this.data.set(u(this.list()?.find(t=>t.id==this.id())))})}registerUpdateState(t){this.updateState=t}onStateChange(t){this.isDirty.update(o=>t.isDirty??o)}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,o){switch(t){case"refresh":case"cancel":{this.data.set(u(this.list()?.find(n=>n.id==this.id()))),this.updateState({isDirty:!1});break}case"save":{let n=this.updatedValue();n&&(this.dataService.save(n),this.updateState({isDirty:!1}));break}}}onParamsChange(t,o){this.id.set(t.id)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=r({token:e,factory:e.\u0275fac});let i=e;return i})();var j=(()=>{let e=class e{constructor(){this.heading=a("Warehouse Shelves"),this.tabs=a([{label:"Map",route:["map"]},{label:"Data",route:["data"]}])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=r({token:e,factory:e.\u0275fac});let i=e;return i})();var k=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=b({type:e,selectors:[["demo-inventory-shelf-map"]],decls:2,vars:0,template:function(o,n){o&1&&(v(0,"p"),C(1,"inventory-shelf-map works!"),D())},encapsulation:2});let i=e;return i})();var x=(()=>{let e=class e{constructor(){this.dataService=l(p),this.rawData=d(this.dataService.getList()),this.configuration={id:"inventory-shelf-table",useVirtualScroll:!0},this.data=s(()=>(this.rawData()??[]).toSorted(this.sortFn())),this.columnsConfig=a([{key:"aisle",path:"location.aisle",label:"Aisle"},{key:"row",path:"location.row",label:"Row"},{key:"layer",path:"location.layer",label:"Layer"},{key:"maxCapacity",label:"Maximum Capacity (g)",fieldConfiguration:{type:"number"}},{key:"isAllowFragileItems",label:"Allows Fragile",fieldConfiguration:{type:"boolean"}}]),this.columnsToDisplay=a(["aisle","row","layer","maxCapacity","isAllowFragileItems"]),this.controlsConfig=a([{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"}]),this.sortFn=s(()=>M(this.columnsConfig()))}onHeaderCellClick(t,o){this.columnsConfig.update(n=>F(n,t))}routeToDetail(t){return["../","detail",t.id]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=r({token:e,factory:e.\u0275fac});let i=e;return i})();var ce=[{path:"",data:c({},h({title:"Shelf"})),children:[{path:"detail/:id",component:g,data:c({},h({titleFn:i=>i.params.pipe(y(e=>e.id))})),providers:[{provide:f,useClass:L}],children:[{path:"",component:w,providers:[{provide:I,useClass:R}]}]},{path:"",component:g,providers:[{provide:f,useClass:j}],children:[{path:"map",component:k},{path:"data",component:A,providers:[{provide:E,useClass:x}]},{path:"**",redirectTo:"map"}]}]}];export{ce as ROUTES};
