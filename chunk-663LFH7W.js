import{a as _e}from"./chunk-TT566SN4.js";import"./chunk-X3RRXTK5.js";import{a as Q,c as Le}from"./chunk-4G7GUFLB.js";import{a as u}from"./chunk-GALJRN5C.js";import"./chunk-L3Q4LNK7.js";import{a as Ee,b as M,c as B,d as W,e as R,f as De,g as F,h as Ie,j as we,k as ke,m as U,n as H,o as Ae,p as q,q as Y}from"./chunk-CEKICTYZ.js";import{a as Te}from"./chunk-5KUQE4MU.js";import{Da as Se,J as f,Ta as be,b as O,ba as fe,oa as he,pa as ge,qa as ve,ta as ye,v as j,va as V,w as ce,wa as Ce,y as me,z as ue,za as xe}from"./chunk-MW3KZHK7.js";import{$ as ee,$a as l,Cb as se,Db as le,Nb as de,Ob as s,Pb as y,Qb as E,Rb as _,Sa as d,Vb as pe,Wb as D,X as K,Yb as z,Zb as J,aa as h,ga as p,ka as b,kb as te,ob as C,pb as ie,q as S,rb as ne,sb as re,tb as oe,ub as ae,vb as a,wb as o,wc as c,xb as m,yc as N}from"./chunk-O4SB2AXP.js";import{a as P}from"./chunk-EQDQRRRY.js";var Re=(()=>{let t=class t{constructor(){this.dataService=p(u),this.list=f(this.dataService.getList()),this.id=l(void 0),this.index=l(void 0),this.data=l(void 0),this.fieldConfiguration=l({type:"object",properties:{line1:{type:"string",description:"Line 1"},line2:{type:"string",description:"Line 2"},city:{type:"string",description:"City"},state:{type:"string",description:"State"},postalCode:{type:"string",description:"Postal Code"},country:{type:"string",description:"Country"}}}),this.isDirty=l(!1),this.updatedValue=l(void 0),this.controlsConfig=c(()=>this.isDirty()?W:B),N(()=>{this.data.set(structuredClone(this.list()?.find(e=>e.id==this.id())?.savedAddresses.at(Number(this.index()))))},{allowSignalWrites:!0})}registerUpdateState(e){this.updateState=e}onStateChange(e){this.isDirty.update(n=>e.isDirty??n)}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,n){switch(e){case"refresh":case"cancel":{this.data.set(structuredClone(this.list()?.find(r=>r.id==this.id())?.savedAddresses.at(Number(this.index())))),this.updateState({isDirty:!1});break}case"save":{let r=this.updatedValue();r&&(this.dataService.updateAddress(this.id(),Number(this.index()),r),this.updateState({isDirty:!1}));break}}}onParamsChange(e,n){this.id.set(e.id),this.index.set(e.index)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac});let i=t;return i})();var Ue=i=>["./",i],He=i=>({"border-primary-300 dark:border-primary-700 bg-hover":i});function qe(i,t){if(i&1&&(a(0,"a",4,0)(2,"div",5)(3,"span",6),s(4),o(),a(5,"span",6),s(6),o(),a(7,"span",7),s(8),o()()()),i&2){let g=t.$implicit,e=t.$index,n=de(1);C("routerLink",z(6,Ue,e))("ngClass",z(8,He,n.isActive)),d(4),E(" ",g.line1," "),d(2),E(" ",g.line2," "),d(2),_("",g.city,", ",g.state,"")}}var Fe=(()=>{let t=class t{constructor(){this.dataService=p(u),this.route=p(j),this.list=f(this.dataService.getList()),this.id=f(this.route.params.pipe(S(e=>e.id))),this.data=c(()=>this.list()?.find(e=>e.id==this.id())?.savedAddresses??[])}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["demo-customer-address"]],hostAttrs:[1,"contents"],standalone:!0,features:[D],decls:6,vars:0,consts:[["active","routerLinkActive"],[1,"flex","flex-row","gap-8","grow"],[1,"pui-card","rounded-4","basis-80","shrink-0","grow-0","p-4","h-fit","max-h-[calc(100svh_-_8.5rem)]","overflow-y-auto","sticky","top-26"],[1,"flex","flex-col","gap-4"],["routerLinkActive","","puiHoverable","",1,"rounded-3","pui-card--subtle","border","p-4","text-start","justify-start",3,"routerLink","ngClass"],[1,"flex","flex-col"],[1,"text-base","truncate"],[1,"text-sm","truncate","font-medium","text-neutral-800","dark:text-neutral-200"]],template:function(n,r){n&1&&(a(0,"div",1)(1,"div",2)(2,"div",3),oe(3,qe,9,10,"a",4,re),o()(),m(5,"router-outlet"),o()),n&2&&(d(3),ae(r.data()))},dependencies:[be,he,me,ue,O,ce]});let i=t;return i})();var $=(()=>{let t=class t{constructor(){this.dataService=p(u),this.list=f(this.dataService.getList()),this.id=l(""),this.heading=c(()=>this.list()?.find(e=>e.id==this.id())?.name??"--"),this.tabs=l([{label:"Info",route:["info"]},{label:"Addresses",route:["address"]},{label:"Raw",route:["raw"]}]),this.routeToFullContent=c(()=>["../","customer",{outlets:{primary:["detail",this.id()],peek:null}}])}onParamsChange(e,n){this.id.set(e.id)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac});let i=t;return i})();var Pe=(()=>{let t=class t{constructor(){this.dataService=p(u),this.list=f(this.dataService.getList()),this.id=l(void 0),this.data=l(void 0),this.fieldConfiguration=l({type:"object",properties:{name:{type:"string",description:"Name"},username:{type:"string",description:"Username"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},address:{type:"object",description:"Address",properties:{line1:{type:"string",description:"Line 1"},line2:{type:"string",description:"Line 2"},city:{type:"string",description:"City"},state:{type:"string",description:"State"},postalCode:{type:"string",description:"Postal Code"},country:{type:"string",description:"Country"}}},savedAddresses:{type:"array",description:"Saved Address",items:{type:"object",properties:{line1:{type:"string",description:"Line 1"},line2:{type:"string",description:"Line 2"},city:{type:"string",description:"City"},state:{type:"string",description:"State"},postalCode:{type:"string",description:"Postal Code"},country:{type:"string",description:"Country"}}}},registeredSince:{type:"date-time",description:"Registered Since"}}}),this.isDirty=l(!1),this.updatedValue=l(void 0),this.controlsConfig=c(()=>this.isDirty()?W:B),N(()=>{this.data.set(structuredClone(this.list()?.find(e=>e.id==this.id())))},{allowSignalWrites:!0})}registerUpdateState(e){this.updateState=e}onStateChange(e){this.isDirty.update(n=>e.isDirty??n)}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,n){switch(e){case"refresh":case"cancel":{this.data.set(structuredClone(this.list()?.find(r=>r.id==this.id()))),this.updateState({isDirty:!1});break}case"save":{let r=this.updatedValue();r&&(this.dataService.save(r),this.updateState({isDirty:!1}));break}}}onParamsChange(e,n){this.id.set(e.id)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac});let i=t;return i})();var Ne=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["demo-media-manager-picker"]],standalone:!0,features:[D],decls:3,vars:3,consts:[[1,"px-2"],[3,"navigateWithRouter","folderId"],["id","confirm","mode","auto",3,"label"]],template:function(n,r){n&1&&(a(0,"div",0),m(1,"demo-media-manager-folder",1),o(),m(2,"pui-layout-control",2)),n&2&&(d(),C("navigateWithRouter",!1)("folderId",null),d(),C("label","Choose"))},dependencies:[_e,De]});let i=t;return i})();var Oe=(()=>{let t=class t{constructor(){this.configuration={content:Ne},this.heading=l("Choose a file")}onActionDrawerInit(e){this.overlayRef=e}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac});let i=t;return i})();var Ye=(i,t)=>({"bg-emerald-300 dark:bg-emerald-800":i,"border-emerald-300/70 dark:border-emerald-800/70":t}),$e=(i,t)=>({"bg-amber-300 dark:bg-amber-800":i,"border-amber-300/70 dark:border-amber-800/70":t});function Ge(i,t){if(i&1&&(a(0,"span",31),s(1),o(),a(2,"span",31),s(3),o(),a(4,"span",31),s(5),o(),a(6,"span",31),s(7),o()),i&2){let g,e,n,r,v=le();d(),y((g=v.customer())==null||g.address==null?null:g.address.line1),d(2),y((e=v.customer())==null||e.address==null?null:e.address.line2),d(2),_("",(n=v.customer())==null||n.address==null?null:n.address.city,", ",(n=v.customer())==null||n.address==null?null:n.address.state,""),d(2),_("",(r=v.customer())==null||r.address==null?null:r.address.country," ",(r=v.customer())==null||r.address==null?null:r.address.postalCode,"")}}function Ke(i,t){i&1&&(a(0,"span",31),s(1,"----"),o())}var je=(()=>{let t=class t{constructor(){this.dataService=p(u),this.inventoryItemService=p(Le),this.route=p(j),this.list=f(this.dataService.getList()),this.id=f(this.route.params.pipe(S(e=>e.id))),this.allInventoryItems=f(this.inventoryItemService.getList()),this.actionDrawer=p(M),this.customer=c(()=>this.list()?.find(e=>e.id==this.id())),this.inventoryItems=c(()=>this.allInventoryItems()?.filter(e=>e.belongsTo==this.customer()?.id)??[]),this.awaitingPaymentsCount=c(()=>this.inventoryItems()?.filter(e=>e.status==Q.OPEN).length),this.repackageCount=c(()=>this.inventoryItems()?.filter(e=>e.status==Q.REPACKAGING).length),this.data=c(()=>this.inventoryItems().slice(0,5)),this.columnsConfig=l([{key:"netWeight",label:"Net Weight (g)",fieldConfiguration:{type:"number"}},{key:"grossWeight",label:"Gross Weight (g)",fieldConfiguration:{type:"number"}},{key:"isContainFragile",label:"Fragile",fieldConfiguration:{type:"boolean"}},{key:"status",label:"Status"},{key:"arrivedAt",label:"Arrived",isAlignEnd:!0,isSortedDesc:!0,fieldConfiguration:{type:"date-time",format:"yyyy-MM-dd HH:mm"}}]),this.columnsToDisplay=l({default:["netWeight","status"],768:["netWeight","status","arrivedAt"],1280:["netWeight","grossWeight","isContainFragile","status","arrivedAt"]}),this.controlsConfig=l([])}routeToDetail(e){return["/","inventory","item","detail",e.id]}onProfilePicEdit(){this.actionDrawer.open(Oe)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["demo-customer-info"]],hostAttrs:[1,"contents"],standalone:!0,features:[pe([{provide:U,useExisting:ee(()=>t)}]),D],decls:98,vars:23,consts:[[1,"@container","grow"],[1,"grid","@screen-md:grid-cols-3","gap-8"],[1,"pui-card","rounded-4","p-8","overflow-hidden","@screen-md:col-span-2"],[1,"flex","flex-col","sm:flex-row","gap-4","items-stretch","h-full","overflow-x-auto"],[1,"rounded-3","flex-1","border","dark:bg-blue-800","flex","flex-col","p-4","transition-colors"],[1,"dark:text-blue-200","flex-none"],[1,"spacer"],[1,"text-2xl","font-bold","self-end","text-end","tabular-nums"],[1,"rounded-3","flex-1","border","dark:bg-emerald-800","flex","flex-col","p-4","transition-colors",3,"ngClass"],[1,"dark:text-emerald-200","flex-none"],[1,"rounded-3","flex-1","border","flex","flex-col","p-4","transition-colors",3,"ngClass"],[1,"dark:text-amber-200","flex-none"],[1,"pui-card","rounded-4","p-8","overflow-hidden"],[1,"flex","flex-col","items-center","gap-2"],[1,"p-4","rounded-full","bg-neutral-500","shadow-md","shadow-neutral-500","transition-colors","relative"],[1,"icon-10","font-variation-fill"],["puiBaseButton","","puiTooltip","Edit",1,"absolute","size-8","rounded-full","dark:bg-neutral-600","shadow-md","-bottom-2","-right-2","justify-center","items-center",3,"click"],[1,"icon-5","font-variation-weight-extra-light"],[1,"w-full","text-center","break-anywhere","whitespace-normal"],[1,"text-sm","text-center","text-neutral-800","dark:text-neutral-200","before:content-['#']"],[1,"text-base","text-center"],[3,"date","format"],[1,"pui-card","rounded-4","p-8","overflow-hidden","@screen-md:col-span-2","flex","flex-col"],[1,"flex-none"],[1,"flex","flex-row","justify-end","items-center"],["puiBorderedButton","","color","primary",1,"rounded-full","px-4","py-2"],[1,"flex","flex-col","pt-6","gap-4"],[1,"flex","flex-row","items-center","gap-2"],[1,"icon-6","font-variation-weight-light","text-neutral-800","dark:text-neutral-200"],[1,"flex","flex-col","gap-1"],[1,"text-sm","text-neutral-800","dark:text-neutral-200"],[1,"text-base"],[1,"text-base","break-anywhere"]],template:function(n,r){if(n&1&&(a(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),s(6,"Completed"),m(7,"br"),s(8,"Sales"),o(),m(9,"div",6),a(10,"span",7),s(11,"$2,000"),o()(),a(12,"div",8)(13,"h3",9),s(14,"Awaiting"),m(15,"br"),s(16,"Payments"),o(),m(17,"div",6),a(18,"span",7),s(19),o()(),a(20,"div",10)(21,"h3",11),s(22," Repackage"),m(23,"br"),s(24,"Requests "),o(),m(25,"div",6),a(26,"span",7),s(27),o()()()(),a(28,"div",12)(29,"div",13)(30,"div",14)(31,"i",15),s(32),o(),a(33,"button",16),se("click",function(){return r.onProfilePicEdit()}),a(34,"i",17),s(35,"edit"),o()()(),a(36,"h2",18),s(37),o(),a(38,"span",19),s(39),o(),a(40,"span",20),s(41,"Joined since "),m(42,"pui-time-display",21),o()()(),a(43,"div",22)(44,"h3",23),s(45,"Recent Inventory"),o(),m(46,"pui-table-content"),a(47,"div",24)(48,"button",25),s(49),o()()(),a(50,"div",12)(51,"h3",23),s(52,"Detailed information"),o(),a(53,"div",26)(54,"div",27)(55,"i",28),s(56,"person"),o(),a(57,"div",29)(58,"span",30),s(59,"Fullname"),o(),a(60,"span",31),s(61),o()()(),m(62,"pui-divider"),a(63,"div",27)(64,"i",28),s(65,"person"),o(),a(66,"div",29)(67,"span",30),s(68,"Username"),o(),a(69,"span",32),s(70),o()()(),m(71,"pui-divider"),a(72,"div",27)(73,"i",28),s(74,"phone"),o(),a(75,"div",29)(76,"span",30),s(77,"Phone number"),o(),a(78,"span",32),s(79),o()()(),m(80,"pui-divider"),a(81,"div",27)(82,"i",28),s(83,"email"),o(),a(84,"div",29)(85,"span",30),s(86,"Email address"),o(),a(87,"span",32),s(88),o()()(),m(89,"pui-divider"),a(90,"div",27)(91,"i",28),s(92,"location_on"),o(),a(93,"div",29)(94,"span",30),s(95,"Main address"),o(),te(96,Ge,8,6)(97,Ke,2,0,"span",31),o()()()()()()),n&2){let v,G,I,w,X,k,A,T,L,Z;d(12),C("ngClass",J(17,Ye,r.awaitingPaymentsCount()>0,r.awaitingPaymentsCount()==0)),d(7),y(r.awaitingPaymentsCount()),d(),C("ngClass",J(20,$e,r.repackageCount()>0,r.repackageCount()==0)),d(7),y(r.repackageCount()),d(3),ie("--color-neutral-500",(v=r.customer())==null||v.profile==null?null:v.profile.color),d(2),y((G=r.customer())==null||G.profile==null?null:G.profile.icon),d(5),E(" ",(I=(I=r.customer())==null?null:I.username)!==null&&I!==void 0?I:"---"," "),d(2),y((w=(w=r.customer())==null?null:w.id)!==null&&w!==void 0?w:"----"),d(3),C("date",(X=r.customer())==null?null:X.registeredSince)("format","dd MMM yyyy"),d(7),E(" View all (",r.inventoryItems().length,") "),d(12),y((k=(k=r.customer())==null?null:k.name)!==null&&k!==void 0?k:"----"),d(9),y((A=(A=r.customer())==null?null:A.username)!==null&&A!==void 0?A:"----"),d(9),y((T=(T=r.customer())==null?null:T.phone)!==null&&T!==void 0?T:"----"),d(9),y((L=(L=r.customer())==null?null:L.email)!==null&&L!==void 0?L:"----"),d(8),ne((Z=r.customer())!=null&&Z.address?96:97)}},dependencies:[Se,xe,H,ye,ge,ve,O,Ce],styles:["demo-customer-info .pui-table-content main{background-color:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);-webkit-backdrop-filter:none;backdrop-filter:none;padding-left:0;padding-right:0}"]});let i=t;return i})();var Ve=(()=>{let t=class t{constructor(){this.heading=l("Customers"),this.tabs=l([])}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac});let i=t;return i})();var Me=(()=>{let t=class t{constructor(){this.dataService=p(u),this.configuration={content:F},this.data=l(null),this.fieldConfiguration=l({type:"object",properties:{name:{type:"string",description:"Name"},username:{type:"string",description:"Username"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},address:{type:"object",description:"Address",properties:{line1:{type:"string",description:"Line 1"},line2:{type:"string",description:"Line 2"},city:{type:"string",description:"City"},state:{type:"string",description:"State"},postalCode:{type:"string",description:"Postal Code"},country:{type:"string",description:"Country"}}},savedAddresses:{type:"array",description:"Saved Addresses",items:{type:"object",description:"Address",properties:{line1:{type:"string",description:"Line 1"},line2:{type:"string",description:"Line 2"},city:{type:"string",description:"City"},state:{type:"string",description:"State"},postalCode:{type:"string",description:"Postal Code"},country:{type:"string",description:"Country"}}}},registeredSince:{type:"date-time",description:"Registered Since"}}}),this.controlsConfig=l([{id:"cancel",label:"Cancel",icon:"close",mode:"low-emphasis"},{id:"save",label:"Save",icon:"save"}]),this.updatedValue=l(void 0),this.heading=l("Add Customer")}registerUpdateState(e){this.updateState=e,this.updateState({isDirty:!0})}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,n){switch(e){case"cancel":{this.data.set({}),this.overlayRef.close();break}case"save":{let r=this.updatedValue();r&&(r=Object.assign(r,{id:Te.string.nanoid()}),this.dataService.add(r),this.overlayRef.close());break}}}onActionDrawerInit(e){this.overlayRef=e}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac});let i=t;return i})();var Be=(()=>{let t=class t{constructor(){this.dataService=p(u),this.actionDrawer=p(M),this.screenWidth=p(fe),this.rawData=f(this.dataService.getList()),this.configuration={useVirtualScroll:!0},this.data=c(()=>(this.rawData()??[]).filter(this.filterFn()).toSorted(this.sortFn())),this.columnsConfig=l([{key:"name",label:"Name"},{key:"username",label:"Username"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"line2",path:"address.line2",label:"Address (Line 2)"},{key:"registeredSince",label:"Registered",isAlignEnd:!0,isSortedDesc:!0,fieldConfiguration:{type:"date-time",format:"yyyy-MM-dd HH:mm"}}]),this.columnsToDisplay=l({default:["name","phone"],768:["name","email","phone","registeredSince"],1536:["name","username","email","phone","line2","registeredSince"]}),this.filterConfig=l({type:"object",properties:{name:{type:"string",description:"Name"},id:{type:"string",description:"ID"}}}),this.filterValue=l({}),this.sortFn=c(()=>ke(this.columnsConfig())),this.filterFn=c(()=>we(this.filterValue(),{id:(e,n,r)=>!!r&&e.id.toLowerCase().includes(r.toLowerCase()),name:(e,n,r)=>!!r&&(e.username.toLowerCase().includes(r.toLowerCase())||e.name.toLowerCase().includes(r.toLowerCase()))}))}routeToDetail(e){return this.screenWidth.above().sm()?["../","customer",{outlets:{peek:[e.id]}}]:["../","customer","detail",e.id]}onHeaderCellClick(e,n){this.columnsConfig.update(r=>Ae(r,e))}onFilterChange(e){this.filterValue.set(e)}onControlClick(e,n){switch(e){case"add":{this.actionDrawer.open(Me,{providers:[{provide:R,useExisting:Ee}]});break}}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac});let i=t;return i})();var We=[{path:"info",component:je},{path:"address",component:Fe,children:[{path:":index",component:F,providers:[{provide:R,useClass:Re}]}]},{path:"raw",component:F,providers:[{provide:R,useClass:Pe}]},{path:"**",redirectTo:"info"}],yi=[{path:"",data:P({},V({title:"Customer"})),children:[{path:"detail/:id",component:Y,data:P({},V({deps:[u],titleFn:(i,t)=>i.params.pipe(K(g=>t.getList().pipe(S(e=>e.find(n=>n.id==g.id)?.name??"--"))))})),providers:[{provide:q,useClass:$}],children:We},{path:"",component:Y,providers:[{provide:q,useClass:Ve},{provide:Ie,useClass:$}],children:[{path:":id",outlet:"peek",component:Y,data:P({},V({deps:[u],titleFn:(i,t)=>i.params.pipe(K(g=>t.getList().pipe(S(e=>e.find(n=>n.id==g.id)?.name??"--"))))})),providers:[{provide:q,useClass:$}],children:We},{path:"",component:H,providers:[{provide:U,useClass:Be}]}]}]}];export{yi as ROUTES};
