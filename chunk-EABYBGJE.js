import{d as s,e as b}from"./chunk-VJPI5O3M.js";import{a as r}from"./chunk-QLEH2ZB5.js";import{M as u}from"./chunk-4CV2DTBE.js";import{$ as n,K as d,N as l,ea as c,g as h,nb as f,ra as m}from"./chunk-LVH4HSPS.js";var D=(()=>{let e=class e{constructor(){this.appRef=c(f),this.list=new h([]),this.employeeData=c(b),this.isInitialized=!1}createMock(t){let i=r.date.past({years:1}),o=r.date.between({from:i,to:new Date(i.getTime()+120*36e5)}),p=r.helpers.arrayElement([s.ANNUAL_LEAVE,s.BUSINESS_TRIP,s.PERSONAL_LEAVE,s.SICK_LEAVE]);return{id:r.string.nanoid(),employeeId:t.id,startsFrom:i,endsAt:o,isFullDay:[s.ANNUAL_LEAVE,s.PERSONAL_LEAVE,s.SICK_LEAVE].includes(p),type:p,label:r.lorem.lines(1)}}initialize(){this.isInitialized||(this.isInitialized=!0,this.employeeData.getList().pipe(l(t=>t.length>0)).subscribe(t=>{this.list.next(t.map(i=>this.createMock(i)))}))}getList(){return this.appRef.isStable.pipe(l(t=>t),d(1e3)).subscribe(()=>{this.initialize()}),this.list}save(t,i){this.list.next(this.list.value.map(o=>o.id==t?u(o,i):o))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});let a=e;return a})();var j=(()=>{let e=class e{constructor(){this.heading=m("Employee Calendar"),this.tabs=m([{label:"Monthly",route:["monthly","-1"]},{label:"Weekly",route:["weekly"]},{label:"Data",route:["data"]}]),this.storedSelectedTime=new Date}updateSelectedTime(t){this.storedSelectedTime=t}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=n({token:e,factory:e.\u0275fac});let a=e;return a})();export{D as a,j as b};
