import{a as e}from"./chunk-5KUQE4MU.js";import{$ as m,K as p,N as c,fa as u,g as o,tb as f}from"./chunk-RLC3TLQJ.js";import{a as l,b as a}from"./chunk-EQDQRRRY.js";var r=function(i){return i.FOLDER="Folder",i.FILE="File",i}(r||{});var z=(()=>{class i{constructor(){this.appRef=u(f),this.list=new o([]),this.isInitialized=!1}createMock(){let t=e.helpers.enumValue(r);return{id:e.string.nanoid(),filename:t==r.FILE?e.system.fileName():e.hacker.noun(),type:t,sizeBytes:t==r.FILE?e.number.int({min:100,max:1e7}):null,belongsInFolderId:null,createdAt:e.date.anytime(),lastModifiedAt:e.date.anytime(),thumbnail:t==r.FILE?e.helpers.maybe(()=>"https://picsum.photos/160/90")??null:null}}initialize(){this.isInitialized||(this.isInitialized=!0,this.list.next(Array(200).fill(0).map(()=>this.createMock()).map((t,n,h)=>{let s=h.filter(d=>d.type==r.FOLDER);return s.length>0?a(l({},t),{belongsInFolderId:e.helpers.maybe(()=>e.helpers.arrayElement(s).id,{probability:.8})??null}):t})))}getList(){return this.appRef.isStable.pipe(c(t=>t),p(100)).subscribe(()=>{this.initialize()}),this.list}save(t){this.list.next(this.list.value.map(n=>n.id==t.id?t:n))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{r as a,z as b};
