import{a as p}from"./chunk-HUQQFLCT.js";import"./chunk-KCMED6EJ.js";import{$b as f,B as l,C,O as r,Ob as T,Pb as w,Qb as I,Sb as A,Vb as E,W as g,X as b,Xb as F,Ya as c,Yb as L,Zb as R,_b as u,a as m,ba as v,ga as S,i as y,ta as n,tb as h,va as D,y as o}from"./chunk-REEGPD33.js";var j=(()=>{let t=class t{constructor(){this.dataService=l(p),this.list=c(this.dataService.getList()),this.id=r(void 0),this.heading=n(()=>{let e=this.list()?.find(a=>a.id==this.id())?.location;return e?`${e.aisle.toUpperCase()}${e.row} - ${e.layer}`:"--"}),this.tabs=r([{label:"Raw",route:["./"]}])}onParamsChange(e,a){this.id.set(e.id)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var k=(()=>{let t=class t{constructor(){this.dataService=l(p),this.list=c(this.dataService.getList()),this.id=r(void 0),this.data=r(void 0),this.fieldConfiguration=r({type:"object",properties:{location:{type:"object",description:"Shelf Location",properties:{aisle:{type:"string",description:"Aisle"},row:{type:"number",description:"Row"},layer:{type:"number",description:"Layer"}}},maxCapacity:{type:"number",description:"Maximum Capacity (grams)"},isAllowFragileItems:{type:"boolean",description:"Allows Fragile Items Inside"},dimensions:{type:"object",description:"Dimension",properties:{width:{type:"number",description:"Width (millimeters)"},depth:{type:"number",description:"Depth (millimeters)"},height:{type:"number",description:"Height (millimeters)"}}}}}),this.isDirty=r(!1),this.updatedValue=r(void 0),this.controlsConfig=n(()=>this.isDirty()?w:T),D(()=>{this.data.set(structuredClone(this.list()?.find(e=>e.id==this.id())))},{allowSignalWrites:!0})}registerUpdateState(e){this.updateState=e}onStateChange(e){this.isDirty.update(a=>e.isDirty??a)}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,a){switch(e){case"refresh":case"cancel":{this.data.set(structuredClone(this.list()?.find(s=>s.id==this.id()))),this.updateState({isDirty:!1});break}case"save":{let s=this.updatedValue();s&&(this.dataService.save(s),this.updateState({isDirty:!1}));break}}}onParamsChange(e,a){this.id.set(e.id)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var x=(()=>{let t=class t{constructor(){this.heading=r("Warehouse Shelves"),this.tabs=r([{label:"Map",route:["map"]},{label:"Data",route:["data"]}])}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var O=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=C({type:t,selectors:[["demo-inventory-shelf-map"]],standalone:!0,features:[S],decls:2,vars:0,template:function(a,s){a&1&&(g(0,"p"),v(1,"inventory-shelf-map works!"),b())}});let i=t;return i})();var V=(()=>{let t=class t{constructor(){this.dataService=l(p),this.rawData=c(this.dataService.getList()),this.configuration={useVirtualScroll:!0},this.data=n(()=>(this.rawData()??[]).toSorted(this.sortFn())),this.columnsConfig=r([{key:"aisle",path:"location.aisle",label:"Aisle"},{key:"row",path:"location.row",label:"Row"},{key:"layer",path:"location.layer",label:"Layer"},{key:"maxCapacity",label:"Maximum Capacity (g)",fieldConfiguration:{type:"number"}},{key:"isAllowFragileItems",label:"Allows Fragile",fieldConfiguration:{type:"boolean"}}]),this.columnsToDisplay=r(["aisle","row","layer","maxCapacity","isAllowFragileItems"]),this.controlsConfig=r([{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"}]),this.sortFn=n(()=>E(this.columnsConfig()))}onHeaderCellClick(e,a){this.columnsConfig.update(s=>R(s,e))}routeToDetail(e){return["../","detail",e.id]}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var pt=[{path:"",data:m({},h({title:"Shelf"})),children:[{path:"detail/:id",component:f,data:m({},h({titleFn:i=>i.params.pipe(y(t=>t.id))})),providers:[{provide:u,useClass:j}],children:[{path:"",component:A,providers:[{provide:I,useClass:k}]}]},{path:"",component:f,providers:[{provide:u,useClass:x}],children:[{path:"map",component:O},{path:"data",component:L,providers:[{provide:F,useClass:V}]},{path:"**",redirectTo:"map"}]}]}];export{pt as ROUTES};
