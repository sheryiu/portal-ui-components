import{a as H}from"./chunk-IEOLE2MR.js";import{a as E}from"./chunk-5GPZWTFQ.js";import"./chunk-RNFQA7ES.js";import{$b as se,Aa as p,Ad as Ee,B as R,Ba as m,Bd as V,Cc as Ce,D as _,Dc as Se,Ea as T,Ec as $,Fa as g,Fd as He,Ga as d,Gd as Le,Ha as z,Hd as Me,Ia as J,Ic as ve,Id as Be,Ja as q,Jb as ie,Jd as Ne,Ka as G,Kb as re,Kc as he,Kd as Ae,L as s,La as f,Lb as F,Mb as oe,Md as Oe,N as C,Nb as ne,Nd as Ie,Oa as Y,Ob as le,Od as Re,Pa as x,Pd as je,Qa as K,Qb as M,Qd as Pe,Ra as D,Rd as Qe,S,Sd as ze,T as v,Ta as U,Tb as ae,Ua as W,Ub as pe,W as h,Wb as ce,Xb as me,Xc as ye,Yb as ue,Yc as Te,_b as de,ab as L,ca as a,cc as fe,d as B,db as X,dd as ge,eb as Z,gc as k,i as N,la as y,lc as w,na as u,p as A,qa as l,r as O,ra as j,rc as be,sa as P,sc as _e,td as xe,ua as Q,ud as De,v as I,vd as Fe,wd as ke,xb as ee,xd as we,yd as $e,za as n,zb as te,zd as Ve}from"./chunk-U3GDXVPC.js";import"./chunk-EYYPJTXZ.js";import"./chunk-CWTPBX7D.js";var Ke=e=>({"!text-primary-950 dark:!text-primary-50":e});function Ue(e,t){if(e&1){let i=T();n(0,"form",4),g("ngSubmit",function(){S(i);let o=d();return v(o.onSubmit())}),n(1,"pui-fieldset",5),m(2,"pui-field-def",6)(3,"pui-field-def",7)(4,"pui-field-def",8)(5,"pui-field-def",9)(6,"pui-field-def",10),p(),n(7,"button",11),f(8,"Add"),p()()}if(e&2){let i=d();a(),l("formControl",i.formControl)}}var Je=(()=>{let t=class t extends k{constructor(){super(...arguments),this.service=s(H),this.builder=s(fe),this.formControl=this.builder.control(null),this.onSubmit=this.createEffectFn(r=>r.pipe(A(()=>this.formControl.value!=null),I(()=>this.service.create(this.formControl.value).pipe(O(()=>B))),_(()=>this.formControl.reset())))}};t.\u0275fac=(()=>{let r;return function(c){return(r||(r=h(t)))(c||t)}})(),t.\u0275cmp=C({type:t,selectors:[["mhw-drawer-create"]],standalone:!0,features:[y,x],decls:8,vars:6,consts:[["trigger","accordionTrigger"],["puiSidebarDrawerSection",""],["puiSidebarDrawerSectionHeader","","puiHoverable","","role","button","type","button","puiAccordionTrigger","","opened","",3,"ngClass"],["puiSidebarDrawerSectionContent",""],["puiSidebarDrawerSectionContent","",3,"ngSubmit"],[3,"formControl"],["key","name>en","label","English Name","fieldType","string"],["key","name>jp","label","Japanese Name","fieldType","string"],["key","description>en","label","English Description","fieldType","string"],["key","description>jp","label","Japanese Description","fieldType","string"],["key","color","label","Color","fieldType","string"],["puiHoverable","","role","button","type","submit",1,"rounded-1","mx-1","py-2","text-sm","text-primary-700","dark:text-primary-500"]],template:function(o,c){if(o&1&&(n(0,"div",1)(1,"button",2,0)(3,"i"),f(4,"add"),p(),n(5,"p"),f(6,"Insert New"),p()(),u(7,Ue,9,1,"form",3),p()),o&2){let b=G(2);P("bg-drawer-content",b.isOpened$$()),a(),l("ngClass",D(4,Ke,!b.isOpened$$())),a(6),Q(7,b.isOpened$$()?7:-1)}},dependencies:[E,X,w,V,ke,we,$e,$,Ce,Te,ye,he,de,ce,me,ue,se]});let e=t;return e})();var We=()=>["color","name"],Xe=e=>[e];function Ze(e,t){e&1&&m(0,"pui-table-header-cell")}function et(e,t){if(e&1){let i=T();n(0,"div",14)(1,"pui-input-field")(2,"input",15),g("input",function(o){S(i);let c=d(3);return v(c.onChangeFilter({name:o.currentTarget.value}))}),p()()()}if(e&2){let i,r=d(3);l("cdkTrapFocusAutoCapture",!0),a(2),l("value",(i=r.filterByName$$())!==null&&i!==void 0?i:"")}}function tt(e,t){if(e&1&&(n(0,"pui-table-header-cell",12),f(1," Name "),u(2,et,3,2,"div",13),p()),e&2){let i=d(2);l("filtered",i.filterByName$$()!=null)}}function it(e,t){if(e&1&&(n(0,"pui-table-cell"),m(1,"div",16),p()),e&2){let i=t.$implicit;a(),j("background-color",i.color)}}function rt(e,t){if(e&1&&(n(0,"pui-table-cell"),f(1),p()),e&2){let i=t.$implicit;a(),Y(" ",i.name==null?null:i.name.jp," / ",i.name==null?null:i.name.en," ")}}function ot(e,t){if(e&1&&m(0,"pui-table-row",17),e&2){let i=t.$implicit;l("route",D(2,Xe,i.id))("item",i)}}function nt(e,t){if(e&1&&(n(0,"pui-table",4),u(1,Ze,1,0,"pui-table-header-cell",5)(2,tt,3,1,"pui-table-header-cell",6)(3,it,2,2,"pui-table-cell",7)(4,rt,2,2,"pui-table-cell",7),n(5,"cdk-virtual-scroll-viewport",8)(6,"pui-table-body",9),m(7,"pui-table-header-row"),u(8,ot,1,4,"pui-table-row",10),U(9,"async"),n(10,"pui-table-footer-row",11),m(11,"pui-table-simple-footer"),p()()()()),e&2){let i=d();l("columns",K(10,We)),a(),l("puiTableHeaderCellDef","color"),a(),l("puiTableHeaderCellDef","name"),a(),l("puiTableCellDef","color"),a(),l("puiTableCellDef","name"),a(),l("extraHeight",48*2),a(3),l("cdkVirtualForOf",W(9,8,i.data$))("cdkVirtualForTrackBy",i.trackingFn)}}function lt(e,t){e&1&&m(0,"mhw-drawer-create")}var Ht=(()=>{let t=class t extends k{constructor(){super(...arguments),this.service=s(H),this.router=s(te),this.route=s(ee),this.data$=N({filter:M(this.service.mainListFilter$$),sort:M(this.service.mainListSort$$)}).pipe(R(({filter:r,sort:o})=>this.service.list(r,o))),this.filterByName$$=L(()=>this.service.mainListFilter$$().name),this.sortByRarity$$=L(()=>this.service.mainListSort$$().name),this.onChangeSort=this.createEffectFn(r=>r.pipe(_(([o,c])=>{this.service.mainListSort$$.set({[o]:c})}))),this.onChangeFilter=this.createEffectFn(r=>r.pipe(_(o=>{this.service.mainListFilter$$.set(o)}),_()))}onHeaderClick(){this.router.navigate(["./"],{relativeTo:this.route}),this.scrollViewport?.scrollToOffset(0,"smooth")}trackingFn(r,o){return o.id}};t.\u0275fac=(()=>{let r;return function(c){return(r||(r=h(t)))(c||t)}})(),t.\u0275cmp=C({type:t,selectors:[["app-skill-list"]],viewQuery:function(o,c){if(o&1&&z(F,5),o&2){let b;J(b=q())&&(c.scrollViewport=b.first)}},standalone:!0,features:[y,x],decls:8,vars:0,consts:[["puiSidebarContainer","","cdkVirtualScrollingElement","","cdkScrollable",""],["puiSidebarBreadcrumbs",""],["itemHeight","48",3,"columns",4,"puiSidebarMain"],[4,"puiSidebarDrawer"],["itemHeight","48",3,"columns"],[4,"puiTableHeaderCellDef"],[3,"filtered",4,"puiTableHeaderCellDef"],[4,"puiTableCellDef"],["itemSize","",3,"extraHeight"],[2,"grid-template-columns","min-content 1fr"],["puiHoverable","",3,"route","item",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"px-4","py-1"],[3,"filtered"],["cdkTrapFocus","",3,"cdkTrapFocusAutoCapture",4,"puiTableHeaderCellFilter"],["cdkTrapFocus","",3,"cdkTrapFocusAutoCapture"],["type","search","placeholder","Type to search",3,"input","value"],[1,"hexagon-mask","size-6"],["puiHoverable","",3,"route","item"]],template:function(o,c){o&1&&(n(0,"pui-layered-container")(1,"div",0)(2,"div",1),m(3,"pui-breadcrumbs"),p(),n(4,"pui-sidebar-content"),u(5,nt,12,11,"pui-table",2),n(6,"pui-accordion"),u(7,lt,1,0,"mhw-drawer-create",3),p()()()())},dependencies:[E,w,_e,be,ve,Z,Je,ge,V,De,xe,Ee,Ve,Fe,ze,Me,Qe,Be,je,Re,Ne,He,Ie,Le,Oe,Ae,Pe,$,Se,le,re,ie,oe,F,ne,pe,ae],encapsulation:2});let e=t;return e})();export{Ht as SkillListComponent};
