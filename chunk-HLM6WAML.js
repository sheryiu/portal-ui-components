import{a as c}from"./chunk-O4OZFBT7.js";import{c as T,d as w,e as I,g as A,j as E,l as F,m as L,n as R,o as f,p as u}from"./chunk-HHV34UBJ.js";import"./chunk-5KUQE4MU.js";import{A as l,B as C,Ea as n,Ga as D,R as a,_b as h,aa as g,ba as b,f as y,ka as v,nb as p,qa as S,x as o}from"./chunk-GA4IGTFJ.js";import{a as d}from"./chunk-EQDQRRRY.js";var j=(()=>{let t=class t{constructor(){this.dataService=l(c),this.list=p(this.dataService.getList()),this.id=a(void 0),this.heading=n(()=>{let e=this.list()?.find(r=>r.id==this.id())?.location;return e?`${e.aisle.toUpperCase()}${e.row} - ${e.layer}`:"--"}),this.tabs=a([{label:"Raw",route:["./"]}])}onParamsChange(e,r){this.id.set(e.id)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var k=(()=>{let t=class t{constructor(){this.dataService=l(c),this.list=p(this.dataService.getList()),this.id=a(void 0),this.data=a(void 0),this.fieldConfiguration=a({type:"object",properties:{location:{type:"object",description:"Shelf Location",properties:{aisle:{type:"string",description:"Aisle"},row:{type:"number",description:"Row"},layer:{type:"number",description:"Layer"}}},maxCapacity:{type:"number",description:"Maximum Capacity (grams)"},isAllowFragileItems:{type:"boolean",description:"Allows Fragile Items Inside"},dimensions:{type:"object",description:"Dimension",properties:{width:{type:"number",description:"Width (millimeters)"},depth:{type:"number",description:"Depth (millimeters)"},height:{type:"number",description:"Height (millimeters)"}}}}}),this.isDirty=a(!1),this.updatedValue=a(void 0),this.controlsConfig=n(()=>this.isDirty()?w:T),D(()=>{this.data.set(structuredClone(this.list()?.find(e=>e.id==this.id())))},{allowSignalWrites:!0})}registerUpdateState(e){this.updateState=e}onStateChange(e){this.isDirty.update(r=>e.isDirty??r)}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,r){switch(e){case"refresh":case"cancel":{this.data.set(structuredClone(this.list()?.find(s=>s.id==this.id()))),this.updateState({isDirty:!1});break}case"save":{let s=this.updatedValue();s&&(this.dataService.save(s),this.updateState({isDirty:!1}));break}}}onParamsChange(e,r){this.id.set(e.id)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var x=(()=>{let t=class t{constructor(){this.heading=a("Warehouse Shelves"),this.tabs=a([{label:"Map",route:["map"]},{label:"Data",route:["data"]}])}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var O=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["demo-inventory-shelf-map"]],standalone:!0,features:[S],decls:2,vars:0,template:function(r,s){r&1&&(g(0,"p"),v(1,"inventory-shelf-map works!"),b())}});let i=t;return i})();var V=(()=>{let t=class t{constructor(){this.dataService=l(c),this.rawData=p(this.dataService.getList()),this.configuration={useVirtualScroll:!0},this.data=n(()=>(this.rawData()??[]).toSorted(this.sortFn())),this.columnsConfig=a([{key:"aisle",path:"location.aisle",label:"Aisle"},{key:"row",path:"location.row",label:"Row"},{key:"layer",path:"location.layer",label:"Layer"},{key:"maxCapacity",label:"Maximum Capacity (g)",fieldConfiguration:{type:"number"}},{key:"isAllowFragileItems",label:"Allows Fragile",fieldConfiguration:{type:"boolean"}}]),this.columnsToDisplay=a(["aisle","row","layer","maxCapacity","isAllowFragileItems"]),this.controlsConfig=a([{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"}]),this.sortFn=n(()=>E(this.columnsConfig()))}onHeaderCellClick(e,r){this.columnsConfig.update(s=>R(s,e))}routeToDetail(e){return["../","detail",e.id]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let i=t;return i})();var mt=[{path:"",data:d({},h({title:"Shelf"})),children:[{path:"detail/:id",component:u,data:d({},h({titleFn:i=>i.params.pipe(y(t=>t.id))})),providers:[{provide:f,useClass:j}],children:[{path:"",component:A,providers:[{provide:I,useClass:k}]}]},{path:"",component:u,providers:[{provide:f,useClass:x}],children:[{path:"map",component:O},{path:"data",component:L,providers:[{provide:F,useClass:V}]},{path:"**",redirectTo:"map"}]}]}];export{mt as ROUTES};
