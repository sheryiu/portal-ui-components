import{a as T,b as ce}from"./chunk-S2UTDY2N.js";import{B,Da as Q,Ga as X,Ia as Y,P as U,a as O,db as Z,e as P,eb as ee,fb as te,gb as ie,hb as ne,ib as ae,jb as oe,kb as re,lb as le,mb as de,nb as pe,pb as me,ta as K,ua as W,va as J,ya as I}from"./chunk-WX3TDQFG.js";import{Db as _,Eb as m,Fa as k,Ha as l,Rb as d,Sb as D,Tb as L,Xa as y,Zb as h,_b as S,aa as G,ac as $,bb as R,dc as V,fa as M,fc as H,ga as x,lb as u,lc as g,mb as f,mc as q,oc as E,pa as j,pb as w,pc as s,qb as F,ra as A,rb as p,sb as a,tb as o,ub as b,zb as C}from"./chunk-456UTSJA.js";var he=e=>["../",e],se=(e,i)=>i.id;function Me(e,i){e&1&&(a(0,"h3",2),d(1,"Folders"),o())}function xe(e,i){if(e&1){let t=C();a(0,"a",7),_("click",function(){let r=M(t).$implicit,c=m();return x(c.navigateWithRouter()?{}:c.navigateTo.emit(r))}),a(1,"i",8),d(2,"folder"),o(),a(3,"span",9),d(4),o()()}if(e&2){let t=i.$implicit,n=m();p("routerLink",n.navigateWithRouter()?S(2,he,t.id):null),l(4),D(t.filename)}}function Ce(e,i){if(e&1&&b(0,"img",10),e&2){let t=m().$implicit;p("src",t.thumbnail,k)}}function Te(e,i){e&1&&(a(0,"div",11)(1,"i",13),d(2,"files"),o()())}function ye(e,i){if(e&1&&(a(0,"button",5),u(1,Ce,1,1,"img",10)(2,Te,3,0,"div",11),a(3,"div",12)(4,"i",8),d(5,"draft"),o(),a(6,"span",9),d(7),o()()()),e&2){let t=i.$implicit;l(),f(t.thumbnail!=null?1:2),l(6),D(t.filename)}}function we(e,i){e&1&&(a(0,"div",6)(1,"i",14),d(2,"document_search"),o(),a(3,"span",15),d(4,"No files here"),o()())}var ue=(()=>{class e{constructor(){this.media=s.required(),this.navigateWithRouter=s.required(),this.navigateTo=E(),this.processed=g(()=>this.media().toSorted((t,n)=>t.filename<n.filename?-1:t.filename>n.filename?1:0)),this.folders=g(()=>this.processed().filter(t=>t.type==T.FOLDER)),this.files=g(()=>this.processed().filter(t=>t.type==T.FILE))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=y({type:e,selectors:[["demo-media-manager-grid"]],inputs:{media:[1,"media"],navigateWithRouter:[1,"navigateWithRouter"]},outputs:{navigateTo:"navigateTo"},decls:10,vars:2,consts:[[1,"flex","flex-col","gap-4"],[1,"grid","gap-4",2,"grid-template-columns","repeat(auto-fit, minmax(240px, 1fr))"],[1,"col-span-full"],["puiBaseButton","",1,"basis-[240px]","grow","shrink-0","overflow-hidden","rounded-2","bg-hover","dark:bg-hover-dark","justify-start","py-3","px-6","gap-3",3,"routerLink"],[1,"pt-2","col-span-full"],["puiBaseButton","",1,"basis-[240px]","grow","shrink-0","overflow-hidden","rounded-2","bg-hover","dark:bg-hover-dark","items-start","flex-col"],[1,"col-span-full","flex","flex-col","gap-6","justify-center","items-center","py-12"],["puiBaseButton","",1,"basis-[240px]","grow","shrink-0","overflow-hidden","rounded-2","bg-hover","dark:bg-hover-dark","justify-start","py-3","px-6","gap-3",3,"click","routerLink"],[1,"icon-6","font-variation-fill","opacity-70"],[1,"truncate"],[1,"aspect-21/9","@screen-sm:aspect-video","w-full","object-cover","bg-hover","dark:bg-hover-dark",3,"src"],[1,"aspect-21/9","@screen-sm:aspect-video","w-full","bg-hover","dark:bg-hover-dark","flex","justify-center","items-center"],[1,"flex","flex-row","py-3","px-6","gap-3","items-center","w-full"],[1,"icon-12","font-variation-weight-bold","font-variation-fill","dark:text-primary-600"],[1,"icon-24","opacity-30"],[1,"text-xl","font-medium","opacity-30"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"div",1),u(2,Me,2,0,"h3",2),w(3,xe,5,4,"a",3,se),a(5,"h3",4),d(6,"Files"),o(),w(7,ye,8,2,"button",5,se,!1,we,5,0,"div",6),o()()),n&2&&(l(2),f(r.folders().length>0?2:-1),l(),F(r.folders()),l(4),F(r.files()))},dependencies:[I,W,B],encapsulation:2})}}return e})();var De=()=>["thumbnail","filename"],Se=()=>["thumbnail","filename","size"],Ee=()=>["thumbnail","filename","size","createdAt"],fe=(e,i,t)=>({default:e,640:i,1280:t}),ke=()=>["64px","minmax(80px, 1fr)"],Re=()=>["64px","minmax(80px, 1fr)","minmax(80px, 1fr)"],Le=()=>["64px","minmax(80px, 1fr)","minmax(80px, 1fr)","minmax(80px, 1fr)"],Be=e=>["../",e],We=(e,i)=>i.id;function Ie(e,i){if(e&1&&b(0,"img",9),e&2){let t=m(2).$implicit;p("src",t.thumbnail,k)}}function Ne(e,i){e&1&&(a(0,"i",8),d(1,"draft"),o())}function $e(e,i){if(e&1&&u(0,Ie,1,1,"img",9)(1,Ne,2,0,"i",8),e&2){let t=m().$implicit;f(t.thumbnail!=null?0:1)}}function Ve(e,i){e&1&&(a(0,"i",8),d(1,"folder"),o())}function He(e,i){if(e&1&&(a(0,"pui-table-cell",7),u(1,$e,2,1)(2,Ve,2,0,"i",8),o()),e&2){let t=i.$implicit,n=m();l(),f(t.type==n.mediaType.FILE?1:2)}}function ze(e,i){if(e&1&&(a(0,"pui-table-cell")(1,"span"),d(2),o()()),e&2){let t=i.$implicit;l(2),D(t.filename)}}function Ge(e,i){if(e&1&&(a(0,"span"),d(1),V(2,"number"),o()),e&2){let t=m().$implicit;l(),L("",H(2,1,t.sizeBytes/1024/1024,"1.0-0")," MB")}}function je(e,i){if(e&1&&(a(0,"span"),d(1),V(2,"number"),o()),e&2){let t=m().$implicit;l(),L("",H(2,1,t.sizeBytes/1024,"1.0-0")," KB")}}function Ae(e,i){if(e&1&&(a(0,"span"),d(1),o()),e&2){let t=m().$implicit;l(),L("",t.sizeBytes," Bytes")}}function qe(e,i){if(e&1&&(a(0,"pui-table-cell"),u(1,Ge,3,4,"span")(2,je,3,4,"span")(3,Ae,2,1,"span"),o()),e&2){let t=i.$implicit;l(),f(t.sizeBytes>1048576?1:t.sizeBytes>1024?2:t.sizeBytes!=null?3:-1)}}function Oe(e,i){if(e&1&&(a(0,"pui-table-cell",10),b(1,"pui-time-display",11),o()),e&2){let t=i.$implicit;p("rightAligned",!0),l(),p("date",t.createdAt)("format","yyyy MMM dd, HH:mm")}}function Pe(e,i){e&1&&(a(0,"pui-table-header-cell"),d(1,"Name"),o())}function Ue(e,i){e&1&&(a(0,"pui-table-header-cell"),d(1,"Size"),o())}function Ke(e,i){e&1&&(a(0,"pui-table-header-cell",10),d(1,"Date created"),o()),e&2&&p("rightAligned",!0)}function Je(e,i){if(e&1){let t=C();a(0,"pui-table-row",12),_("rowClick",function(){let r=M(t).$implicit,c=m();return x(c.navigateWithRouter()?{}:c.navigateTo.emit(r))}),o()}if(e&2){let t=i.$implicit,n=m();p("item",t)("route",n.navigateWithRouter()?S(2,Be,t.id):void 0)}}var _e=(()=>{class e{constructor(){this.media=s.required(),this.navigateWithRouter=s.required(),this.navigateTo=E(),this.processed=g(()=>this.media().toSorted((t,n)=>t.filename<n.filename?-1:t.filename>n.filename?1:0).toSorted((t,n)=>t.type==n.type?0:t.type==T.FOLDER?-1:n.type==T.FOLDER?1:0)),this.folders=g(()=>this.processed().filter(t=>t.type==T.FOLDER)),this.files=g(()=>this.processed().filter(t=>t.type==T.FILE)),this.mediaType=T}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=y({type:e,selectors:[["demo-media-manager-list"]],inputs:{media:[1,"media"],navigateWithRouter:[1,"navigateWithRouter"]},outputs:{navigateTo:"navigateTo"},decls:12,vars:29,consts:[[3,"id","itemHeight","columns","columnWidths"],["class","p-0 justify-center",4,"puiTableCellDef","puiTableCellDefType"],[4,"puiTableCellDef","puiTableCellDefType"],[3,"rightAligned",4,"puiTableCellDef","puiTableCellDefType"],[4,"puiTableHeaderCellDef"],[3,"rightAligned",4,"puiTableHeaderCellDef"],["puiHoverable","",3,"item","route"],[1,"p-0","justify-center"],[1,"icon-8","font-variation-fill","opacity-70"],[1,"aspect-square","h-16","object-cover",3,"src"],[3,"rightAligned"],[3,"date","format"],["puiHoverable","",3,"rowClick","item","route"]],template:function(n,r){n&1&&(a(0,"pui-table",0),R(1,He,3,1,"pui-table-cell",1)(2,ze,3,1,"pui-table-cell",2)(3,qe,4,1,"pui-table-cell",2)(4,Oe,2,3,"pui-table-cell",3)(5,Pe,2,0,"pui-table-header-cell",4)(6,Ue,2,0,"pui-table-header-cell",4)(7,Ke,2,1,"pui-table-header-cell",5),a(8,"pui-table-body"),b(9,"pui-table-header-row"),w(10,Je,1,4,"pui-table-row",6,We),o()()),n&2&&(p("id","media-manager-list")("itemHeight",64)("columns",$(18,fe,h(15,De),h(16,Se),h(17,Ee)))("columnWidths",$(25,fe,h(22,ke),h(23,Re),h(24,Le))),l(),p("puiTableCellDef","thumbnail")("puiTableCellDefType",r.rowType),l(),p("puiTableCellDef","filename")("puiTableCellDefType",r.rowType),l(),p("puiTableCellDef","size")("puiTableCellDefType",r.rowType),l(),p("puiTableCellDef","createdAt")("puiTableCellDefType",r.rowType),l(),p("puiTableHeaderCellDef","filename"),l(),p("puiTableHeaderCellDef","size"),l(),p("puiTableHeaderCellDef","createdAt"),l(3),F(r.processed()))},dependencies:[me,ae,oe,pe,de,re,ie,le,ne,K,Y,P],encapsulation:2})}}return e})();var Qe=e=>({"bg-hover dark:bg-hover-dark":e}),Xe=e=>["../",e],Ye=(e,i)=>i==null?null:i.id;function Ze(e,i){e&1&&(a(0,"i",13),d(1,"home"),o(),a(2,"span",14),d(3,"Home"),o())}function et(e,i){if(e&1&&(a(0,"span",11),d(1),o()),e&2){let t=m().$implicit;l(),D(t.filename)}}function tt(e,i){e&1&&(a(0,"i",12),d(1,"chevron_right"),o())}function it(e,i){if(e&1){let t=C();a(0,"a",10),_("click",function(){let r=M(t).$implicit,c=m();return x(c.navigateTo.emit(r))}),u(1,Ze,4,0)(2,et,2,1,"span",11),o(),u(3,tt,2,0,"i",12)}if(e&2){let t=i.$implicit,n=i.$index,r=i.$count,c=m();p("ngClass",S(4,Qe,n===0))("routerLink",c.navigateWithRouter()?S(6,Xe,(t==null?null:t.id)??null):null),l(),f(t==null?1:2),l(2),f(n!==r-1?3:-1)}}function nt(e,i){e&1&&(a(0,"div",15)(1,"i",16),d(2,"grid_view"),o()())}function at(e,i){e&1&&(a(0,"div",17)(1,"i",18),d(2,"list"),o()())}var ge=(()=>{class e{constructor(){this.parentFolders=s.required(),this.navigateWithRouter=s.required(),this.viewMode=s.required(),this.navigateTo=E(),this.viewModeChange=E()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=y({type:e,selectors:[["demo-media-manager-toolbar"]],inputs:{parentFolders:[1,"parentFolders"],navigateWithRouter:[1,"navigateWithRouter"],viewMode:[1,"viewMode"]},outputs:{navigateTo:"navigateTo",viewModeChange:"viewModeChange"},decls:15,vars:3,consts:[[1,"@container"],[1,"flex","flex-row","flex-wrap","@screen-sm:flex-nowrap","gap-x-3","gap-y-4"],[1,"overflow-x-auto","flex","items-center","basis-full"],[1,"flex","flex-row-reverse","items-center","gap-1","overflow-x-auto"],[1,"shrink","grow","basis-48","hidden","@screen-sm:block"],["puiBorderedButton","","puiTooltip","Sort by filename",1,"rounded-full","flex-row","px-4","gap-2","flex-none"],[1,"icon-4","font-variation-weight-light","rotate-180","-scale-x-100"],[1,"flex-none",3,"tabChange","currentTab"],["puiTooltip","Grid View",4,"puiTab"],["puiTooltip","List View",4,"puiTab"],["puiBaseButton","",1,"rounded-1","px-4","py-2","@screen-sm:px-2","gap-2","items-center","flex-none","rounded-aaa",3,"click","ngClass","routerLink"],[1,"text-base/none"],[1,"icon-4","font-variation-weight-bold","dark:text-primary-50"],[1,"icon-4","font-variation-fill"],[1,"font-medium","text-base/none","pt-px"],["puiTooltip","Grid View"],[1,"icon-5","font-variation-weight-light"],["puiTooltip","List View"],[1,"icon-5","font-variation-weight-bold"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(4,it,4,8,null,null,Ye),o()(),b(6,"div",4),a(7,"button",5)(8,"i",6),d(9,"sort"),o(),a(10,"span"),d(11,"Filename"),o()(),a(12,"pui-tab-bar",7),_("tabChange",function(v){return r.viewModeChange.emit(v)}),R(13,nt,3,0,"div",8)(14,at,3,0,"div",9),o()()()),n&2&&(l(4),F(r.parentFolders()),l(8),p("currentTab",r.viewMode()),l(),p("puiTab","grid"),l(),p("puiTab","list"))},dependencies:[te,ee,Z,Q,I,W,J,B,O],styles:[`[_nghost-%COMP%]     pui-tab-bar .pui-tab-bar-tabs{background:#bfbfbf0d;box-shadow:inset #ffffff08 0 0 4px,#0000001a 4px 2px 3px}

`]})}}return e})();var ve=()=>[];function ot(e,i){if(e&1){let t=C();a(0,"demo-media-manager-grid",3),_("navigateTo",function(r){M(t);let c=m();return x(c.onNavigateTo(r))}),o()}if(e&2){let t=m();p("media",t.children()??h(2,ve))("navigateWithRouter",t.navigateWithRouter())}}function rt(e,i){if(e&1){let t=C();a(0,"demo-media-manager-list",3),_("navigateTo",function(r){M(t);let c=m();return x(c.onNavigateTo(r))}),o()}if(e&2){let t=m();p("media",t.children()??h(2,ve))("navigateWithRouter",t.navigateWithRouter())}}var It=(()=>{class e{constructor(){this.dataService=G(ce),this.folderId=s(),this.currentFolderId=q(this.folderId),this.navigateWithRouter=s(!0),this.viewMode=j("grid"),this.allMedia=U(this.dataService.getList()),this.children=g(()=>this.allMedia()?.filter(t=>t.belongsInFolderId==this.currentFolderId())),this.parentFolders=g(()=>{let t=this.currentFolderId(),n=this.allMedia();if(n==null)return[];let r=n.find(N=>N.id==t)??null,c=r?.belongsInFolderId??null,v=[];do{if(v=v.toSpliced(v.length,0,r??null),r==null)break;r=n.find(N=>N.id==c)??null,c=r?.belongsInFolderId??null}while(!0);return v}),A(()=>{this.currentFolderId.set(this.folderId()??null)})}onNavigateTo(t){this.currentFolderId.set(t?.id??null)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=y({type:e,selectors:[["demo-media-manager-folder"]],inputs:{folderId:[1,"folderId"],navigateWithRouter:[1,"navigateWithRouter"]},decls:5,vars:4,consts:[[1,"flex","flex-col","gap-4"],[3,"navigateTo","viewModeChange","parentFolders","navigateWithRouter","viewMode"],[3,"media","navigateWithRouter"],[3,"navigateTo","media","navigateWithRouter"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"demo-media-manager-toolbar",1),_("navigateTo",function(v){return r.onNavigateTo(v)})("viewModeChange",function(v){return r.viewMode.set(v)}),o(),b(2,"pui-divider"),u(3,ot,1,3,"demo-media-manager-grid",2)(4,rt,1,3,"demo-media-manager-list",2),o()),n&2&&(l(),p("parentFolders",r.parentFolders())("navigateWithRouter",r.navigateWithRouter())("viewMode",r.viewMode()),l(2),f(r.viewMode()=="grid"?3:4))},dependencies:[ge,X,ue,_e],encapsulation:2})}}return e})();export{It as a};
