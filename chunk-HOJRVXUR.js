import{a as d}from"./chunk-VEO7D5VQ.js";import{c as S,d as I,e as T,g as N,k as w,m as M,n as E,o as A,p as u,q as f}from"./chunk-PWUYYVRI.js";import"./chunk-QLEH2ZB5.js";import{Ca as h,K as m,P as l}from"./chunk-UG5YWBUR.js";import{Rb as C,X as a,Xa as v,aa as s,lc as n,p as g,pa as o,ra as y,vb as b,wb as D}from"./chunk-456UTSJA.js";import{a as c}from"./chunk-C6Q5SG76.js";var L=(()=>{class e{constructor(){this.dataService=s(d),this.list=l(this.dataService.getList()),this.id=o(void 0),this.heading=n(()=>{let t=this.list()?.find(i=>i.id==this.id())?.location;return t?`${t.aisle.toUpperCase()}${t.row} - ${t.layer}`:"--"}),this.tabs=o([{label:"Raw",route:["./"]}])}onParamsChange(t,i){this.id.set(t.id)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=a({token:e,factory:e.\u0275fac})}}return e})();var F=(()=>{class e{constructor(){this.dataService=s(d),this.list=l(this.dataService.getList()),this.id=o(void 0),this.data=o(void 0),this.fieldConfiguration=o({type:"object",properties:{location:{type:"object",description:"Shelf Location",properties:{aisle:{type:"string",description:"Aisle"},row:{type:"number",description:"Row"},layer:{type:"number",description:"Layer"}}},maxCapacity:{type:"number",description:"Maximum Capacity (grams)"},isAllowFragileItems:{type:"boolean",description:"Allows Fragile Items Inside"},dimensions:{type:"object",description:"Dimension",properties:{width:{type:"number",description:"Width (millimeters)"},depth:{type:"number",description:"Depth (millimeters)"},height:{type:"number",description:"Height (millimeters)"}}}}}),this.isDirty=o(!1),this.updatedValue=o(void 0),this.controlsConfig=n(()=>this.isDirty()?I:S),y(()=>{this.data.set(m(this.list()?.find(t=>t.id==this.id())))})}registerUpdateState(t){this.updateState=t}onStateChange(t){this.isDirty.update(i=>t.isDirty??i)}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,i){switch(t){case"refresh":case"cancel":{this.data.set(m(this.list()?.find(r=>r.id==this.id()))),this.updateState({isDirty:!1});break}case"save":{let r=this.updatedValue();r&&(this.dataService.save(this.id(),r),this.updateState({isDirty:!1}));break}}}onParamsChange(t,i){this.id.set(t.id)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=a({token:e,factory:e.\u0275fac})}}return e})();var R=(()=>{class e{constructor(){this.heading=o("Warehouse Shelves"),this.tabs=o([{label:"Map",route:["map"]},{label:"Data",route:["data"]}])}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=a({token:e,factory:e.\u0275fac})}}return e})();var j=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=v({type:e,selectors:[["demo-inventory-shelf-map"]],decls:2,vars:0,template:function(i,r){i&1&&(b(0,"p"),C(1,"inventory-shelf-map works!"),D())},encapsulation:2})}}return e})();var k=(()=>{class e{constructor(){this.dataService=s(d),this.rawData=l(this.dataService.getList()),this.configuration={id:"inventory-shelf-table",useVirtualScroll:!0},this.data=n(()=>(this.rawData()??[]).toSorted(this.sortFn())),this.columnsConfig=o([{key:"aisle",path:"location.aisle",label:"Aisle"},{key:"row",path:"location.row",label:"Row"},{key:"layer",path:"location.layer",label:"Layer"},{key:"maxCapacity",label:"Maximum Capacity (g)",fieldConfiguration:{type:"number"}},{key:"isAllowFragileItems",label:"Allows Fragile",fieldConfiguration:{type:"boolean"}}]),this.columnsToDisplay=o(["aisle","row","layer","maxCapacity","isAllowFragileItems"]),this.controlsConfig=o([{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"}]),this.sortFn=n(()=>w(this.columnsConfig()))}onHeaderCellClick(t,i){this.columnsConfig.update(r=>A(r,t))}routeToDetail(t){return["../","detail",t.id]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=a({token:e,factory:e.\u0275fac})}}return e})();var me=[{path:"",data:c({},h({title:"Shelf"})),children:[{path:"detail/:id",component:f,data:c({},h({titleFn:e=>e.params.pipe(g(x=>x.id))})),providers:[{provide:u,useClass:L}],children:[{path:"",component:N,providers:[{provide:T,useClass:F}]}]},{path:"",component:f,providers:[{provide:u,useClass:R}],children:[{path:"map",component:j},{path:"data",component:E,providers:[{provide:M,useClass:k}]},{path:"**",redirectTo:"map"}]}]}];export{me as ROUTES};
