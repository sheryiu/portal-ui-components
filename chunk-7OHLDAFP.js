import{A as pt,Aa as Tt,Da as gt,Fa as yt,Ga as xt,Ha as le,I as ut,Ia as ce,L as S,M as _t,Na as se,O as mt,Oa as de,P as Ht,Pa as pe,Q as Ut,Qa as ue,R as Yt,Ra as _e,S as qt,Sa as me,T as Wt,Ta as Ce,U as Ct,Ua as fe,Va as he,Wa as be,Xa as ve,Ya as Te,Z as Gt,Za as ge,aa as Kt,ba as Jt,c as Nt,d as rt,ga as Qt,h as jt,ja as Xt,ka as Zt,la as te,ma as ee,na as ie,o as zt,oa as ne,p as lt,pa as oe,qa as ae,r as M,ra as re,s as ct,sa as ft,ta as ht,ua as bt,w as st,wa as j,x as N,y as G,z as dt,za as vt}from"./chunk-Y6R2DDU3.js";import{$ as Z,$b as ot,Ab as D,Bb as c,C as H,Cb as d,Da as U,Db as h,Eb as R,Fb as y,H as Et,Ha as Lt,Ib as v,Jb as r,Kb as Bt,Lb as it,Ra as s,Ub as f,V as $t,Vb as b,Yb as nt,ac as Y,bc as F,ca as L,eb as E,fa as _,gb as Rt,gc as I,ic as q,jc as at,lb as u,oa as T,pa as g,q as X,r as P,rc as Mt,sa as tt,ta as Vt,tb as It,tc as m,ub as p,vb as et,vc as W,wb as Ot,wc as B,xb as C,ya as At,yb as Pt,z as St,za as k,zb as x}from"./chunk-NI5DWAPZ.js";import{a as w,b as A}from"./chunk-EQDQRRRY.js";var Q=(e,n)=>n.id;function Fe(e,n){if(e&1&&R(0,3),e&2){let t=r();p("ngComponentOutlet",t.configuration.content)("ngComponentOutletInputs",t.contentInputs())}}function Se(e,n){if(e&1&&(c(0,"i"),f(1),d()),e&2){let t=r(2).$implicit;s(),b(t.icon)}}function Ee(e,n){if(e&1&&R(0,8),e&2){let t=r(2).$implicit;p("ngTemplateOutlet",t.iconTemplateRef)}}function $e(e,n){if(e&1){let t=y();c(0,"button",7),v("click",function(o){T(t);let a=r().$implicit,l=r();return g(l.layoutService.controlOnClick(a.id,o))}),u(1,Se,2,1,"i")(2,Ee,1,1,"ng-container",8),c(3,"span"),f(4),d()()}if(e&2){let t=r().$implicit;p("disabled",t.isDisabled)("hoverableEnabled",!t.isDisabled),s(),C(t.icon?1:t.iconTemplateRef?2:-1),s(3),b(t.label)}}function Ve(e,n){if(e&1&&(c(0,"i"),f(1),d()),e&2){let t=r(2).$implicit;s(),b(t.icon)}}function Ae(e,n){if(e&1&&R(0,8),e&2){let t=r(2).$implicit;p("ngTemplateOutlet",t.iconTemplateRef)}}function Le(e,n){if(e&1){let t=y();c(0,"button",9),v("click",function(o){T(t);let a=r().$implicit,l=r();return g(l.layoutService.controlOnClick(a.id,o))}),u(1,Ve,2,1,"i")(2,Ae,1,1,"ng-container",8),d()}if(e&2){let t=r().$implicit;p("disabled",t.isDisabled)("hoverableEnabled",!t.isDisabled),s(),C(t.icon?1:t.iconTemplateRef?2:-1)}}function Re(e,n){}function Ie(e,n){if(e&1&&u(0,$e,5,4,"button",5)(1,Le,3,3,"button",6)(2,Re,0,0),e&2){let t=n.$implicit,i=r();C(t.id==i.mostEmphasizedControlId()?0:t.icon||t.iconTemplateRef?1:2)}}var Dt=(e,n)=>n.key,K=e=>({enum:e}),ye=()=>({});function Oe(e,n){if(e&1&&h(0,"pui-field-def",2),e&2){let t,i=n.$implicit;p("key",i.key)("fieldType",i.fieldConfiguration.type)("label",(t=i.fieldConfiguration.description)!==null&&t!==void 0?t:i.key)("fieldConfig",i.fieldConfiguration.type=="string"?F(4,K,i.fieldConfiguration.enum):i.fieldConfiguration.type=="number"?F(6,K,i.fieldConfiguration.enum):Y(8,ye))}}function Pe(e,n){if(e&1&&(c(0,"form")(1,"pui-fieldset",1),x(2,Oe,1,9,"pui-field-def",2,Dt),d()()),e&2){let t=r();s(),p("formControl",t.formControl),s(),D(t.flattenedControls())}}function Be(e,n){if(e&1){let t=y();c(0,"pui-layout-control",3),v("click",function(o){let a=T(t).$implicit,l=r();return g(l.onControlClick(a.id,o))}),d()}if(e&2){let t=n.$implicit;p("id",t.id)("label",t.label)("icon",t.icon)("iconTemplateRef",t.iconTemplateRef)("disabled",t.isDisabled)("weight",t.weight)("mode",t.mode)}}var Me=()=>[],Ne=e=>({peek:e}),je=e=>({outlets:e}),ze=e=>[e];function He(e,n){if(e&1&&(c(0,"a",1)(1,"i"),f(2,"open_in_full"),d()()),e&2){let t=r();p("routerLink",t.routeToFullContent())}}var Ue=[[["",8,"pui-root-sidenav__header__logo"]],[["",8,"pui-root-sidenav__nav"]]],Ye=[".pui-root-sidenav__header__logo",".pui-root-sidenav__nav"];function qe(e,n){if(e&1&&h(0,"pui-field-def",5),e&2){let t,i=n.$implicit;p("key",i.key)("fieldType",i.fieldConfiguration.type)("label",(t=i.fieldConfiguration.description)!==null&&t!==void 0?t:i.key)("fieldConfig",i.fieldConfiguration.type=="string"?F(5,K,i.fieldConfiguration.enum):i.fieldConfiguration.type=="number"?F(7,K,i.fieldConfiguration.enum):Y(9,ye))("isNullable",!1)}}function We(e,n){if(e&1){let t=y();c(0,"pui-fieldset",4),v("valueChange",function(o){T(t);let a=r();return g(a.onFilterValueChange(o))}),x(1,qe,1,10,"pui-field-def",5,Dt),d()}if(e&2){let t=r();p("formControl",t.filterFormControl),s(),D(t.flattenFilterDef())}}function Ge(e,n){if(e&1&&h(0,"pui-loading-panel"),e&2){let t=r();p("@loading",void 0)("@.disabled",t.isInitial())}}function Ke(e,n){if(e&1){let t=y();c(0,"pui-table-header-cell",8),v("cellClick",function(o){T(t);let a=r().$implicit,l=r(2);return g(l.onHeaderClick(a.key,o))}),f(1),d()}if(e&2){let t,i,o,a=r().$implicit;p("rightAligned",(t=a.isAlignEnd)!==null&&t!==void 0?t:!1)("sortedAsc",(i=a.isSortedAsc)!==null&&i!==void 0?i:!1)("sortedDesc",(o=a.isSortedDesc)!==null&&o!==void 0?o:!1),s(),b(a.label)}}function Je(e,n){e&1&&f(0," \xA0ago ")}function Qe(e,n){if(e&1&&(h(0,"pui-time-display",11),u(1,Je,1,0)),e&2){let t=r(2).$implicit,i=r().$implicit;p("mode",i.fieldConfiguration.format=="timeAgo"?"timeAgo":"normal")("format",i.fieldConfiguration.format)("date",t[i.key]),s(),C(i.fieldConfiguration.format=="timeAgo"?1:-1)}}function Xe(e,n){if(e&1&&(nt(0),I(1,"lodashGet"),c(2,"i",12),f(3),d()),e&2){let t,i=r(2).$implicit,o=r().$implicit,a=q(1,3,i,(t=o.path)!==null&&t!==void 0?t:o.key);s(2),Ot("pui-table-cell__boolean-content--true",a===!0),s(),b(a===!0?"check":a===!1?"close":"")}}function Ze(e,n){if(e&1&&(c(0,"span"),f(1),I(2,"lodashGet"),d()),e&2){let t,i=r(2).$implicit,o=r().$implicit;s(),b(q(2,1,i,(t=o.path)!==null&&t!==void 0?t:o.key))}}function ti(e,n){if(e&1&&u(0,Qe,2,4)(1,Xe,4,6,"i",10)(2,Ze,3,4,"span"),e&2){let t,i=r(2).$implicit;C((t=i.fieldConfiguration.type)==="date-time"?0:t==="boolean"?1:2)}}function ei(e,n){if(e&1&&(c(0,"span"),f(1),I(2,"lodashGet"),d()),e&2){let t,i=r().$implicit,o=r().$implicit;s(),b(q(2,1,i,(t=o.path)!==null&&t!==void 0?t:o.key))}}function ii(e,n){if(e&1&&(c(0,"pui-table-cell",9),u(1,ti,3,1)(2,ei,3,4,"span"),d()),e&2){let t,i=r().$implicit;p("rightAligned",(t=i.isAlignEnd)!==null&&t!==void 0?t:!1),s(),C(i.fieldConfiguration?1:2)}}function ni(e,n){if(e&1&&u(0,Ke,2,4,"pui-table-header-cell",6)(1,ii,3,2,"pui-table-cell",7),e&2){let t=n.$implicit;p("puiTableHeaderCellDef",t.key),s(),p("puiTableCellDef",t.key)}}function oi(e,n){if(e&1){let t=y();c(0,"pui-table-row",16),I(1,"isInSet"),v("click",function(){let o=T(t).$implicit,a=r(4);return g(a.onRowClick(o))}),d()}if(e&2){let t=n.$implicit,i=r(4);et("height",48,"px"),p("item",t)("route",t[i.ROUTE_TO_DETAIL])("selected",at(1,5,t,i.selectedItems(),i.cmpFn))}}function ai(e,n){if(e&1&&(c(0,"cdk-virtual-scroll-viewport",14),u(1,oi,2,9,"pui-table-row",15),d()),e&2){let t=r(3);et("height",t.data().length*48,"px"),s(),p("cdkVirtualForOf",t.data())("cdkVirtualForTrackBy",t.trackingFn)("cdkVirtualForTemplateCacheSize",0)}}function ri(e,n){if(e&1&&u(0,ai,2,5,"cdk-virtual-scroll-viewport",13),e&2){let t=r(2);C(t.isBrowser?0:-1)}}function li(e,n){if(e&1){let t=y();c(0,"pui-table-row",16),I(1,"isInSet"),v("click",function(){let o=T(t).$implicit,a=r(3);return g(a.onRowClick(o))}),d()}if(e&2){let t=n.$implicit,i=r(3);p("item",t)("route",t[i.ROUTE_TO_DETAIL])("selected",at(1,3,t,i.selectedItems(),i.cmpFn))}}function ci(e,n){if(e&1&&x(0,li,2,7,"pui-table-row",17,Pt),e&2){let t=r(2);D(t.data())}}function si(e,n){if(e&1&&(c(0,"pui-table",2),x(1,ni,2,2,null,null,Dt),c(3,"pui-table-body"),h(4,"pui-table-header-row"),u(5,ri,1,1)(6,ci,2,0),d()()),e&2){let t=r();p("@loading",void 0)("@.disabled",t.isInitial())("itemHeight",48)("columns",t.columnsToDisplay())("selectionMode",t.selectionMode()),s(),D(t.columnConfig()),s(4),C(t.configuration!=null&&t.configuration.useVirtualScroll?5:6)}}function di(e,n){if(e&1){let t=y();c(0,"pui-layout-control",18),v("click",function(o){let a=T(t).$implicit,l=r();return g(l.onControlClick(a.id,o))}),d()}if(e&2){let t=n.$implicit;p("id",t.id)("label",t.label)("icon",t.icon)("iconTemplateRef",t.iconTemplateRef)("disabled",t.isDisabled)("weight",t.weight)("mode",t.mode)}}var pi=(e,n)=>n.label;function ui(e,n){if(e&1&&(c(0,"a",6),f(1),d()),e&2){let t=r().$implicit;p("routerLink",t.route),s(),b(t.label)}}function _i(e,n){if(e&1&&u(0,ui,2,2,"a",7),e&2){let t=n.$implicit;p("puiTab",t.label)}}function mi(e,n){if(e&1){let t=y();c(0,"pui-tab-bar",5),v("tabChange",function(o){T(t);let a=r(2);return g(a.onTabChanged(o))}),x(1,_i,1,1,"a",6,pi),d()}if(e&2){let t=r(2);p("currentTab",t.activeTab()),s(),D(t.tabs())}}function Ci(e,n){if(e&1&&(c(0,"i"),f(1),d()),e&2){let t=r(2).$implicit;s(),b(t.icon)}}function fi(e,n){if(e&1&&R(0,11),e&2){let t=r(2).$implicit;p("ngTemplateOutlet",t.iconTemplateRef)}}function hi(e,n){if(e&1){let t=y();c(0,"button",10),v("click",function(o){T(t);let a=r().$implicit,l=r(2);return g(l.layoutService.controlOnClick(a.id,o))}),u(1,Ci,2,1,"i")(2,fi,1,1,"ng-container",11),c(3,"span"),f(4),d()()}if(e&2){let t=r().$implicit;p("disabled",t.isDisabled)("hoverableEnabled",!t.isDisabled),s(),C(t.icon?1:t.iconTemplateRef?2:-1),s(3),b(t.label)}}function bi(e,n){if(e&1&&(c(0,"i"),f(1),d()),e&2){let t=r(2).$implicit;s(),b(t.icon)}}function vi(e,n){if(e&1&&R(0,11),e&2){let t=r(2).$implicit;p("ngTemplateOutlet",t.iconTemplateRef)}}function Ti(e,n){if(e&1){let t=y();c(0,"button",12),v("click",function(o){T(t);let a=r().$implicit,l=r(2);return g(l.layoutService.controlOnClick(a.id,o))}),u(1,bi,2,1,"i")(2,vi,1,1,"ng-container",11),d()}if(e&2){let t=r().$implicit;p("disabled",t.isDisabled)("hoverableEnabled",!t.isDisabled)("puiTooltip",t.label),s(),C(t.icon?1:t.iconTemplateRef?2:-1)}}function gi(e,n){}function yi(e,n){if(e&1&&u(0,hi,5,4,"button",8)(1,Ti,3,4,"button",9)(2,gi,0,0),e&2){let t=n.$implicit,i=r(2);C(t.id==i.mostEmphasizedControlId()?0:t.icon||t.iconTemplateRef?1:2)}}function xi(e,n){if(e&1&&(c(0,"header",2),u(1,mi,3,1,"pui-tab-bar",3),h(2,"div",4),x(3,yi,3,1,null,null,Q),d()),e&2){let t=r();s(),C(t.tabs().length>0?1:-1),s(2),D(t.controls())}}var z=(()=>{class e{constructor(){this._controls=U([]),this.controls=m(()=>this._controls().toSorted((t,i)=>(t.weight??0)-(i.weight??0))),this.mostEmphasizedControlId=m(()=>this.controls().filter(t=>!t.mode||t.mode=="auto").at(-1)?.id),this.eventsMap={}}registerControl(t,i){return this._controls.update(o=>[...o,w({},t)]),this.eventsMap[t.id]=i,{update:o=>{this._controls.update(a=>a.map(l=>l.id==o.id?w(w({},l),o):l))},dispose:()=>{this._controls.update(o=>o.filter(a=>a.id!=t.id))}}}controlOnClick(t,i){this.eventsMap[t]?.click?.(i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Z({token:e,factory:e.\u0275fac})}}return e})(),Di=(()=>{class e{constructor(){this.overlayRef=_(oe),this.dataProvider=_(xe),this.layoutService=_(z,{self:!0}),this.configuration=this.dataProvider?.configuration,this.heading=m(()=>this.dataProvider.heading()),this.contentInputs=m(()=>this.dataProvider.contentInputs?.()??{}),this.controls=this.layoutService.controls,this.mostEmphasizedControlId=this.layoutService.mostEmphasizedControlId,this.dataProvider.onActionDrawerInit?.(this.overlayRef)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=E({type:e,selectors:[["pui-action-drawer-layout"]],hostAttrs:[1,"pui-action-drawer-layout"],features:[ot([z])],decls:10,vars:2,consts:[[1,"@container/layout"],[1,"pui-action-drawer-layout__heading"],[1,"pui-action-drawer-layout__content"],[3,"ngComponentOutlet","ngComponentOutletInputs"],[1,"pui-action-drawer-layout__controls"],["puiFilledButton","","color","accent",1,"pui-action-drawer-layout__controls__most-emphasized",3,"disabled","hoverableEnabled"],["puiBorderedButton","","color","accent",1,"pui-action-drawer-layout__controls__normal",3,"disabled","hoverableEnabled"],["puiFilledButton","","color","accent",1,"pui-action-drawer-layout__controls__most-emphasized",3,"click","disabled","hoverableEnabled"],[3,"ngTemplateOutlet"],["puiBorderedButton","","color","accent",1,"pui-action-drawer-layout__controls__normal",3,"click","disabled","hoverableEnabled"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"header",1),h(2,"pui-breadcrumbs"),c(3,"h1"),f(4),d()(),c(5,"div",2),u(6,Fe,1,2,"ng-container",3),d(),c(7,"div",4),x(8,Ie,3,1,null,null,Q),d()()),i&2&&(s(4),b(o.heading()),s(2),C(o.configuration&&o.configuration.content?6:-1),s(2),D(o.controls()))},dependencies:[Tt,Nt,rt,j,ht,bt],encapsulation:2})}}return e})(),xe=new L("action drawer layout data provider"),Xi=(()=>{class e{constructor(){this.overlay=_(ae),this.injector=_(tt)}open(t,i={width:"480px"}){this.overlay.open(Di,{positionStrategy:this.overlay.position().global().right("0").centerVertically(),maxWidth:"90vw",width:i.width??"480px",height:"100%",hasBackdrop:!0,backdropClass:"pui-action-drawer-backdrop",closeOnBackdropClick:!0,disposeOnNavigation:!0,closeOnEscapeKeydown:!0,animation:"slideInEnd",data:i.overlayData,parentInjector:tt.create({providers:[{provide:ne,useValue:i.overlayData},{provide:xe,useClass:t},...i.providers??[]],parent:i.parent??this.injector})})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wi=[{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"}],Zi=[{id:"cancel",label:"Cancel",icon:"close",mode:"low-emphasis"},{id:"save",label:"Save",icon:"save"}],ki=new L("editable content data provider");function J(e,n,t,i){return Object.entries(e.properties).flatMap(([a,l])=>{if(l.type=="object")return J(l,n,`${t?`${t}.`:""}${a}`,`${i}${l.description??""} / `);if(l.type=="array"){let $=ut(n,`${t?`${t}.`:""}${a}`);return[{key:`${t?`${t}.`:""}${a}`,fieldConfiguration:A(w({},l),{description:`${i}${l.description??""}`})},...Array.isArray($)?$.flatMap((wt,V)=>l.items.type=="object"?[...J(l.items,n,`${t?`${t}.`:""}${a}[${V}]`,`${i}${l.description??""} / #${V} / `)]:[{key:`${t?`${t}.`:""}${a}[${V}]`,fieldConfiguration:A(w({},l.items),{description:`${i}${l.description??""} / #${V}`})}]):[]]}return[{key:`${t?`${t}.`:""}${a}`,fieldConfiguration:A(w({},l),{description:i+l.description})}]})}var De=(()=>{class e{constructor(){if(this.layoutService=_(z,{optional:!0}),this.destroyRef=_(Vt),this.id=k.required(),this.label=k.required(),this.weight=k(0),this.icon=k(),this.iconTemplateRef=k(),this.disabled=k(!1,{transform:Mt}),this.mode=k(void 0),this.click=At(),!this.layoutService)return;let t,i;B(()=>{let o=this.id(),a=this.label(),l=this.disabled(),$=this.icon(),wt=this.iconTemplateRef(),V=this.mode(),we=this.weight(),kt={id:o,label:a,isDisabled:l,icon:$,iconTemplateRef:wt,weight:we,mode:V};if(t)t(kt);else{let Ft=this.layoutService.registerControl(kt,{click:ke=>this.click.emit(ke)});t=Ft.update,i=Ft.dispose}}),this.destroyRef.onDestroy(()=>{i?.()})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Rt({type:e,selectors:[["pui-layout-control"]],inputs:{id:[1,"id"],label:[1,"label"],weight:[1,"weight"],icon:[1,"icon"],iconTemplateRef:[1,"iconTemplateRef"],disabled:[1,"disabled"],mode:[1,"mode"]},outputs:{click:"click"}})}}return e})(),tn=(()=>{class e{constructor(){this.route=_(N),this.dataProvider=_(ki),this.formControl=new qt(void 0),this.data=m(()=>this.dataProvider.data()),this.fieldConfiguration=m(()=>this.dataProvider.fieldConfiguration()),this.formControlValue=_t(this.formControl.events.pipe(H(t=>t instanceof Ut),X(t=>t.value))),this.flattenedControls=m(()=>{let t=this.fieldConfiguration(),i=this.formControlValue();return t?J(t,i,"",t.description?`${t.description} / `:""):[]}),this.controlsConfig=m(()=>this.dataProvider.controlsConfig?.()??wi),B(()=>{let t=this.data();W(()=>this.formControl.setValue(t))}),B(()=>{let t=this.formControlValue();W(()=>this.dataProvider.onValueChange?.(t))}),P([this.route.params,this.route.queryParams]).pipe(S()).subscribe(([t,i])=>this.dataProvider.onParamsChange?.(t,i)),this.formControl.events.pipe(S()).subscribe(()=>{this.dataProvider.onStateChange?.({isValid:this.formControl.valid,isDisabled:this.formControl.disabled,isDirty:this.formControl.dirty})}),this.dataProvider.registerUpdateState?.(t=>{W(()=>{t?.isDirty===!1?this.formControl.markAsPristine():t?.isDirty===!0&&this.formControl.markAsDirty(),t?.isDisabled===!1?this.formControl.enable():t?.isDisabled===!0&&this.formControl.disable()})})}onControlClick(t,i){this.dataProvider.onControlClick?.(t,i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=E({type:e,selectors:[["pui-editable-content"]],hostAttrs:[1,"pui-editable-content"],decls:4,vars:1,consts:[[3,"id","label","icon","iconTemplateRef","disabled","weight","mode"],[3,"formControl"],[3,"key","fieldType","label","fieldConfig"],[3,"click","id","label","icon","iconTemplateRef","disabled","weight","mode"]],template:function(i,o){i&1&&(c(0,"main"),u(1,Pe,4,1,"form"),d(),x(2,Be,1,7,"pui-layout-control",0,Q)),i&2&&(s(),C(o.flattenedControls().length>0?1:-1),s(),D(o.controlsConfig()))},dependencies:[xt,yt,gt,Wt,mt,Ht,Yt,Ct,De],encapsulation:2})}}return e})(),Fi=new L("peekable addon data provider"),Si=(()=>{class e{constructor(){this.dataProvider=_(Fi,{optional:!0}),this.route=_(N),this.routeToFullContent=m(()=>this.dataProvider?.routeToFullContent()??null),P([this.route.params,this.route.queryParams]).pipe(S()).subscribe(([t,i])=>this.dataProvider?.onParamsChange?.(t,i))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=E({type:e,selectors:[["pui-peekable-addon"]],hostAttrs:[1,"pui-peekable-addon"],decls:8,vars:9,consts:[[1,"pui-peekable-addon__nav"],["puiBaseButton","","puiTooltip","View in full",1,"pui-peekable-addon__nav-button",3,"routerLink"],[1,"spacer"],["puiBaseButton","","puiTooltip","Close peek window",1,"pui-peekable-addon__nav-button",3,"routerLink"],[1,"pui-peekable-addon__content"],["name","peek"]],template:function(i,o){i&1&&(c(0,"nav",0),u(1,He,3,1,"a",1),h(2,"div",2),c(3,"a",3)(4,"i"),f(5,"close"),d()()(),c(6,"main",4),h(7,"router-outlet",5),d()),i&2&&(s(),C(o.routeToFullContent()?1:-1),s(2),p("routerLink",F(7,ze,F(5,je,F(3,Ne,Y(2,Me))))))},dependencies:[G,pt,j,ft,vt],encapsulation:2})}}return e})(),en=(()=>{class e{constructor(){this.router=_(dt,{optional:!0}),this.isSidenavVisible=U(!1),this.router?.events.pipe(H(t=>t instanceof st),Et(150),S()).subscribe(()=>{this.isSidenavVisible.set(!1)})}toggleSidenav(t){this.isSidenavVisible.update(i=>t??!i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=E({type:e,selectors:[["pui-root-sidenav"]],ngContentSelectors:Ye,decls:12,vars:1,consts:[[1,"pui-root-sidenav"],[1,"pui-root-sidenav__header"],["puiBaseButton","",1,"pui-root-sidenav__header__hamburger",3,"click"],[1,"spacer"],[1,"pui-root-sidenav__nav-wrapper"],[1,"pui-root-sidenav__content-wrapper"],[1,"pui-root-sidenav__content"]],template:function(i,o){i&1&&(Bt(Ue),c(0,"div",0)(1,"div",1)(2,"button",2),v("click",function(){return o.toggleSidenav()}),c(3,"i"),f(4,"menu"),d()(),h(5,"div",3),it(6),d(),c(7,"div",4),it(8,1),d()(),c(9,"div",5)(10,"div",6),h(11,"router-outlet"),d()()),i&2&&(s(10),It("data-sidenav",o.isSidenavVisible()?"visible":"hidden"))},dependencies:[j,ft,G],encapsulation:2})}}return e})();function nn(e,n,t=!0){let i=Object.values(e??{}).some(a=>typeof a=="string"?!!a:a!=null),o=Object.keys(e??{});return a=>{if(!i)return!0;if(t){for(let l of o)if(l in n&&n[l]!=null&&!n[l](a,l,e[l],e))return!1;return!0}else{for(let l of o)if(l in n&&n[l]!=null&&n[l](a,l,e[l],e))return!0;return!1}}}function on(e){let n=e.find(i=>i.isSortedAsc||i.isSortedDesc);if(!n)return()=>0;let t=n.isSortedDesc?-1:1;return n.fieldConfiguration?.type=="date-time"?(i,o)=>{let a=O(i,n),l=O(o,n);return a==null&&l==null?0:a instanceof Date&&l instanceof Date?(a.getTime()-l.getTime())*t:a instanceof Date?1*t:-1*t}:(i,o)=>{switch(n.key){default:return O(i,n)>O(o,n)?t:O(i,n)<O(o,n)?-1*t:0}}}function O(e,n){return n.path?ut(e,n.path):e[n.key]}var Ei=[{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"},{id:"add",label:"Add new",icon:"add"}],$i=new L("table content data provider"),an=(()=>{class e{constructor(){this.route=_(N),this.dataProvider=_($i),this.isBrowser=jt(_(Lt)),this.ROUTE_TO_DETAIL=Symbol(),this.configuration=this.dataProvider.configuration,this.isLoading=m(()=>this.dataProvider.isLoading?.()??!1),this.data=m(()=>{let t=this.dataProvider.data(),i=this.dataProvider.routeToDetail;return t?.map(o=>Object.assign({},o,{[this.ROUTE_TO_DETAIL]:i?.bind(this.dataProvider)?.(o)}))}),this.columnConfig=m(()=>this.dataProvider.columnsConfig()),this.columnsToDisplay=m(()=>this.dataProvider.columnsToDisplay()),this.selectionMode=m(()=>this.dataProvider.selectionMode?.()??null),this.selectedItems=m(()=>this.dataProvider.selectedItems?.()??new Set),this.controlsConfig=m(()=>this.dataProvider.controlsConfig?.()??Ei),this.flattenFilterDef=m(()=>{let t=this.dataProvider.filterConfig?.();return t?J(t,{},"",t.description?`${t.description} / `:""):[]}),this.filterFormControl=_(Gt).nonNullable.control({}),this.isInitial=_t(St(100).pipe(X(()=>!1)),{initialValue:!0}),this.cmpFn=this.dataProvider.compareFn??((t,i)=>t==i),P([this.route.params,this.route.queryParams]).pipe(S()).subscribe(([t,i])=>this.dataProvider.onParamsChange?.(t,i)),B(()=>{this.dataProvider.filterValue&&this.filterFormControl.setValue(this.dataProvider.filterValue?.(),{emitEvent:!1})})}ngOnInit(){this.dataProvider?.onInit?.()}ngOnDestroy(){this.dataProvider?.onDestroy?.()}onRowClick(t){this.dataProvider.onTableRowClick?.(t)}onHeaderClick(t,i){this.dataProvider.onHeaderCellClick?.(t,i)}onControlClick(t,i){this.dataProvider.onControlClick?.(t,i)}onFilterValueChange(t){this.dataProvider.onFilterChange?.(t)}trackingFn(t,i){return t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=E({type:e,selectors:[["pui-table-content"]],hostAttrs:[1,"pui-table-content"],decls:9,vars:2,consts:[[3,"formControl"],[1,"pui-table-content__content-wrapper"],[3,"itemHeight","columns","selectionMode"],[3,"id","label","icon","iconTemplateRef","disabled","weight","mode"],[3,"valueChange","formControl"],[3,"key","fieldType","label","fieldConfig","isNullable"],[3,"rightAligned","sortedAsc","sortedDesc","cellClick",4,"puiTableHeaderCellDef"],[3,"rightAligned",4,"puiTableCellDef"],[3,"cellClick","rightAligned","sortedAsc","sortedDesc"],[3,"rightAligned"],[1,"pui-table-cell__boolean-content",3,"pui-table-cell__boolean-content--true"],[3,"mode","format","date"],[1,"pui-table-cell__boolean-content"],["itemSize","48","scrollWindow","",3,"height"],["itemSize","48","scrollWindow",""],["puiHoverable","",3,"item","route","height","selected","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],["puiHoverable","",3,"click","item","route","selected"],["puiHoverable","",3,"item","route","selected"],[3,"click","id","label","icon","iconTemplateRef","disabled","weight","mode"]],template:function(i,o){if(i&1&&(c(0,"main")(1,"div"),nt(2),u(3,We,3,1,"pui-fieldset",0),c(4,"div",1),u(5,Ge,1,2,"pui-loading-panel")(6,si,7,6,"pui-table",2),d()()(),x(7,di,1,7,"pui-layout-control",3,Q)),i&2){let a=o.flattenFilterDef();s(3),C(a.length>0?3:-1),s(2),C(o.isLoading()?5:6),s(2),D(o.controlsConfig())}},dependencies:[ge,me,Te,Ce,ve,be,fe,ue,he,_e,re,De,le,Jt,ie,Xt,te,Zt,ee,xt,yt,gt,mt,Ct,Kt,ce],encapsulation:2,data:{animation:[zt("loading",[ct(":leave",[M({opacity:1,transform:"translateY(0)",position:"absolute",width:"100%"}),lt("250ms ease-in-out",M({transform:"translateY(1rem)",opacity:0}))]),ct(":enter",[M({opacity:0,transform:"translateY(1rem)",position:"absolute",width:"100%"}),lt("250ms ease-in-out",M({transform:"translateY(0)",opacity:1}))])])]}})}}return e})();function rn(e,n,t=!0){return e.map(i=>i.key==n?A(w({},i),{isSortedAsc:!i.isSortedAsc&&!i.isSortedDesc?t:!!i.isSortedDesc,isSortedDesc:!i.isSortedAsc&&!i.isSortedDesc?!t:!!i.isSortedAsc}):A(w({},i),{isSortedAsc:!1,isSortedDesc:!1}))}var Vi=new L("vertical layout data provider"),ln=(()=>{class e{constructor(){this.dataProvider=_(Vi),this.layoutService=_(z,{self:!0}),this.router=_(dt),this.route=_(N),this.activeTab=U(null),this.heading=m(()=>this.dataProvider.heading()),this.tabs=m(()=>this.dataProvider.tabs()),this.controls=this.layoutService.controls,this.mostEmphasizedControlId=this.layoutService.mostEmphasizedControlId,P([this.route.params,this.route.queryParams]).pipe(S()).subscribe(([t,i])=>this.dataProvider.onParamsChange?.(t,i)),this.router.events.pipe(H(t=>t instanceof st),$t(this.router.lastSuccessfulNavigation?.finalUrl),Qt(),S()).subscribe(()=>{let t=this.tabs();if(!t)return;let i=t.find(a=>{let l=this.router.createUrlTree(a.route,{relativeTo:this.route});return this.router.isActive(l,{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})});if(!i)return;this.activeTab.set(i.label);let o=this.route.routeConfig?.children?.find(a=>a.path=="**");o&&(o.redirectTo=i.route.map(a=>String(a).replaceAll("..%2F","").replaceAll(".%2F","")).join("/"))})}onTabChanged(t){let i=this.tabs()?.find(o=>o.label==t);i&&this.router.navigate(i.route,{relativeTo:this.route})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=E({type:e,selectors:[["pui-vertical-layout"]],hostAttrs:[1,"pui-vertical-layout"],features:[ot([z])],decls:8,vars:2,consts:[[1,"@container/layout"],[1,"pui-vertical-layout__heading"],[1,"pui-vertical-layout__controls"],[1,"pui-vertical-layout__tabs",3,"currentTab"],[1,"spacer"],[1,"pui-vertical-layout__tabs",3,"tabChange","currentTab"],[3,"routerLink"],[3,"routerLink",4,"puiTab"],["puiFilledButton","","color","accent",1,"pui-vertical-layout__controls__most-emphasized",3,"disabled","hoverableEnabled"],["puiBorderedButton","","color","accent",1,"pui-vertical-layout__controls__normal",3,"disabled","hoverableEnabled","puiTooltip"],["puiFilledButton","","color","accent",1,"pui-vertical-layout__controls__most-emphasized",3,"click","disabled","hoverableEnabled"],[3,"ngTemplateOutlet"],["puiBorderedButton","","color","accent",1,"pui-vertical-layout__controls__normal",3,"click","disabled","hoverableEnabled","puiTooltip"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"header",1),h(2,"pui-breadcrumbs"),c(3,"h1"),f(4),d()(),u(5,xi,5,1,"header",2),h(6,"router-outlet")(7,"pui-peekable-addon"),d()),i&2&&(s(4),b(o.heading()),s(),C(o.tabs().length>0||o.controls().length>0?5:-1))},dependencies:[G,Tt,j,ht,bt,pe,de,se,pt,rt,Si,vt],encapsulation:2})}}return e})();export{xe as a,Xi as b,wi as c,Zi as d,ki as e,De as f,tn as g,Fi as h,en as i,nn as j,on as k,Ei as l,$i as m,an as n,rn as o,Vi as p,ln as q};
