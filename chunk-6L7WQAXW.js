import{a as p}from"./chunk-7UTMRVYV.js";import{c as D,d as I,e as T,g as w,k as A,m as E,n as L,o as F,p as f,q as u}from"./chunk-MNOYPFLK.js";import"./chunk-5KUQE4MU.js";import{Ba as h,J as d,N as l}from"./chunk-YMJKTHWP.js";import{$ as r,Cb as C,Da as o,Db as S,Vb as b,fa as s,fb as v,q as y,uc as n,xc as g}from"./chunk-O5WS6LKQ.js";import{a as m}from"./chunk-EQDQRRRY.js";var R=(()=>{class t{constructor(){this.dataService=s(p),this.list=l(this.dataService.getList()),this.id=o(void 0),this.heading=n(()=>{let e=this.list()?.find(i=>i.id==this.id())?.location;return e?`${e.aisle.toUpperCase()}${e.row} - ${e.layer}`:"--"}),this.tabs=o([{label:"Raw",route:["./"]}])}onParamsChange(e,i){this.id.set(e.id)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac})}}return t})();var j=(()=>{class t{constructor(){this.dataService=s(p),this.list=l(this.dataService.getList()),this.id=o(void 0),this.data=o(void 0),this.fieldConfiguration=o({type:"object",properties:{location:{type:"object",description:"Shelf Location",properties:{aisle:{type:"string",description:"Aisle"},row:{type:"number",description:"Row"},layer:{type:"number",description:"Layer"}}},maxCapacity:{type:"number",description:"Maximum Capacity (grams)"},isAllowFragileItems:{type:"boolean",description:"Allows Fragile Items Inside"},dimensions:{type:"object",description:"Dimension",properties:{width:{type:"number",description:"Width (millimeters)"},depth:{type:"number",description:"Depth (millimeters)"},height:{type:"number",description:"Height (millimeters)"}}}}}),this.isDirty=o(!1),this.updatedValue=o(void 0),this.controlsConfig=n(()=>this.isDirty()?I:D),g(()=>{this.data.set(d(this.list()?.find(e=>e.id==this.id())))})}registerUpdateState(e){this.updateState=e}onStateChange(e){this.isDirty.update(i=>e.isDirty??i)}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,i){switch(e){case"refresh":case"cancel":{this.data.set(d(this.list()?.find(a=>a.id==this.id()))),this.updateState({isDirty:!1});break}case"save":{let a=this.updatedValue();a&&(this.dataService.save(a),this.updateState({isDirty:!1}));break}}}onParamsChange(e,i){this.id.set(e.id)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac})}}return t})();var k=(()=>{class t{constructor(){this.heading=o("Warehouse Shelves"),this.tabs=o([{label:"Map",route:["map"]},{label:"Data",route:["data"]}])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac})}}return t})();var x=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=v({type:t,selectors:[["demo-inventory-shelf-map"]],decls:2,vars:0,template:function(i,a){i&1&&(C(0,"p"),b(1,"inventory-shelf-map works!"),S())},encapsulation:2})}}return t})();var O=(()=>{class t{constructor(){this.dataService=s(p),this.rawData=l(this.dataService.getList()),this.configuration={id:"inventory-shelf-table",useVirtualScroll:!0},this.data=n(()=>(this.rawData()??[]).toSorted(this.sortFn())),this.columnsConfig=o([{key:"aisle",path:"location.aisle",label:"Aisle"},{key:"row",path:"location.row",label:"Row"},{key:"layer",path:"location.layer",label:"Layer"},{key:"maxCapacity",label:"Maximum Capacity (g)",fieldConfiguration:{type:"number"}},{key:"isAllowFragileItems",label:"Allows Fragile",fieldConfiguration:{type:"boolean"}}]),this.columnsToDisplay=o(["aisle","row","layer","maxCapacity","isAllowFragileItems"]),this.controlsConfig=o([{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"}]),this.sortFn=n(()=>A(this.columnsConfig()))}onHeaderCellClick(e,i){this.columnsConfig.update(a=>F(a,e))}routeToDetail(e){return["../","detail",e.id]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac})}}return t})();var dt=[{path:"",data:m({},h({title:"Shelf"})),children:[{path:"detail/:id",component:u,data:m({},h({titleFn:t=>t.params.pipe(y(V=>V.id))})),providers:[{provide:f,useClass:R}],children:[{path:"",component:w,providers:[{provide:T,useClass:j}]}]},{path:"",component:u,providers:[{provide:f,useClass:k}],children:[{path:"map",component:x},{path:"data",component:L,providers:[{provide:E,useClass:O}]},{path:"**",redirectTo:"map"}]}]}];export{dt as ROUTES};
