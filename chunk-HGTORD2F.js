import{b as F}from"./chunk-ULV7EL5F.js";import{c as T,d as y,e as D,g as b,h as E,j as v,k as A,l as g,m as S,n as I,o as k,p as l,q as d}from"./chunk-SYQDNKPT.js";import"./chunk-5KUQE4MU.js";import{Ba as n,N as m,fa as C}from"./chunk-MI5UECCZ.js";import{$ as o,Da as i,fa as f,q as u,uc as a}from"./chunk-O5WS6LKQ.js";import{a as s}from"./chunk-EQDQRRRY.js";var c=(()=>{class t{constructor(){this.id=i(void 0),this.heading=a(()=>this.id()??"--"),this.tabs=i([{label:"Raw",route:["raw"]}]),this.routeToFullContent=a(()=>["../","media",{outlets:{primary:["detail",this.id()],peek:null}}])}onParamsChange(e,r){this.id.set(e.id)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=o({token:t,factory:t.\u0275fac})}}return t})();var L=(()=>{class t{constructor(){this.id=i(void 0),this.isDirty=i(!1),this.updatedValue=i(void 0),this.data=i(void 0),this.fieldConfiguration=i({type:"object",properties:{}}),this.controlsConfig=a(()=>this.isDirty()?y:T)}registerUpdateState(e){this.updateState=e}onStateChange(e){this.isDirty.update(r=>e.isDirty??r)}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,r){switch(e){case"refresh":break;case"cancel":{this.updateState({isDirty:!1});break}case"save":{this.updateState({isDirty:!1});break}}}onParamsChange(e,r){this.id.set(e.id)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=o({token:t,factory:t.\u0275fac})}}return t})();var O=(()=>{class t{constructor(){this.heading=i("Media"),this.tabs=i([{label:"Files",route:["file"]},{label:"Raw",route:["raw"]}])}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=o({token:t,factory:t.\u0275fac})}}return t})();var w=(()=>{class t{constructor(){this.dataService=f(F),this.screenWidth=f(C),this.rawData=m(this.dataService.getList()),this.configuration={id:"media-table",useVirtualScroll:!0},this.data=a(()=>(this.rawData()??[]).toSorted(this.sortFn()).filter(this.filterFn())),this.columnsConfig=i([{key:"filename",label:"Filename"},{key:"sizeBytes",label:"Size (Bytes)"},{key:"type",label:"Type"},{key:"createdAt",label:"Created At",fieldConfiguration:{type:"date-time"}},{key:"lastModifiedAt",label:"Last Modified At",fieldConfiguration:{type:"date-time"}}]),this.columnsToDisplay=i({default:["filename","sizeBytes"],768:["filename","sizeBytes","createdAt"],1280:["filename","sizeBytes","type","createdAt","lastModifiedAt"]}),this.controlsConfig=i(g),this.filterConfig=i({type:"object",properties:{}}),this.filterValue=i({}),this.sortFn=a(()=>A(this.columnsConfig())),this.filterFn=a(()=>v(this.filterValue(),{}))}routeToDetail(e){return this.screenWidth.above().sm()?["../../","media",{outlets:{peek:[e.id]}}]:["../","detail",e.id]}onHeaderCellClick(e,r){this.columnsConfig.update(N=>k(N,e))}onFilterChange(e){this.filterValue.set(e)}onControlClick(e,r){switch(e){case"add":break;case"refresh":break}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=o({token:t,factory:t.\u0275fac})}}return t})();var R=[{path:"raw",component:b,providers:[{provide:D,useClass:L}]},{path:"**",redirectTo:"raw"}],at=[{path:"",data:s({},n({title:"Media"})),children:[{path:"detail/:id",component:d,data:s({},n({titleFn:t=>t.params.pipe(u(p=>p.id))})),providers:[{provide:l,useClass:c}],children:R},{path:"",component:d,providers:[{provide:l,useClass:O},{provide:E,useClass:c}],children:[{path:":id",outlet:"peek",component:d,data:s({},n({titleFn:t=>t.params.pipe(u(p=>p.id))})),providers:[{provide:l,useClass:c}],children:R},{path:"file",children:[{path:":folderId",loadComponent:()=>import("./chunk-52W2KO5X.js").then(t=>t.MediaManagerComponent)},{path:"**",redirectTo:"null"}]},{path:"raw",component:I,providers:[{provide:S,useClass:w}]},{path:"**",redirectTo:"file"}]}]}];export{at as ROUTES};
