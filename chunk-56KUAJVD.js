import{b as k}from"./chunk-ULBYTBL2.js";import{c as b,d as C,e as v,g as y,h as T,j as N,k as M,l as A,m as E,n as F,o as I,p as l,q as c}from"./chunk-X7QNMMHB.js";import"./chunk-QLEH2ZB5.js";import{Da as d,O as h,_a as D,ga as g}from"./chunk-4WQRPZ5G.js";import{$ as n,ea as p,q as m,qc as o,ra as a}from"./chunk-LVH4HSPS.js";import{a as s}from"./chunk-C6Q5SG76.js";var u=(()=>{let e=class e{constructor(){this.id=a(void 0),this.heading=o(()=>this.id()??"--"),this.tabs=a([{label:"Raw",route:["raw"]}]),this.routeToFullContent=o(()=>["../","media",{outlets:{primary:["detail",this.id()],peek:null}}])}onParamsChange(t,r){this.id.set(t.id)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=n({token:e,factory:e.\u0275fac});let i=e;return i})();var L=(()=>{let e=class e{constructor(){this.id=a(void 0),this.isDirty=a(!1),this.updatedValue=a(void 0),this.data=a(void 0),this.fieldConfiguration=a({type:"object",properties:{}}),this.controlsConfig=o(()=>this.isDirty()?C:b)}registerUpdateState(t){this.updateState=t}onStateChange(t){this.isDirty.update(r=>t.isDirty??r)}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,r){switch(t){case"refresh":break;case"cancel":{this.updateState({isDirty:!1});break}case"save":{this.updateState({isDirty:!1});break}}}onParamsChange(t,r){this.id.set(t.id)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=n({token:e,factory:e.\u0275fac});let i=e;return i})();var S=(()=>{let e=class e{constructor(){this.heading=a("Media"),this.tabs=a([{label:"Files",route:["file"]},{label:"Raw",route:["raw"]},{label:"Local",route:["local"],hidden:!0}])}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=n({token:e,factory:e.\u0275fac});let i=e;return i})();var O=(()=>{let e=class e{constructor(){this.dataService=p(k),this.screenWidth=p(g),this.rawData=h(this.dataService.getList()),this.configuration={id:"media-table",useVirtualScroll:!0},this.data=o(()=>(this.rawData()??[]).toSorted(this.sortFn()).filter(this.filterFn())),this.columnsConfig=a([{key:"filename",label:"Filename"},{key:"sizeBytes",label:"Size (Bytes)"},{key:"type",label:"Type"},{key:"createdAt",label:"Created At",fieldConfiguration:{type:"date-time"}},{key:"lastModifiedAt",label:"Last Modified At",fieldConfiguration:{type:"date-time"}}]),this.columnsToDisplay=a({default:["filename","sizeBytes"],768:["filename","sizeBytes","createdAt"],1280:["filename","sizeBytes","type","createdAt","lastModifiedAt"]}),this.controlsConfig=a(A),this.filterConfig=a({type:"object",properties:{}}),this.filterValue=a({}),this.sortFn=o(()=>M(this.columnsConfig())),this.filterFn=o(()=>N(this.filterValue(),{}))}routeToDetail(t){return this.screenWidth.above().sm()?["../../","media",{outlets:{peek:[t.id]}}]:["../","detail",t.id]}onHeaderCellClick(t,r){this.columnsConfig.update(R=>I(R,t))}onFilterChange(t){this.filterValue.set(t)}onControlClick(t,r){switch(t){case"add":break;case"refresh":break}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=n({token:e,factory:e.\u0275fac});let i=e;return i})();var w=[{path:"raw",component:y,canDeactivate:[D],providers:[{provide:v,useClass:L}]},{path:"**",redirectTo:"raw"}],oe=[{path:"",data:s({},d({title:"Media"})),children:[{path:"detail/:id",component:c,data:s({},d({titleFn:i=>i.params.pipe(m(e=>e.id))})),providers:[{provide:l,useClass:u}],children:w},{path:"",component:c,providers:[{provide:l,useClass:S},{provide:T,useClass:u}],children:[{path:":id",outlet:"peek",component:c,data:s({},d({titleFn:i=>i.params.pipe(m(e=>e.id))})),providers:[{provide:l,useClass:u}],children:w},{path:"file",children:[{path:":folderId",loadComponent:()=>import("./chunk-A6MQHD6Q.js").then(i=>i.MediaManagerComponent)},{path:"**",redirectTo:"null"}]},{path:"raw",component:F,providers:[{provide:E,useClass:O}]},{path:"**",redirectTo:"file"}]}]}];export{oe as ROUTES};
