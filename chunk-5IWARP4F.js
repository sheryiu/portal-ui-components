import{a as c,b as y,c as d,e as p}from"./chunk-U63UKZPC.js";import{a as N}from"./chunk-5KUQE4MU.js";import{a as D,b as A,c as j,d as V,e as f,g as u,j as k,k as I,l as R,m as L,n as w,o as F,p as C,q as b}from"./chunk-WYSIOAGY.js";import{J as m,la as T,va as v}from"./chunk-GGOHXMJP.js";import{X as S,_a as i,aa as s,ga as n,q as E,vc as l,xc as O}from"./chunk-NC3QZFGA.js";import{a as g}from"./chunk-EQDQRRRY.js";var P=(()=>{let e=class e{constructor(){this.dataService=n(p),this.list=m(this.dataService.getList()),this.id=i(void 0),this.heading=l(()=>this.list()?.find(t=>t.id==this.id())?.name??"--"),this.tabs=i([])}onParamsChange(t,o){this.id.set(t.id)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=s({token:e,factory:e.\u0275fac});let a=e;return a})();var x=(()=>{let e=class e{constructor(){this.dataService=n(p),this.list=m(this.dataService.getList()),this.id=i(void 0),this.data=i(void 0),this.fieldConfiguration=i({type:"object",properties:{name:{type:"string",description:"Name"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},department:{type:"string",description:"Department",enum:Object.values(c)},position:{type:"string",description:"Position",enum:Object.values(y)},dateOfJoining:{type:"date-time",description:"Date of Joining"},dateOfLeaving:{type:"date-time",description:"Date of Leaving"},status:{type:"string",description:"Status",enum:Object.values(d)}}}),this.isDirty=i(!1),this.updatedValue=i(void 0),this.controlsConfig=l(()=>this.isDirty()?V:j),O(()=>{this.data.set(structuredClone(this.list()?.find(t=>t.id==this.id())))},{allowSignalWrites:!0})}registerUpdateState(t){this.updateState=t}onStateChange(t){this.isDirty.update(o=>t.isDirty??o)}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,o){switch(t){case"refresh":case"cancel":{this.data.set(structuredClone(this.list()?.find(r=>r.id==this.id()))),this.updateState({isDirty:!1});break}case"save":{let r=this.updatedValue();r&&(this.dataService.save(r),this.updateState({isDirty:!1}));break}}}onParamsChange(t,o){this.id.set(t.id)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=s({token:e,factory:e.\u0275fac});let a=e;return a})();var U=(()=>{let e=class e{constructor(){this.heading=i("Employees"),this.tabs=i([])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=s({token:e,factory:e.\u0275fac});let a=e;return a})();var B=(()=>{let e=class e{constructor(){this.dataService=n(p),this.configuration={content:u},this.data=i(null),this.fieldConfiguration=i({type:"object",properties:{name:{type:"string",description:"Name"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},department:{type:"string",description:"Department",enum:Object.values(c)},position:{type:"string",description:"Position",enum:Object.values(y)},dateOfJoining:{type:"date-time",description:"Date of Joining"},dateOfLeaving:{type:"date-time",description:"Date of Leaving"},status:{type:"string",description:"Status",enum:Object.values(d)}}}),this.controlsConfig=i([{id:"cancel",label:"Cancel",icon:"close",mode:"low-emphasis"},{id:"save",label:"Save",icon:"save"}]),this.updatedValue=i(void 0),this.heading=i("Add Employee")}registerUpdateState(t){this.updateState=t,this.updateState({isDirty:!0})}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,o){switch(t){case"cancel":{this.data.set({}),this.overlayRef.close();break}case"save":{let r=this.updatedValue();r&&(r=Object.assign(r,{id:N.string.nanoid()}),this.dataService.add(r),this.overlayRef.close());break}}}onActionDrawerInit(t){this.overlayRef=t}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=s({token:e,factory:e.\u0275fac});let a=e;return a})();var J=(()=>{let e=class e{constructor(){this.overlayData=n(T,{optional:!0}),this.configuration={content:u},this.heading=i("Filter Employee"),this.data=i(this.overlayData?.filter??{}),this.fieldConfiguration=i({type:"object",properties:{department:{type:"string",description:"Department",enum:[""].concat(Object.values(c))},status:{type:"string",description:"Status",enum:[""].concat(Object.values(d))}}}),this.controlsConfig=i([{id:"cancel",label:"Cancel",icon:"close"},{id:"apply",label:"Apply",icon:"filter_alt"}]),this.updatedValue=i(void 0)}onActionDrawerInit(t){this.overlayRef=t}registerUpdateState(t){this.updateState=t,this.updateState({isDirty:!0})}onValueChange(t){this.updatedValue.set(t)}onControlClick(t,o){switch(t){case"cancel":{this.overlayRef.close();break}case"apply":{let r=this.updatedValue();r&&(this.overlayData?.onFilterApply?.(r),this.overlayRef.close());break}}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=s({token:e,factory:e.\u0275fac});let a=e;return a})();var Y=(()=>{let e=class e{constructor(){this.dataService=n(p),this.actionDrawer=n(A),this.rawData=m(this.dataService.getList()),this.configuration={useVirtualScroll:!0},this.data=l(()=>(this.rawData()??[]).filter(this.filterFn()).toSorted(this.sortFn())),this.columnsConfig=i([{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"department",label:"Department"},{key:"position",label:"Position"},{key:"status",label:"Status"}]),this.columnsToDisplay=i(["name","email","phone","department","position","status"]),this.filterConfig=i({type:"object",properties:{department:{type:"string",description:"Department",enum:[""].concat(Object.values(c))},status:{type:"string",description:"Status",enum:[""].concat(Object.values(d))}}}),this.filterValue=i({}),this.controlsConfig=i([{id:"filter",label:"Advance Filters",icon:"filter_alt"},...R]),this.sortFn=l(()=>I(this.columnsConfig())),this.filterFn=l(()=>k(this.filterValue(),{department:(t,o,r)=>!!r&&t.department==r,status:(t,o,r)=>!!r&&t.status==r}))}routeToDetail(t){return["detail",t.id]}onHeaderCellClick(t,o){this.columnsConfig.update(r=>F(r,t))}onFilterChange(t){this.filterValue.set(t)}onControlClick(t,o){switch(t){case"add":{this.actionDrawer.open(B,{providers:[{provide:f,useExisting:D}]});break}case"filter":{this.actionDrawer.open(J,{overlayData:{filter:this.filterValue(),onFilterApply:r=>this.filterValue.set(r)},providers:[{provide:f,useExisting:D}]});break}}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=s({token:e,factory:e.\u0275fac});let a=e;return a})();var Ft=[{path:"",data:g({},v({title:"Employee"})),children:[{path:"detail/:id",component:b,data:g({},v({deps:[p],titleFn:(a,e)=>a.params.pipe(S(_=>e.getList().pipe(E(t=>t.find(o=>o.id==_.id)?.name??"--"))))})),providers:[{provide:C,useClass:P}],children:[{path:"",component:u,providers:[{provide:f,useClass:x}]}]},{path:"",component:b,providers:[{provide:C,useClass:U}],children:[{path:"",component:w,providers:[{provide:L,useClass:Y}]}]}]}];export{Ft as ROUTES};
