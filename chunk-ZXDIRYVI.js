import{d as s,e as f}from"./chunk-3SZSZSPF.js";import{a as r}from"./chunk-54KRQ4XJ.js";import{$ as o,K as d,N as n,ea as l,g as m,nb as h,ra as c}from"./chunk-PPNSUE6H.js";var S=(()=>{let e=class e{constructor(){this.appRef=l(h),this.list=new m([]),this.employeeData=l(f),this.isInitialized=!1}createMock(t){let i=r.date.past({years:1}),u=r.date.between({from:i,to:new Date(i.getTime()+120*36e5)}),p=r.helpers.arrayElement([s.ANNUAL_LEAVE,s.BUSINESS_TRIP,s.PERSONAL_LEAVE,s.SICK_LEAVE]);return{id:r.string.nanoid(),employeeId:t.id,startsFrom:i,endsAt:u,isFullDay:[s.ANNUAL_LEAVE,s.PERSONAL_LEAVE,s.SICK_LEAVE].includes(p),type:p,label:r.lorem.lines(1)}}initialize(){this.isInitialized||(this.isInitialized=!0,this.employeeData.getList().pipe(n(t=>t.length>0)).subscribe(t=>{this.list.next(t.map(i=>this.createMock(i)))}))}getList(){return this.appRef.isStable.pipe(n(t=>t),d(1e3)).subscribe(()=>{this.initialize()}),this.list}save(t){this.list.next(this.list.value.map(i=>i.id==t.id?t:i))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"});let a=e;return a})();var v=(()=>{let e=class e{constructor(){this.heading=c("Employee Calendar"),this.tabs=c([{label:"Monthly",route:["monthly","-1"]},{label:"Weekly",route:["weekly"]},{label:"Data",route:["data"]}]),this.storedSelectedTime=new Date}updateSelectedTime(t){this.storedSelectedTime=t}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=o({token:e,factory:e.\u0275fac});let a=e;return a})();export{S as a,v as b};
