import{a as oe}from"./chunk-GET72L3Z.js";import{a as re}from"./chunk-6ZRQSSJ4.js";import"./chunk-EFAB4OXU.js";import{B as g,Ca as D,D as v,Da as h,Ea as s,F as y,Gc as G,Hc as K,Ib as $,Ic as Q,Ja as u,L as m,Lb as R,M as F,Ma as E,Mb as j,Na as M,Nb as I,Oa as p,Pa as T,R as _,Ra as A,S as b,Sa as B,Ub as N,Vc as W,Wc as X,Zb as H,ac as L,bc as U,bd as Y,ca as o,cb as w,cc as J,ec as O,h as x,ia as k,jc as P,ka as c,mc as q,oa as d,oc as z,rd as Z,sa as S,sd as ee,vb as V,xa as a,xd as ie,ya as l,yd as te,za as f,zd as ne}from"./chunk-GGV4OHPW.js";import"./chunk-CZC3PYQ3.js";import"./chunk-EQDQRRRY.js";var C=()=>({}),ae=()=>["base","iceborne"],le=i=>({enum:i});function de(i,n){if(i&1&&(a(0,"h2",5),u(1),l()),i&2){let r=n;o(),E("",r.name==null?null:r.name.jp," / ",r.name==null?null:r.name.en,"")}}function pe(i,n){if(i&1){let r=D();a(0,"button",15),h("click",function(){_(r);let t=s(2);return b(t.onCancel())}),u(1,"Cancel"),l(),a(2,"button",16),h("click",function(){_(r);let t=s(2);return b(t.onSave())}),u(3,"Save"),l()}}function me(i,n){if(i&1&&(a(0,"div",3)(1,"div",4),c(2,de,2,2,"h2",5),A(3,"async"),a(4,"div",6),c(5,pe,4,0),l()(),f(6,"pui-divider"),a(7,"pui-fieldset",7),f(8,"pui-field-def",8)(9,"pui-field-def",9)(10,"pui-field-def",10)(11,"pui-field-def",11)(12,"pui-field-def",12)(13,"pui-field-def",13)(14,"pui-field-def",14),l()()),i&2){let r,e=s();o(2),S((r=B(3,8,e.data$))?2:-1,r),o(3),S(e.formControl.dirty?5:-1),o(2),d("formControl",e.formControl),o(),d("fieldConfig",p(10,C)),o(),d("fieldConfig",p(11,C)),o(),d("fieldConfig",p(12,C)),o(),d("fieldConfig",T(14,le,p(13,ae))),o(),d("fieldConfig",p(16,C))}}var Me=(()=>{let n=class n extends O{constructor(){super(),this.route=m(V),this.service=m(oe),this.formBuilder=m(L),this.id$=this.route.paramMap.pipe(x(e=>e.get("armorSetId"))),this.data$=this.id$.pipe(g(e=>this.service.getOne(e))),this.formControl=this.formBuilder.control(null),this.onCancel=this.createEffectFn(e=>e.pipe(y(this.data$),v(([,t])=>this.updateForm(t)))),this.onSave=this.createEffectFn(e=>e.pipe(y(this.id$),v(([,t])=>this.service.update(t,this.formControl.getRawValue())))),this.data$.pipe(I()).subscribe(e=>{this.updateForm(e)})}updateForm(e){e&&this.formControl.reset(e)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=F({type:n,selectors:[["app-armor-set-detail"]],standalone:!0,features:[k,M],decls:6,vars:0,consts:[["puiSidebarContainer","","cdkVirtualScrollingElement","","cdkScrollable",""],["puiSidebarBreadcrumbs",""],["class","py-4 flex flex-col gap-4",4,"puiSidebarMain"],[1,"py-4","flex","flex-col","gap-4"],[1,"flex","justify-between","items-center","px-4","gap-4"],[1,"text-primary-800","dark:text-primary-200"],[1,"flex","gap-2","items-center"],[3,"formControl"],["key","name>en","label","English Name","fieldType","string",3,"fieldConfig"],["key","name>jp","label","Japanese Name","fieldType","string",3,"fieldConfig"],["key","rarity","label","Rarity","fieldType","number",3,"fieldConfig"],["key","rank","label","Rank","fieldType","string",3,"fieldConfig"],["key","setBonusId","label","Set Bonus","fieldType","string",3,"fieldConfig"],["key","createdAt","label","Created At","fieldType","date-time"],["key","updatedAt","label","Updated At","fieldType","date-time"],["puiHoverable","",1,"rounded-1","px-3","py-2",3,"click"],["puiFilledButton","","color","primary",1,"rounded-1","px-3","py-2",3,"click"]],template:function(t,ce){t&1&&(a(0,"pui-layered-container")(1,"div",0)(2,"div",1),f(3,"pui-breadcrumbs"),l(),a(4,"pui-sidebar-content"),c(5,me,15,17,"div",2),l()()())},dependencies:[re,P,G,w,U,N,J,H,Y,j,$,R,ne,ee,Z,te,ie,X,W,Q,K,z,q]});let i=n;return i})();export{Me as ArmorSetDetailComponent};
