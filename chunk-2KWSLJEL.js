import{a as p,b as g,c,e as d}from"./chunk-5F26WTPF.js";import{a as b,b as A,c as V,d as j,e as f,g as u,j as M,k,l as I,m as R,n as L,o as F,p as C,q as E}from"./chunk-NA4XPQXN.js";import{a as w}from"./chunk-QLEH2ZB5.js";import{Aa as D,K as y,P as m,qa as O}from"./chunk-YLZ6PUFM.js";import{$ as r,V as N,ea as s,q as S,qc as l,ra as i,rc as T}from"./chunk-LVH4HSPS.js";import{a as v}from"./chunk-C6Q5SG76.js";var P=(()=>{let t=class t{constructor(){this.dataService=s(d),this.list=m(this.dataService.getList()),this.id=i(void 0),this.heading=l(()=>this.list()?.find(e=>e.id==this.id())?.name??"--"),this.tabs=i([])}onParamsChange(e,o){this.id.set(e.id)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=r({token:t,factory:t.\u0275fac});let a=t;return a})();var x=(()=>{let t=class t{constructor(){this.dataService=s(d),this.list=m(this.dataService.getList()),this.id=i(void 0),this.data=i(void 0),this.fieldConfiguration=i({type:"object",properties:{name:{type:"string",description:"Name"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},department:{type:"string",description:"Department",enum:Object.values(p)},position:{type:"string",description:"Position",enum:Object.values(g)},dateOfJoining:{type:"date-time",description:"Date of Joining"},dateOfLeaving:{type:"date-time",description:"Date of Leaving"},status:{type:"string",description:"Status",enum:Object.values(c)}}}),this.isDirty=i(!1),this.updatedValue=i(void 0),this.controlsConfig=l(()=>this.isDirty()?j:V),T(()=>{this.data.set(y(this.list()?.find(e=>e.id==this.id())))})}registerUpdateState(e){this.updateState=e}onStateChange(e){this.isDirty.update(o=>e.isDirty??o)}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,o){switch(e){case"refresh":case"cancel":{this.data.set(y(this.list()?.find(n=>n.id==this.id()))),this.updateState({isDirty:!1});break}case"save":{let n=this.updatedValue();n&&(this.dataService.save(this.id(),n),this.updateState({isDirty:!1}));break}}}onParamsChange(e,o){this.id.set(e.id)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=r({token:t,factory:t.\u0275fac});let a=t;return a})();var U=(()=>{let t=class t{constructor(){this.heading=i("Employees"),this.tabs=i([])}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=r({token:t,factory:t.\u0275fac});let a=t;return a})();var B=(()=>{let t=class t{constructor(){this.dataService=s(d),this.configuration={content:u,isEnterToSubmit:!0},this.data=i(null),this.fieldConfiguration=i({type:"object",properties:{name:{type:"string",description:"Name"},email:{type:"string",description:"Email"},phone:{type:"string",description:"Phone"},department:{type:"string",description:"Department",enum:Object.values(p)},position:{type:"string",description:"Position",enum:Object.values(g)},dateOfJoining:{type:"date-time",description:"Date of Joining"},dateOfLeaving:{type:"date-time",description:"Date of Leaving"},status:{type:"string",description:"Status",enum:Object.values(c)}}}),this.controlsConfig=i([{id:"cancel",label:"Cancel",icon:"close",mode:"low-emphasis"},{id:"save",label:"Save",icon:"save"}]),this.updatedValue=i(void 0),this.heading=i("Add Employee")}registerUpdateState(e){this.updateState=e,this.updateState({isDirty:!0})}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,o){switch(e){case"cancel":{this.data.set({}),this.overlayRef.close();break}case"save":{let n=this.updatedValue();n&&(n=Object.assign(n,{id:w.string.nanoid()}),this.dataService.add(n),this.overlayRef.close());break}}}onActionDrawerInit(e){this.overlayRef=e}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=r({token:t,factory:t.\u0275fac});let a=t;return a})();var J=(()=>{let t=class t{constructor(){this.overlayData=s(O,{optional:!0}),this.configuration={content:u,isEnterToSubmit:!0},this.heading=i("Filter Employee"),this.data=i(this.overlayData?.filter??{}),this.fieldConfiguration=i({type:"object",properties:{department:{type:"string",description:"Department",enum:[""].concat(Object.values(p))},status:{type:"string",description:"Status",enum:[""].concat(Object.values(c))}}}),this.controlsConfig=i([{id:"cancel",label:"Cancel",icon:"close"},{id:"apply",label:"Apply",icon:"filter_alt"}]),this.updatedValue=i(void 0)}onActionDrawerInit(e){this.overlayRef=e}registerUpdateState(e){this.updateState=e,this.updateState({isDirty:!0})}onValueChange(e){this.updatedValue.set(e)}onControlClick(e,o){switch(e){case"cancel":{this.overlayRef.close();break}case"apply":{let n=this.updatedValue();n&&(this.overlayData?.onFilterApply?.(n),this.overlayRef.close());break}}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=r({token:t,factory:t.\u0275fac});let a=t;return a})();var Y=(()=>{let t=class t{constructor(){this.dataService=s(d),this.actionDrawer=s(A),this.rawData=m(this.dataService.getList()),this.configuration={id:"employee-table",useVirtualScroll:!0},this.data=l(()=>(this.rawData()??[]).filter(this.filterFn()).toSorted(this.sortFn())),this.columnsConfig=i([{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"department",label:"Department"},{key:"position",label:"Position"},{key:"status",label:"Status"}]),this.columnsToDisplay=i(["name","email","phone","department","position","status"]),this.filterConfig=i({type:"object",properties:{department:{type:"string",description:"Department",enum:[""].concat(Object.values(p))},status:{type:"string",description:"Status",enum:[""].concat(Object.values(c))}}}),this.filterValue=i({}),this.controlsConfig=i([{id:"filter",label:"Advance Filters",icon:"filter_alt"},...I]),this.sortFn=l(()=>k(this.columnsConfig())),this.filterFn=l(()=>M(this.filterValue(),{department:(e,o,n)=>!!n&&e.department==n,status:(e,o,n)=>!!n&&e.status==n}))}routeToDetail(e){return["detail",e.id]}onHeaderCellClick(e,o){this.columnsConfig.update(n=>F(n,e))}onFilterChange(e){this.filterValue.set(e)}onControlClick(e,o){switch(e){case"add":{this.actionDrawer.open(B,{providers:[{provide:f,useExisting:b}]});break}case"filter":{this.actionDrawer.open(J,{overlayData:{filter:this.filterValue(),onFilterApply:n=>this.filterValue.set(n)},providers:[{provide:f,useExisting:b}]});break}}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=r({token:t,factory:t.\u0275fac});let a=t;return a})();var we=[{path:"",data:v({},D({title:"Employee"})),children:[{path:"detail/:id",component:E,data:v({},D({deps:[d],titleFn:(a,t)=>a.params.pipe(N(_=>t.getList().pipe(S(e=>e.find(o=>o.id==_.id)?.name??"--"))))})),providers:[{provide:C,useClass:P}],children:[{path:"",component:u,providers:[{provide:f,useClass:x}]}]},{path:"",component:E,providers:[{provide:C,useClass:U}],children:[{path:"",component:L,providers:[{provide:R,useClass:Y}]}]}]}];export{we as ROUTES};
