import{a as e}from"./chunk-5KUQE4MU.js";import{$ as p,K as c,N as d,fa as m,g as l,sb as h}from"./chunk-UVKU2DKY.js";import{a as n,b as o}from"./chunk-EQDQRRRY.js";var g=(()=>{class s{constructor(){this.appRef=m(h),this.list=new l([]),this.isInitialized=!1}createMockAddress(){return{line1:e.location.secondaryAddress(),line2:e.location.streetAddress(),city:e.location.city(),state:e.location.state(),country:e.location.country(),postalCode:e.location.zipCode()}}createMock(){let t=e.person.firstName(),i=e.person.lastName();return{id:e.string.nanoid(),profile:{color:e.color.colorByCSSColorSpace().map(a=>a*255).join(" "),icon:e.helpers.arrayElement(["pentagon","square","hexagon","shapes","stack","lightbulb","all_out"])},name:e.person.fullName({firstName:t,lastName:i}),username:e.helpers.maybe(()=>e.internet.username({firstName:t,lastName:i}))??e.internet.username(),email:e.internet.email({firstName:t,lastName:i}),phone:e.phone.number(),address:this.createMockAddress(),savedAddresses:Array(e.helpers.rangeToNumber({min:1,max:6})).fill(0).map(()=>this.createMockAddress()),registeredSince:e.date.past({years:9})}}initialize(){this.isInitialized||(this.isInitialized=!0,this.list.next(Array(300).fill(0).map(()=>this.createMock()).sort((t,i)=>i.registeredSince.getTime()-t.registeredSince.getTime())))}getList(){return this.appRef.isStable.pipe(d(t=>t),c(1e3)).subscribe(()=>{this.initialize()}),this.list}save(t){this.list.next(this.list.value.map(i=>i.id==t.id?t:i))}updateAddress(t,i,a){this.list.next(this.list.value.map(r=>r.id==t?o(n({},r),{savedAddresses:r.savedAddresses.toSpliced(i,1,a)}):r))}add(t){this.list.next(this.list.value.toSpliced(0,0,t))}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{g as a};
