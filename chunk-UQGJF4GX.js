import{a as E}from"./chunk-CLVX4EYV.js";import{a as D}from"./chunk-EGT3QNHI.js";import{a as e}from"./chunk-QLEH2ZB5.js";import{M as g}from"./chunk-BLILFWNP.js";import{$ as f,K as u,N as c,ea as l,g as p,nb as d,r as m}from"./chunk-LVH4HSPS.js";var o=(function(i){return i.OPEN="Open",i.REPACKAGING="Repackaging",i.WAITING_FOR_DELIVERY="Waiting for delivery",i.DELIVERED="Delivered",i.EXPIRED="Expired",i})(o||{}),n=(function(i){return i.ACCESSORY="Accessory",i.BOOK="Book",i.CDDVD="CD / DVD",i.CLOTHING="Clothing",i.ELECTRONICS="Electronics",i.FOOD="Food",i.GOODS="Goods",i.INSTRUMENT="Instrument",i.STATIONARY="Stationary",i.UTENSIL="Utensil",i.OTHERS="Others",i})(n||{});var z=(()=>{let s=class s{constructor(){this.appRef=l(d),this.customerData=l(E),this.inventoryShelfData=l(D),this.list=new p([]),this.isInitialized=!1}createMock(r,t){let a=e.helpers.rangeToNumber({min:250,max:1500}),h=e.helpers.enumValue(o);return{id:e.string.nanoid(),netWeight:a,grossWeight:a+e.helpers.rangeToNumber({min:400,max:800}),contents:Array(e.helpers.rangeToNumber({min:1,max:3})).fill(0).map(()=>({id:e.string.nanoid(),type:e.helpers.enumValue(n),description:e.commerce.productName(),isbn:e.helpers.maybe(()=>e.commerce.isbn())??null,quantity:1,totalPrice:e.helpers.rangeToNumber({min:100,max:2500})/10})),isContainFragile:e.datatype.boolean(),arrivedAt:e.date.past({years:1}),belongsTo:e.helpers.arrayElement(r).id,status:h,locatedIn:h==o.EXPIRED?null:e.helpers.arrayElement(t).id}}initialize(){this.isInitialized||(this.isInitialized=!0,m([this.customerData.getList(),this.inventoryShelfData.getList()]).pipe(c(([r,t])=>r.length>0&&t.length>0)).subscribe(([r,t])=>{this.list.next(Array(100).fill(0).map(()=>this.createMock(r,t)))}))}getList(){return this.appRef.isStable.pipe(c(r=>r),u(50)).subscribe(()=>{this.initialize()}),this.list}save(r,t){this.list.next(this.list.value.map(a=>a.id==r?g(a,t):a))}add(r){this.list.next(this.list.value.toSpliced(0,0,r))}};s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=f({token:s,factory:s.\u0275fac,providedIn:"root"});let i=s;return i})();export{o as a,n as b,z as c};
