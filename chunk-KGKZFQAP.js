import{a as f}from"./chunk-RB3XALJO.js";import{a as E}from"./chunk-EIXDFUOE.js";import{a as e}from"./chunk-5KUQE4MU.js";import{$ as u,K as m,N as l,fa as s,g as h,r as p,tb as d}from"./chunk-RLC3TLQJ.js";var a=function(i){return i.OPEN="Open",i.REPACKAGING="Repackaging",i.WAITING_FOR_DELIVERY="Waiting for delivery",i.DELIVERED="Delivered",i.EXPIRED="Expired",i}(a||{}),o=function(i){return i.ACCESSORY="Accessory",i.BOOK="Book",i.CDDVD="CD / DVD",i.CLOTHING="Clothing",i.ELECTRONICS="Electronics",i.FOOD="Food",i.GOODS="Goods",i.INSTRUMENT="Instrument",i.STATIONARY="Stationary",i.UTENSIL="Utensil",i.OTHERS="Others",i}(o||{});var L=(()=>{class i{constructor(){this.appRef=s(d),this.customerData=s(f),this.inventoryShelfData=s(E),this.list=new h([]),this.isInitialized=!1}createMock(r,t){let c=e.helpers.rangeToNumber({min:250,max:1500}),n=e.helpers.enumValue(a);return{id:e.string.nanoid(),netWeight:c,grossWeight:c+e.helpers.rangeToNumber({min:400,max:800}),contents:Array(e.helpers.rangeToNumber({min:1,max:3})).fill(0).map(()=>({id:e.string.nanoid(),type:e.helpers.enumValue(o),description:e.commerce.productName(),isbn:e.helpers.maybe(()=>e.commerce.isbn())??null,quantity:1,totalPrice:e.helpers.rangeToNumber({min:100,max:2500})/10})),isContainFragile:e.datatype.boolean(),arrivedAt:e.date.past({years:1}),belongsTo:e.helpers.arrayElement(r).id,status:n,locatedIn:n==a.EXPIRED?null:e.helpers.arrayElement(t).id}}initialize(){this.isInitialized||(this.isInitialized=!0,p([this.customerData.getList(),this.inventoryShelfData.getList()]).pipe(l(([r,t])=>r.length>0&&t.length>0)).subscribe(([r,t])=>{this.list.next(Array(100).fill(0).map(()=>this.createMock(r,t)))}))}getList(){return this.appRef.isStable.pipe(l(r=>r),m(50)).subscribe(()=>{this.initialize()}),this.list}save(r){this.list.next(this.list.value.map(t=>t.id==r.id?r:t))}add(r){this.list.next(this.list.value.toSpliced(0,0,r))}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{a,o as b,L as c};
