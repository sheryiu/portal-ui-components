import{Ca as fe,Da as it,Fa as Ce,G as le,Ga as he,Ha as nt,I as V,Ia as ot,J as Pe,Ja as rt,Ka as at,L as ce,La as lt,M as Be,Ma as ct,N as Me,Na as st,O as Ne,Oa as dt,P as je,Pa as pt,Q as ze,Qa as ut,R as se,Ra as _t,Sa as mt,Ta as ft,W as He,Z as Ue,_ as We,c as Re,d as re,da as qe,ga as Ge,h as Oe,ha as Ye,ia as Ke,ja as Je,ka as Qe,la as Xe,ma as Ze,na as et,oa as tt,pa as de,qa as pe,ra as ue,ta as j,u as Ie,v as N,w as G,wa as _e,x as Le,xa as me,y as ae}from"./chunk-GGOHXMJP.js";import{Bb as v,C as Q,Cb as l,Db as Ve,Ea as Fe,Eb as te,Fa as k,Ka as ke,Nb as f,Ob as h,Ra as s,Rb as ie,Ub as ne,Vb as $,W as xe,Wb as U,Xb as S,_a as H,aa as X,ac as L,cc as W,da as O,dc as oe,ga as _,jb as u,ka as E,ma as De,mb as Se,nb as p,ob as ee,pb as Ee,q as ye,qb as m,r as B,rb as $e,sb as D,tb as w,ua as g,ub as c,uc as Ae,va as y,vb as d,vc as C,wb as b,wc as q,xb as I,xc as M,ya as Z,yb as x,za as we}from"./chunk-NC3QZFGA.js";import{a as F,b as R}from"./chunk-EQDQRRRY.js";var J=(e,n)=>n.id;function yt(e,n){if(e&1&&I(0,3),e&2){let t=l();p("ngComponentOutlet",t.configuration.content)}}function xt(e,n){if(e&1&&(c(0,"i"),f(1),d()),e&2){let t=l(2).$implicit;s(),h(t.icon)}}function Dt(e,n){if(e&1&&I(0,8),e&2){let t=l(2).$implicit;p("ngTemplateOutlet",t.iconTemplateRef)}}function wt(e,n){if(e&1){let t=x();c(0,"button",7),v("click",function(o){g(t);let r=l().$implicit,a=l();return y(a.layoutService.controlOnClick(r.id,o))}),u(1,xt,2,1,"i")(2,Dt,1,1,"ng-container",8),c(3,"span"),f(4),d()()}if(e&2){let t=l().$implicit;p("disabled",t.isDisabled)("hoverableEnabled",!t.isDisabled),s(),m(t.icon?1:t.iconTemplateRef?2:-1),s(3),h(t.label)}}function Ft(e,n){if(e&1&&(c(0,"i"),f(1),d()),e&2){let t=l(2).$implicit;s(),h(t.icon)}}function kt(e,n){if(e&1&&I(0,8),e&2){let t=l(2).$implicit;p("ngTemplateOutlet",t.iconTemplateRef)}}function St(e,n){if(e&1){let t=x();c(0,"button",9),v("click",function(o){g(t);let r=l().$implicit,a=l();return y(a.layoutService.controlOnClick(r.id,o))}),u(1,Ft,2,1,"i")(2,kt,1,1,"ng-container",8),d()}if(e&2){let t=l().$implicit;p("disabled",t.isDisabled)("hoverableEnabled",!t.isDisabled),s(),m(t.icon?1:t.iconTemplateRef?2:-1)}}function Et(e,n){}function $t(e,n){if(e&1&&u(0,wt,5,4,"button",5)(1,St,3,3,"button",6)(2,Et,0,0),e&2){let t=n.$implicit,i=l();m(t.id==i.mostEmphasizedControlId()?0:t.icon||t.iconTemplateRef?1:2)}}var be=(e,n)=>n.key,Y=e=>({enum:e}),Ct=()=>({});function Vt(e,n){if(e&1&&b(0,"pui-field-def",2),e&2){let t,i=n.$implicit;p("key",i.key)("fieldType",i.fieldConfiguration.type)("label",(t=i.fieldConfiguration.description)!==null&&t!==void 0?t:i.key)("fieldConfig",i.fieldConfiguration.type=="string"?S(4,Y,i.fieldConfiguration.enum):i.fieldConfiguration.type=="number"?S(6,Y,i.fieldConfiguration.enum):U(8,Ct))}}function At(e,n){if(e&1&&(c(0,"form")(1,"pui-fieldset",1),D(2,Vt,1,9,"pui-field-def",2,be),d()()),e&2){let t=l();s(),p("formControl",t.formControl),s(),w(t.flattenedControls())}}function Rt(e,n){if(e&1){let t=x();c(0,"pui-layout-control",3),v("click",function(o){let r=g(t).$implicit,a=l();return y(a.onControlClick(r.id,o))}),d()}if(e&2){let t=n.$implicit;p("id",t.id)("label",t.label)("icon",t.icon)("iconTemplateRef",t.iconTemplateRef)("disabled",t.isDisabled)("weight",t.weight)("mode",t.mode)}}var Ot=()=>[],It=e=>({peek:e}),Lt=e=>({outlets:e}),Pt=e=>[e];function Bt(e,n){if(e&1&&(c(0,"a",1)(1,"i"),f(2,"open_in_full"),d()()),e&2){let t=l();p("routerLink",t.routeToFullContent())}}var Mt=[[["",8,"pui-root-sidenav__header__logo"]],[["",8,"pui-root-sidenav__nav"]]],Nt=[".pui-root-sidenav__header__logo",".pui-root-sidenav__nav"];function jt(e,n){if(e&1&&b(0,"pui-field-def",4),e&2){let t,i=n.$implicit;p("key",i.key)("fieldType",i.fieldConfiguration.type)("label",(t=i.fieldConfiguration.description)!==null&&t!==void 0?t:i.key)("fieldConfig",i.fieldConfiguration.type=="string"?S(5,Y,i.fieldConfiguration.enum):i.fieldConfiguration.type=="number"?S(7,Y,i.fieldConfiguration.enum):U(9,Ct))("isNullable",!1)}}function zt(e,n){if(e&1){let t=x();c(0,"pui-fieldset",3),v("valueChange",function(o){g(t);let r=l();return y(r.onFilterValueChange(o))}),D(1,jt,1,10,"pui-field-def",4,be),d()}if(e&2){let t=l();p("formControl",t.filterFormControl),s(),w(t.flattenFilterDef())}}function Ht(e,n){if(e&1){let t=x();c(0,"pui-table-header-cell",7),v("cellClick",function(o){g(t);let r=l().$implicit,a=l();return y(a.onHeaderClick(r.key,o))}),f(1),d()}if(e&2){let t,i,o,r=l().$implicit;p("rightAligned",(t=r.isAlignEnd)!==null&&t!==void 0?t:!1)("sortedAsc",(i=r.isSortedAsc)!==null&&i!==void 0?i:!1)("sortedDesc",(o=r.isSortedDesc)!==null&&o!==void 0?o:!1),s(),h(r.label)}}function Ut(e,n){e&1&&f(0," \xA0ago ")}function Wt(e,n){if(e&1&&(b(0,"pui-time-display",10),u(1,Ut,1,0)),e&2){let t=l(2).$implicit,i=l().$implicit;p("mode",i.fieldConfiguration.format=="timeAgo"?"timeAgo":"normal")("format",i.fieldConfiguration.format)("date",t[i.key]),s(),m(i.fieldConfiguration.format=="timeAgo"?1:-1)}}function qt(e,n){if(e&1&&(ie(0),L(1,"lodashGet"),c(2,"i",11),f(3),d()),e&2){let t,i=l(2).$implicit,o=l().$implicit,r=W(1,3,i,(t=o.path)!==null&&t!==void 0?t:o.key);s(2),Ee("pui-table-cell__boolean-content--true",r===!0),s(),h(r===!0?"check":r===!1?"close":"")}}function Gt(e,n){if(e&1&&(c(0,"span"),f(1),L(2,"lodashGet"),d()),e&2){let t,i=l(2).$implicit,o=l().$implicit;s(),h(W(2,1,i,(t=o.path)!==null&&t!==void 0?t:o.key))}}function Yt(e,n){if(e&1&&u(0,Wt,2,4)(1,qt,4,6,"i",9)(2,Gt,3,4,"span"),e&2){let t,i=l(2).$implicit;m((t=i.fieldConfiguration.type)==="date-time"?0:t==="boolean"?1:2)}}function Kt(e,n){if(e&1&&(c(0,"span"),f(1),L(2,"lodashGet"),d()),e&2){let t,i=l().$implicit,o=l().$implicit;s(),h(W(2,1,i,(t=o.path)!==null&&t!==void 0?t:o.key))}}function Jt(e,n){if(e&1&&(c(0,"pui-table-cell",8),u(1,Yt,3,1)(2,Kt,3,4,"span"),d()),e&2){let t,i=l().$implicit;p("rightAligned",(t=i.isAlignEnd)!==null&&t!==void 0?t:!1),s(),m(i.fieldConfiguration?1:2)}}function Qt(e,n){if(e&1&&u(0,Ht,2,4,"pui-table-header-cell",5)(1,Jt,3,2,"pui-table-cell",6),e&2){let t=n.$implicit;p("puiTableHeaderCellDef",t.key),s(),p("puiTableCellDef",t.key)}}function Xt(e,n){if(e&1){let t=x();c(0,"pui-table-row",15),L(1,"isInSet"),v("click",function(){let o=g(t).$implicit,r=l(3);return y(r.onRowClick(o))}),d()}if(e&2){let t=n.$implicit,i=l(3);ee("height",48,"px"),p("item",t)("route",t[i.ROUTE_TO_DETAIL])("selected",oe(1,5,t,i.selectedItems(),i.cmpFn))}}function Zt(e,n){if(e&1&&(c(0,"cdk-virtual-scroll-viewport",13),u(1,Xt,2,9,"pui-table-row",14),d()),e&2){let t=l(2);ee("height",t.data().length*48,"px"),s(),p("cdkVirtualForOf",t.data())("cdkVirtualForTrackBy",t.trackingFn)("cdkVirtualForTemplateCacheSize",0)}}function ei(e,n){if(e&1&&u(0,Zt,2,5,"cdk-virtual-scroll-viewport",12),e&2){let t=l();m(t.isBrowser?0:-1)}}function ti(e,n){if(e&1){let t=x();c(0,"pui-table-row",15),L(1,"isInSet"),v("click",function(){let o=g(t).$implicit,r=l(2);return y(r.onRowClick(o))}),d()}if(e&2){let t=n.$implicit,i=l(2);p("item",t)("route",t[i.ROUTE_TO_DETAIL])("selected",oe(1,3,t,i.selectedItems(),i.cmpFn))}}function ii(e,n){if(e&1&&D(0,ti,2,7,"pui-table-row",16,$e),e&2){let t=l();w(t.data())}}function ni(e,n){if(e&1){let t=x();c(0,"pui-layout-control",17),v("click",function(o){let r=g(t).$implicit,a=l();return y(a.onControlClick(r.id,o))}),d()}if(e&2){let t=n.$implicit;p("id",t.id)("label",t.label)("icon",t.icon)("iconTemplateRef",t.iconTemplateRef)("disabled",t.isDisabled)("weight",t.weight)("mode",t.mode)}}var oi=(e,n)=>n.label;function ri(e,n){if(e&1&&(c(0,"a",6),f(1),d()),e&2){let t=l().$implicit;p("routerLink",t.route),s(),h(t.label)}}function ai(e,n){if(e&1&&u(0,ri,2,2,"a",7),e&2){let t=n.$implicit;p("puiTab",t.label)}}function li(e,n){if(e&1){let t=x();c(0,"pui-tab-bar",5),v("tabChange",function(o){g(t);let r=l(2);return y(r.onTabChanged(o))}),D(1,ai,1,1,"a",6,oi),d()}if(e&2){let t=l(2);p("currentTab",t.activeTab()),s(),w(t.tabs())}}function ci(e,n){if(e&1&&(c(0,"i"),f(1),d()),e&2){let t=l(2).$implicit;s(),h(t.icon)}}function si(e,n){if(e&1&&I(0,11),e&2){let t=l(2).$implicit;p("ngTemplateOutlet",t.iconTemplateRef)}}function di(e,n){if(e&1){let t=x();c(0,"button",10),v("click",function(o){g(t);let r=l().$implicit,a=l(2);return y(a.layoutService.controlOnClick(r.id,o))}),u(1,ci,2,1,"i")(2,si,1,1,"ng-container",11),c(3,"span"),f(4),d()()}if(e&2){let t=l().$implicit;p("disabled",t.isDisabled)("hoverableEnabled",!t.isDisabled),s(),m(t.icon?1:t.iconTemplateRef?2:-1),s(3),h(t.label)}}function pi(e,n){if(e&1&&(c(0,"i"),f(1),d()),e&2){let t=l(2).$implicit;s(),h(t.icon)}}function ui(e,n){if(e&1&&I(0,11),e&2){let t=l(2).$implicit;p("ngTemplateOutlet",t.iconTemplateRef)}}function _i(e,n){if(e&1){let t=x();c(0,"button",12),v("click",function(o){g(t);let r=l().$implicit,a=l(2);return y(a.layoutService.controlOnClick(r.id,o))}),u(1,pi,2,1,"i")(2,ui,1,1,"ng-container",11),d()}if(e&2){let t=l().$implicit;p("disabled",t.isDisabled)("hoverableEnabled",!t.isDisabled)("puiTooltip",t.label),s(),m(t.icon?1:t.iconTemplateRef?2:-1)}}function mi(e,n){}function fi(e,n){if(e&1&&u(0,di,5,4,"button",8)(1,_i,3,4,"button",9)(2,mi,0,0),e&2){let t=n.$implicit,i=l(2);m(t.id==i.mostEmphasizedControlId()?0:t.icon||t.iconTemplateRef?1:2)}}function Ci(e,n){if(e&1&&(c(0,"header",2),u(1,li,3,1,"pui-tab-bar",3),b(2,"div",4),D(3,fi,3,1,null,null,J),d()),e&2){let t=l();s(),m(t.tabs().length>0?1:-1),s(2),w(t.controls())}}var z=(()=>{let n=class n{constructor(){this._controls=H([]),this.controls=C(()=>this._controls().toSorted((i,o)=>(i.weight??0)-(o.weight??0))),this.mostEmphasizedControlId=C(()=>this.controls().filter(i=>!i.mode||i.mode=="auto").at(-1)?.id),this.eventsMap={}}registerControl(i,o){return this._controls.update(r=>[...r,F({},i)]),this.eventsMap[i.id]=o,{update:r=>{this._controls.update(a=>a.map(T=>T.id==r.id?F(F({},T),r):T))},dispose:()=>{this._controls.update(r=>r.filter(a=>a.id!=i.id))}}}controlOnClick(i,o){this.eventsMap[i]?.click?.(o)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac});let e=n;return e})(),hi=(()=>{let n=class n{constructor(){this.overlayRef=_(Ze),this.dataProvider=_(ht),this.layoutService=_(z,{self:!0}),this.configuration=this.dataProvider?.configuration,this.heading=C(()=>this.dataProvider.heading()),this.controls=this.layoutService.controls,this.mostEmphasizedControlId=this.layoutService.mostEmphasizedControlId,this.dataProvider.onActionDrawerInit?.(this.overlayRef)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=E({type:n,selectors:[["pui-action-drawer-layout"]],hostAttrs:[1,"pui-action-drawer-layout"],standalone:!0,features:[ne([z]),$],decls:10,vars:2,consts:[[1,"@container/layout"],[1,"pui-action-drawer-layout__heading"],[1,"pui-action-drawer-layout__content"],[3,"ngComponentOutlet"],[1,"pui-action-drawer-layout__controls"],["puiFilledButton","","color","accent",1,"pui-action-drawer-layout__controls__most-emphasized",3,"disabled","hoverableEnabled"],["puiBorderedButton","","color","accent",1,"pui-action-drawer-layout__controls__normal",3,"disabled","hoverableEnabled"],["puiFilledButton","","color","accent",1,"pui-action-drawer-layout__controls__most-emphasized",3,"click","disabled","hoverableEnabled"],[3,"ngTemplateOutlet"],["puiBorderedButton","","color","accent",1,"pui-action-drawer-layout__controls__normal",3,"click","disabled","hoverableEnabled"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"header",1),b(2,"pui-breadcrumbs"),c(3,"h1"),f(4),d()(),c(5,"div",2),u(6,yt,1,1,"ng-container",3),d(),c(7,"div",4),D(8,$t,3,1,null,null,J),d()()),o&2&&(s(4),h(r.heading()),s(2),m(r.configuration&&r.configuration.content?6:-1),s(2),w(r.controls()))},dependencies:[me,Re,re,j,pe,ue]});let e=n;return e})(),ht=new O("action drawer layout data provider"),Ui=(()=>{let n=class n{constructor(){this.overlay=_(et),this.injector=_(Z)}open(i,o={width:"480px"}){this.overlay.open(hi,{positionStrategy:this.overlay.position().global().right("0").centerVertically(),maxWidth:"90vw",width:o.width??"480px",height:"100%",hasBackdrop:!0,backdropClass:"pui-action-drawer-backdrop",closeOnBackdropClick:!0,disposeOnNavigation:!0,closeOnEscapeKeydown:!0,animation:"slideInEnd",data:o.overlayData,parentInjector:Z.create({providers:[{provide:Xe,useValue:o.overlayData},{provide:ht,useClass:i},...o.providers??[]],parent:o.parent??this.injector})})}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})(),bi=[{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"}],Wi=[{id:"cancel",label:"Cancel",icon:"close",mode:"low-emphasis"},{id:"save",label:"Save",icon:"save"}],vi=new O("editable content data provider");function K(e,n,t,i){return Object.entries(e.properties).flatMap(([r,a])=>{if(a.type=="object")return K(a,n,`${t?`${t}.`:""}${r}`,`${i}${a.description??""} / `);if(a.type=="array"){let T=le(n,`${t?`${t}.`:""}${r}`);return[{key:`${t?`${t}.`:""}${r}`,fieldConfiguration:R(F({},a),{description:`${i}${a.description??""}`})},...Array.isArray(T)?T.flatMap((ve,A)=>a.items.type=="object"?[...K(a.items,n,`${t?`${t}.`:""}${r}[${A}]`,`${i}${a.description??""} / #${A} / `)]:[{key:`${t?`${t}.`:""}${r}[${A}]`,fieldConfiguration:R(F({},a.items),{description:`${i}${a.description??""} / #${A}`})}]):[]]}return[{key:`${t?`${t}.`:""}${r}`,fieldConfiguration:R(F({},a),{description:i+a.description})}]})}var bt=(()=>{let n=class n{constructor(){if(this.layoutService=_(z,{optional:!0}),this.destroyRef=_(we),this.id=k.required(),this.label=k.required(),this.weight=k(0),this.icon=k(),this.iconTemplateRef=k(),this.disabled=k(!1,{transform:Ae}),this.mode=k(void 0),this.click=Fe(),!this.layoutService)return;let i,o;M(()=>{let r=this.id(),a=this.label(),T=this.disabled(),ve=this.icon(),A=this.iconTemplateRef(),vt=this.mode(),Tt=this.weight(),Te={id:r,label:a,isDisabled:T,icon:ve,iconTemplateRef:A,weight:Tt,mode:vt};if(i)i(Te);else{let ge=this.layoutService.registerControl(Te,{click:gt=>this.click.emit(gt)});i=ge.update,o=ge.dispose}},{allowSignalWrites:!0}),this.destroyRef.onDestroy(()=>{o?.()})}};n.\u0275fac=function(o){return new(o||n)},n.\u0275dir=De({type:n,selectors:[["pui-layout-control"]],inputs:{id:[1,"id"],label:[1,"label"],weight:[1,"weight"],icon:[1,"icon"],iconTemplateRef:[1,"iconTemplateRef"],disabled:[1,"disabled"],mode:[1,"mode"]},outputs:{click:"click"},standalone:!0});let e=n;return e})(),qi=(()=>{let n=class n{constructor(){this.route=_(N),this.dataProvider=_(vi),this.formControl=new je(void 0),this.data=C(()=>this.dataProvider.data()),this.fieldConfiguration=C(()=>this.dataProvider.fieldConfiguration()),this.formControlValue=Pe(this.formControl.events.pipe(Q(i=>i instanceof Me),ye(i=>i.value))),this.flattenedControls=C(()=>{let i=this.fieldConfiguration(),o=this.formControlValue();return i?K(i,o,"",i.description?`${i.description} / `:""):[]}),this.controlsConfig=C(()=>this.dataProvider.controlsConfig?.()??bi),M(()=>{let i=this.data();q(()=>this.formControl.setValue(i))}),M(()=>{let i=this.formControlValue();q(()=>this.dataProvider.onValueChange?.(i))}),B([this.route.params,this.route.queryParams]).pipe(V()).subscribe(([i,o])=>this.dataProvider.onParamsChange?.(i,o)),this.formControl.events.pipe(V()).subscribe(()=>{this.dataProvider.onStateChange?.({isValid:this.formControl.valid,isDisabled:this.formControl.disabled,isDirty:this.formControl.dirty})}),this.dataProvider.registerUpdateState?.(i=>{q(()=>{i?.isDirty===!1?this.formControl.markAsPristine():i?.isDirty===!0&&this.formControl.markAsDirty(),i?.isDisabled===!1?this.formControl.enable():i?.isDisabled===!0&&this.formControl.disable()})})}onControlClick(i,o){this.dataProvider.onControlClick?.(i,o)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=E({type:n,selectors:[["pui-editable-content"]],hostAttrs:[1,"pui-editable-content"],standalone:!0,features:[$],decls:4,vars:1,consts:[[3,"id","label","icon","iconTemplateRef","disabled","weight","mode"],[3,"formControl"],[3,"key","fieldType","label","fieldConfig"],[3,"click","id","label","icon","iconTemplateRef","disabled","weight","mode"]],template:function(o,r){o&1&&(c(0,"main"),u(1,At,4,1,"form"),d(),D(2,Rt,1,7,"pui-layout-control",0,J)),o&2&&(s(),m(r.flattenedControls().length>0?1:-1),s(),w(r.controlsConfig()))},dependencies:[he,Ce,fe,ze,ce,Be,Ne,se,bt]});let e=n;return e})(),Ti=new O("peekable addon data provider"),gi=(()=>{let n=class n{constructor(){this.dataProvider=_(Ti,{optional:!0}),this.route=_(N),this.routeToFullContent=C(()=>this.dataProvider?.routeToFullContent()??null),B([this.route.params,this.route.queryParams]).pipe(V()).subscribe(([i,o])=>this.dataProvider?.onParamsChange?.(i,o))}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=E({type:n,selectors:[["pui-peekable-addon"]],hostAttrs:[1,"pui-peekable-addon"],standalone:!0,features:[$],decls:8,vars:9,consts:[[1,"pui-peekable-addon__nav"],["puiBaseButton","","puiTooltip","View in full",1,"pui-peekable-addon__nav-button",3,"routerLink"],[1,"spacer"],["puiBaseButton","","puiTooltip","Close peek window",1,"pui-peekable-addon__nav-button",3,"routerLink"],[1,"pui-peekable-addon__content"],["name","peek"]],template:function(o,r){o&1&&(c(0,"nav",0),u(1,Bt,3,1,"a",1),b(2,"div",2),c(3,"a",3)(4,"i"),f(5,"close"),d()()(),c(6,"main",4),b(7,"router-outlet",5),d()),o&2&&(s(),m(r.routeToFullContent()?1:-1),s(2),p("routerLink",S(7,Pt,S(5,Lt,S(3,It,U(2,Ot))))))},dependencies:[G,ae,j,de,_e]});let e=n;return e})(),Gi=(()=>{let n=class n{constructor(){this.isSidenavVisible=H(!1)}toggleSidenav(i){this.isSidenavVisible.update(o=>i??!o)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=E({type:n,selectors:[["pui-root-sidenav"]],standalone:!0,features:[$],ngContentSelectors:Nt,decls:12,vars:1,consts:[[1,"pui-root-sidenav"],[1,"pui-root-sidenav__header"],["puiBaseButton","",1,"pui-root-sidenav__header__hamburger",3,"click"],[1,"spacer"],[1,"pui-root-sidenav__nav-wrapper"],[1,"pui-root-sidenav__content-wrapper"],[1,"pui-root-sidenav__content"]],template:function(o,r){o&1&&(Ve(Mt),c(0,"div",0)(1,"div",1)(2,"button",2),v("click",function(){return r.toggleSidenav()}),c(3,"i"),f(4,"menu"),d()(),b(5,"div",3),te(6),d(),c(7,"div",4),te(8,1),d()(),c(9,"div",5)(10,"div",6),b(11,"router-outlet"),d()()),o&2&&(s(10),Se("data-sidenav",r.isSidenavVisible()?"visible":"hidden"))},dependencies:[j,de,G]});let e=n;return e})();function Yi(e,n,t=!0){let i=Object.values(e??{}).some(r=>typeof r=="string"?!!r:r!=null),o=Object.keys(e??{});return r=>{if(!i)return!0;if(t){for(let a of o)if(a in n&&n[a]!=null&&!n[a](r,a,e[a],e))return!1;return!0}else{for(let a of o)if(a in n&&n[a]!=null&&n[a](r,a,e[a],e))return!0;return!1}}}function Ki(e){let n=e.find(i=>i.isSortedAsc||i.isSortedDesc);if(!n)return()=>0;let t=n.isSortedDesc?-1:1;return n.fieldConfiguration?.type=="date-time"?(i,o)=>{let r=P(i,n),a=P(o,n);return r==null&&a==null?0:r instanceof Date&&a instanceof Date?(r.getTime()-a.getTime())*t:r instanceof Date?1*t:-1*t}:(i,o)=>{switch(n.key){default:return P(i,n)>P(o,n)?t:P(i,n)<P(o,n)?-1*t:0}}}function P(e,n){return n.path?le(e,n.path):e[n.key]}var yi=[{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"},{id:"add",label:"Add new",icon:"add"}],xi=new O("table content data provider"),Ji=(()=>{let n=class n{constructor(){this.route=_(N),this.dataProvider=_(xi),this.isBrowser=Oe(_(ke)),this.ROUTE_TO_DETAIL=Symbol(),this.configuration=this.dataProvider.configuration,this.data=C(()=>{let i=this.dataProvider.data(),o=this.dataProvider.routeToDetail;return i?.map(r=>Object.assign({},r,{[this.ROUTE_TO_DETAIL]:o?.bind(this.dataProvider)?.(r)}))}),this.columnConfig=C(()=>this.dataProvider.columnsConfig()),this.columnsToDisplay=C(()=>this.dataProvider.columnsToDisplay()),this.selectionMode=C(()=>this.dataProvider.selectionMode?.()??null),this.selectedItems=C(()=>this.dataProvider.selectedItems?.()??new Set),this.controlsConfig=C(()=>this.dataProvider.controlsConfig?.()??yi),this.flattenFilterDef=C(()=>{let i=this.dataProvider.filterConfig?.();return i?K(i,{},"",i.description?`${i.description} / `:""):[]}),this.filterFormControl=_(He).nonNullable.control({}),this.cmpFn=this.dataProvider.compareFn??((i,o)=>i==o),B([this.route.params,this.route.queryParams]).pipe(V()).subscribe(([i,o])=>this.dataProvider.onParamsChange?.(i,o)),M(()=>{this.dataProvider.filterValue&&this.filterFormControl.setValue(this.dataProvider.filterValue?.(),{emitEvent:!1})},{allowSignalWrites:!0})}ngOnInit(){this.dataProvider?.onInit?.()}ngOnDestroy(){this.dataProvider?.onDestroy?.()}onRowClick(i){this.dataProvider.onTableRowClick?.(i)}onHeaderClick(i,o){this.dataProvider.onHeaderCellClick?.(i,o)}onControlClick(i,o){this.dataProvider.onControlClick?.(i,o)}onFilterValueChange(i){this.dataProvider.onFilterChange?.(i)}trackingFn(i,o){return i}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=E({type:n,selectors:[["pui-table-content"]],hostAttrs:[1,"pui-table-content"],standalone:!0,features:[$],decls:13,vars:5,consts:[[3,"formControl"],[3,"itemHeight","columns","selectionMode"],[3,"id","label","icon","iconTemplateRef","disabled","weight","mode"],[3,"valueChange","formControl"],[3,"key","fieldType","label","fieldConfig","isNullable"],[3,"rightAligned","sortedAsc","sortedDesc","cellClick",4,"puiTableHeaderCellDef"],[3,"rightAligned",4,"puiTableCellDef"],[3,"cellClick","rightAligned","sortedAsc","sortedDesc"],[3,"rightAligned"],[1,"pui-table-cell__boolean-content",3,"pui-table-cell__boolean-content--true"],[3,"mode","format","date"],[1,"pui-table-cell__boolean-content"],["itemSize","48","scrollWindow","",3,"height"],["itemSize","48","scrollWindow",""],["puiHoverable","",3,"item","route","height","selected","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],["puiHoverable","",3,"click","item","route","selected"],["puiHoverable","",3,"item","route","selected"],[3,"click","id","label","icon","iconTemplateRef","disabled","weight","mode"]],template:function(o,r){if(o&1&&(c(0,"main")(1,"div"),ie(2),u(3,zt,3,1,"pui-fieldset",0),c(4,"pui-table",1),D(5,Qt,2,2,null,null,be),c(7,"pui-table-body"),b(8,"pui-table-header-row"),u(9,ei,1,1)(10,ii,2,0),d()()()(),D(11,ni,1,7,"pui-layout-control",2,J)),o&2){let a=r.flattenFilterDef();s(3),m(a.length>0?3:-1),s(),p("itemHeight",48)("columns",r.columnsToDisplay())("selectionMode",r.selectionMode()),s(),w(r.columnConfig()),s(4),m(r.configuration!=null&&r.configuration.useVirtualScroll?9:10),s(2),w(r.controlsConfig())}},dependencies:[ft,ct,mt,st,_t,ut,dt,at,pt,lt,tt,bt,it,We,Qe,Ge,Ke,Ye,Je,he,Ce,fe,ce,se,Ue]});let e=n;return e})();function Qi(e,n,t=!0){return e.map(i=>i.key==n?R(F({},i),{isSortedAsc:!i.isSortedAsc&&!i.isSortedDesc?t:!!i.isSortedDesc,isSortedDesc:!i.isSortedAsc&&!i.isSortedDesc?!t:!!i.isSortedAsc}):R(F({},i),{isSortedAsc:!1,isSortedDesc:!1}))}var Di=new O("vertical layout data provider"),Xi=(()=>{let n=class n{constructor(){this.dataProvider=_(Di),this.layoutService=_(z,{self:!0}),this.router=_(Le),this.route=_(N),this.activeTab=H(null),this.heading=C(()=>this.dataProvider.heading()),this.tabs=C(()=>this.dataProvider.tabs()),this.controls=this.layoutService.controls,this.mostEmphasizedControlId=this.layoutService.mostEmphasizedControlId,B([this.route.params,this.route.queryParams]).pipe(V()).subscribe(([i,o])=>this.dataProvider.onParamsChange?.(i,o)),this.router.events.pipe(Q(i=>i instanceof Ie),xe(this.router.lastSuccessfulNavigation?.finalUrl),qe(),V()).subscribe(()=>{let i=this.tabs();if(!i)return;let o=i.find(a=>{let T=this.router.createUrlTree(a.route,{relativeTo:this.route});return this.router.isActive(T,{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})});if(!o)return;this.activeTab.set(o.label);let r=this.route.routeConfig?.children?.find(a=>a.path=="**");r&&(r.redirectTo=o.route.map(a=>String(a).replaceAll("..%2F","").replaceAll(".%2F","")).join("/"))})}onTabChanged(i){let o=this.tabs()?.find(r=>r.label==i);o&&this.router.navigate(o.route,{relativeTo:this.route})}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=E({type:n,selectors:[["pui-vertical-layout"]],hostAttrs:[1,"pui-vertical-layout"],standalone:!0,features:[ne([z]),$],decls:8,vars:2,consts:[[1,"@container/layout"],[1,"pui-vertical-layout__heading"],[1,"pui-vertical-layout__controls"],[1,"pui-vertical-layout__tabs",3,"currentTab"],[1,"spacer"],[1,"pui-vertical-layout__tabs",3,"tabChange","currentTab"],[3,"routerLink"],[3,"routerLink",4,"puiTab"],["puiFilledButton","","color","accent",1,"pui-vertical-layout__controls__most-emphasized",3,"disabled","hoverableEnabled"],["puiBorderedButton","","color","accent",1,"pui-vertical-layout__controls__normal",3,"disabled","hoverableEnabled","puiTooltip"],["puiFilledButton","","color","accent",1,"pui-vertical-layout__controls__most-emphasized",3,"click","disabled","hoverableEnabled"],[3,"ngTemplateOutlet"],["puiBorderedButton","","color","accent",1,"pui-vertical-layout__controls__normal",3,"click","disabled","hoverableEnabled","puiTooltip"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"header",1),b(2,"pui-breadcrumbs"),c(3,"h1"),f(4),d()(),u(5,Ci,5,1,"header",2),b(6,"router-outlet")(7,"pui-peekable-addon"),d()),o&2&&(s(4),h(r.heading()),s(),m(r.tabs().length>0||r.controls().length>0?5:-1))},dependencies:[G,me,j,pe,ue,rt,ot,nt,ae,re,gi,_e]});let e=n;return e})();export{ht as a,Ui as b,bi as c,Wi as d,vi as e,bt as f,qi as g,Ti as h,Gi as i,Yi as j,Ki as k,yi as l,xi as m,Ji as n,Qi as o,Di as p,Xi as q};
