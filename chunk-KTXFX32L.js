import{a as e}from"./chunk-5KUQE4MU.js";import{b as c,o as d,p,w as m,ya as f,z as h}from"./chunk-K2JVR4UR.js";import{a as o,b as l}from"./chunk-EQDQRRRY.js";var v=(()=>{let s=class s{constructor(){this.appRef=h(f),this.list=new c([]),this.isInitialized=!1}createMockAddress(){return{line1:e.location.secondaryAddress(),line2:e.location.streetAddress(),city:e.location.city(),state:e.location.state(),country:e.location.country(),postalCode:e.location.zipCode()}}createMock(){let t=e.person.firstName(),i=e.person.lastName();return{id:e.string.nanoid(),profile:{color:e.color.colorByCSSColorSpace().map(n=>n*255).join(" "),icon:e.helpers.arrayElement(["pentagon","square","hexagon","shapes","stack","lightbulb","all_out"])},name:e.person.fullName({firstName:t,lastName:i}),username:e.helpers.maybe(()=>e.internet.username({firstName:t,lastName:i}))??e.internet.username(),email:e.internet.email({firstName:t,lastName:i}),phone:e.phone.number(),address:this.createMockAddress(),savedAddresses:Array(e.helpers.rangeToNumber({min:1,max:6})).fill(0).map(()=>this.createMockAddress()),registeredSince:e.date.past({years:9})}}initialize(){this.isInitialized||(this.isInitialized=!0,this.list.next(Array(20).fill(0).map(()=>this.createMock()).sort((t,i)=>i.registeredSince.getTime()-t.registeredSince.getTime())))}getList(){return this.appRef.isStable.pipe(p(t=>t),d(1e3)).subscribe(()=>{this.initialize()}),this.list}save(t){this.list.next(this.list.value.map(i=>i.id==t.id?t:i))}updateAddress(t,i,n){this.list.next(this.list.value.map(r=>r.id==t?l(o({},r),{savedAddresses:r.savedAddresses.toSpliced(i,1,n)}):r))}add(t){this.list.next(this.list.value.toSpliced(0,0,t))}};s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m({token:s,factory:s.\u0275fac,providedIn:"root"});let a=s;return a})();export{v as a};
