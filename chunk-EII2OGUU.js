import{Ba as Ce,Da as he,Ea as be,F as ce,Fa as it,H as S,I as Pe,Ia as nt,Ja as ot,K as se,Ka as rt,L as Be,La as at,M as Me,Ma as lt,N as Ne,Na as ct,O as je,Oa as st,P as ze,Pa as dt,Q as de,Qa as pt,Ra as ut,Sa as _t,Ta as mt,Ua as ft,V as He,Y as Ue,Z as qe,c as Oe,ca as We,d as oe,fa as Ge,ga as Ye,h as Ie,ha as Ke,ia as Je,ja as Qe,ka as Xe,la as Ze,ma as et,na as tt,oa as pe,pa as ue,qa as _e,sa as N,t as re,u as M,v as G,va as me,w as ae,wa as fe,x as le}from"./chunk-IQCA3Y3N.js";import{$ as Q,$b as U,Ab as c,Bb as d,C as z,Ca as H,Cb as b,Db as L,Eb as y,Ga as Se,H as De,Hb as v,Ib as a,Jb as Re,Kb as ee,Qa as s,Tb as C,Ub as h,V as we,Xb as te,_b as ie,ac as F,ca as R,db as E,fa as u,fb as Ee,fc as O,hc as q,ic as ne,kb as _,oa as T,pa as g,q as xe,qc as Le,r as P,rc as m,sa as X,sb as $e,ta as ke,tb as p,tc as W,ub as Z,uc as B,vb as Ve,wb as f,xb as Ae,ya as Fe,yb as x,za as k,zb as D}from"./chunk-I76RA5B3.js";import{a as w,b as A}from"./chunk-EQDQRRRY.js";var J=(t,o)=>o.id;function gt(t,o){if(t&1&&L(0,3),t&2){let e=a();p("ngComponentOutlet",e.configuration.content)("ngComponentOutletInputs",e.contentInputs())}}function yt(t,o){if(t&1&&(c(0,"i"),C(1),d()),t&2){let e=a(2).$implicit;s(),h(e.icon)}}function xt(t,o){if(t&1&&L(0,8),t&2){let e=a(2).$implicit;p("ngTemplateOutlet",e.iconTemplateRef)}}function Dt(t,o){if(t&1){let e=y();c(0,"button",7),v("click",function(n){T(e);let r=a().$implicit,l=a();return g(l.layoutService.controlOnClick(r.id,n))}),_(1,yt,2,1,"i")(2,xt,1,1,"ng-container",8),c(3,"span"),C(4),d()()}if(t&2){let e=a().$implicit;p("disabled",e.isDisabled)("hoverableEnabled",!e.isDisabled),s(),f(e.icon?1:e.iconTemplateRef?2:-1),s(3),h(e.label)}}function wt(t,o){if(t&1&&(c(0,"i"),C(1),d()),t&2){let e=a(2).$implicit;s(),h(e.icon)}}function kt(t,o){if(t&1&&L(0,8),t&2){let e=a(2).$implicit;p("ngTemplateOutlet",e.iconTemplateRef)}}function Ft(t,o){if(t&1){let e=y();c(0,"button",9),v("click",function(n){T(e);let r=a().$implicit,l=a();return g(l.layoutService.controlOnClick(r.id,n))}),_(1,wt,2,1,"i")(2,kt,1,1,"ng-container",8),d()}if(t&2){let e=a().$implicit;p("disabled",e.isDisabled)("hoverableEnabled",!e.isDisabled),s(),f(e.icon?1:e.iconTemplateRef?2:-1)}}function St(t,o){}function Et(t,o){if(t&1&&_(0,Dt,5,4,"button",5)(1,Ft,3,3,"button",6)(2,St,0,0),t&2){let e=o.$implicit,i=a();f(e.id==i.mostEmphasizedControlId()?0:e.icon||e.iconTemplateRef?1:2)}}var ve=(t,o)=>o.key,Y=t=>({enum:t}),Ct=()=>({});function $t(t,o){if(t&1&&b(0,"pui-field-def",2),t&2){let e,i=o.$implicit;p("key",i.key)("fieldType",i.fieldConfiguration.type)("label",(e=i.fieldConfiguration.description)!==null&&e!==void 0?e:i.key)("fieldConfig",i.fieldConfiguration.type=="string"?F(4,Y,i.fieldConfiguration.enum):i.fieldConfiguration.type=="number"?F(6,Y,i.fieldConfiguration.enum):U(8,Ct))}}function Vt(t,o){if(t&1&&(c(0,"form")(1,"pui-fieldset",1),x(2,$t,1,9,"pui-field-def",2,ve),d()()),t&2){let e=a();s(),p("formControl",e.formControl),s(),D(e.flattenedControls())}}function At(t,o){if(t&1){let e=y();c(0,"pui-layout-control",3),v("click",function(n){let r=T(e).$implicit,l=a();return g(l.onControlClick(r.id,n))}),d()}if(t&2){let e=o.$implicit;p("id",e.id)("label",e.label)("icon",e.icon)("iconTemplateRef",e.iconTemplateRef)("disabled",e.isDisabled)("weight",e.weight)("mode",e.mode)}}var Rt=()=>[],Lt=t=>({peek:t}),Ot=t=>({outlets:t}),It=t=>[t];function Pt(t,o){if(t&1&&(c(0,"a",1)(1,"i"),C(2,"open_in_full"),d()()),t&2){let e=a();p("routerLink",e.routeToFullContent())}}var Bt=[[["",8,"pui-root-sidenav__header__logo"]],[["",8,"pui-root-sidenav__nav"]]],Mt=[".pui-root-sidenav__header__logo",".pui-root-sidenav__nav"];function Nt(t,o){if(t&1&&b(0,"pui-field-def",4),t&2){let e,i=o.$implicit;p("key",i.key)("fieldType",i.fieldConfiguration.type)("label",(e=i.fieldConfiguration.description)!==null&&e!==void 0?e:i.key)("fieldConfig",i.fieldConfiguration.type=="string"?F(5,Y,i.fieldConfiguration.enum):i.fieldConfiguration.type=="number"?F(7,Y,i.fieldConfiguration.enum):U(9,Ct))("isNullable",!1)}}function jt(t,o){if(t&1){let e=y();c(0,"pui-fieldset",3),v("valueChange",function(n){T(e);let r=a();return g(r.onFilterValueChange(n))}),x(1,Nt,1,10,"pui-field-def",4,ve),d()}if(t&2){let e=a();p("formControl",e.filterFormControl),s(),D(e.flattenFilterDef())}}function zt(t,o){if(t&1){let e=y();c(0,"pui-table-header-cell",7),v("cellClick",function(n){T(e);let r=a().$implicit,l=a();return g(l.onHeaderClick(r.key,n))}),C(1),d()}if(t&2){let e,i,n,r=a().$implicit;p("rightAligned",(e=r.isAlignEnd)!==null&&e!==void 0?e:!1)("sortedAsc",(i=r.isSortedAsc)!==null&&i!==void 0?i:!1)("sortedDesc",(n=r.isSortedDesc)!==null&&n!==void 0?n:!1),s(),h(r.label)}}function Ht(t,o){t&1&&C(0," \xA0ago ")}function Ut(t,o){if(t&1&&(b(0,"pui-time-display",10),_(1,Ht,1,0)),t&2){let e=a(2).$implicit,i=a().$implicit;p("mode",i.fieldConfiguration.format=="timeAgo"?"timeAgo":"normal")("format",i.fieldConfiguration.format)("date",e[i.key]),s(),f(i.fieldConfiguration.format=="timeAgo"?1:-1)}}function qt(t,o){if(t&1&&(te(0),O(1,"lodashGet"),c(2,"i",11),C(3),d()),t&2){let e,i=a(2).$implicit,n=a().$implicit,r=q(1,3,i,(e=n.path)!==null&&e!==void 0?e:n.key);s(2),Ve("pui-table-cell__boolean-content--true",r===!0),s(),h(r===!0?"check":r===!1?"close":"")}}function Wt(t,o){if(t&1&&(c(0,"span"),C(1),O(2,"lodashGet"),d()),t&2){let e,i=a(2).$implicit,n=a().$implicit;s(),h(q(2,1,i,(e=n.path)!==null&&e!==void 0?e:n.key))}}function Gt(t,o){if(t&1&&_(0,Ut,2,4)(1,qt,4,6,"i",9)(2,Wt,3,4,"span"),t&2){let e,i=a(2).$implicit;f((e=i.fieldConfiguration.type)==="date-time"?0:e==="boolean"?1:2)}}function Yt(t,o){if(t&1&&(c(0,"span"),C(1),O(2,"lodashGet"),d()),t&2){let e,i=a().$implicit,n=a().$implicit;s(),h(q(2,1,i,(e=n.path)!==null&&e!==void 0?e:n.key))}}function Kt(t,o){if(t&1&&(c(0,"pui-table-cell",8),_(1,Gt,3,1)(2,Yt,3,4,"span"),d()),t&2){let e,i=a().$implicit;p("rightAligned",(e=i.isAlignEnd)!==null&&e!==void 0?e:!1),s(),f(i.fieldConfiguration?1:2)}}function Jt(t,o){if(t&1&&_(0,zt,2,4,"pui-table-header-cell",5)(1,Kt,3,2,"pui-table-cell",6),t&2){let e=o.$implicit;p("puiTableHeaderCellDef",e.key),s(),p("puiTableCellDef",e.key)}}function Qt(t,o){if(t&1){let e=y();c(0,"pui-table-row",15),O(1,"isInSet"),v("click",function(){let n=T(e).$implicit,r=a(3);return g(r.onRowClick(n))}),d()}if(t&2){let e=o.$implicit,i=a(3);Z("height",48,"px"),p("item",e)("route",e[i.ROUTE_TO_DETAIL])("selected",ne(1,5,e,i.selectedItems(),i.cmpFn))}}function Xt(t,o){if(t&1&&(c(0,"cdk-virtual-scroll-viewport",13),_(1,Qt,2,9,"pui-table-row",14),d()),t&2){let e=a(2);Z("height",e.data().length*48,"px"),s(),p("cdkVirtualForOf",e.data())("cdkVirtualForTrackBy",e.trackingFn)("cdkVirtualForTemplateCacheSize",0)}}function Zt(t,o){if(t&1&&_(0,Xt,2,5,"cdk-virtual-scroll-viewport",12),t&2){let e=a();f(e.isBrowser?0:-1)}}function ei(t,o){if(t&1){let e=y();c(0,"pui-table-row",15),O(1,"isInSet"),v("click",function(){let n=T(e).$implicit,r=a(2);return g(r.onRowClick(n))}),d()}if(t&2){let e=o.$implicit,i=a(2);p("item",e)("route",e[i.ROUTE_TO_DETAIL])("selected",ne(1,3,e,i.selectedItems(),i.cmpFn))}}function ti(t,o){if(t&1&&x(0,ei,2,7,"pui-table-row",16,Ae),t&2){let e=a();D(e.data())}}function ii(t,o){if(t&1){let e=y();c(0,"pui-layout-control",17),v("click",function(n){let r=T(e).$implicit,l=a();return g(l.onControlClick(r.id,n))}),d()}if(t&2){let e=o.$implicit;p("id",e.id)("label",e.label)("icon",e.icon)("iconTemplateRef",e.iconTemplateRef)("disabled",e.isDisabled)("weight",e.weight)("mode",e.mode)}}var ni=(t,o)=>o.label;function oi(t,o){if(t&1&&(c(0,"a",6),C(1),d()),t&2){let e=a().$implicit;p("routerLink",e.route),s(),h(e.label)}}function ri(t,o){if(t&1&&_(0,oi,2,2,"a",7),t&2){let e=o.$implicit;p("puiTab",e.label)}}function ai(t,o){if(t&1){let e=y();c(0,"pui-tab-bar",5),v("tabChange",function(n){T(e);let r=a(2);return g(r.onTabChanged(n))}),x(1,ri,1,1,"a",6,ni),d()}if(t&2){let e=a(2);p("currentTab",e.activeTab()),s(),D(e.tabs())}}function li(t,o){if(t&1&&(c(0,"i"),C(1),d()),t&2){let e=a(2).$implicit;s(),h(e.icon)}}function ci(t,o){if(t&1&&L(0,11),t&2){let e=a(2).$implicit;p("ngTemplateOutlet",e.iconTemplateRef)}}function si(t,o){if(t&1){let e=y();c(0,"button",10),v("click",function(n){T(e);let r=a().$implicit,l=a(2);return g(l.layoutService.controlOnClick(r.id,n))}),_(1,li,2,1,"i")(2,ci,1,1,"ng-container",11),c(3,"span"),C(4),d()()}if(t&2){let e=a().$implicit;p("disabled",e.isDisabled)("hoverableEnabled",!e.isDisabled),s(),f(e.icon?1:e.iconTemplateRef?2:-1),s(3),h(e.label)}}function di(t,o){if(t&1&&(c(0,"i"),C(1),d()),t&2){let e=a(2).$implicit;s(),h(e.icon)}}function pi(t,o){if(t&1&&L(0,11),t&2){let e=a(2).$implicit;p("ngTemplateOutlet",e.iconTemplateRef)}}function ui(t,o){if(t&1){let e=y();c(0,"button",12),v("click",function(n){T(e);let r=a().$implicit,l=a(2);return g(l.layoutService.controlOnClick(r.id,n))}),_(1,di,2,1,"i")(2,pi,1,1,"ng-container",11),d()}if(t&2){let e=a().$implicit;p("disabled",e.isDisabled)("hoverableEnabled",!e.isDisabled)("puiTooltip",e.label),s(),f(e.icon?1:e.iconTemplateRef?2:-1)}}function _i(t,o){}function mi(t,o){if(t&1&&_(0,si,5,4,"button",8)(1,ui,3,4,"button",9)(2,_i,0,0),t&2){let e=o.$implicit,i=a(2);f(e.id==i.mostEmphasizedControlId()?0:e.icon||e.iconTemplateRef?1:2)}}function fi(t,o){if(t&1&&(c(0,"header",2),_(1,ai,3,1,"pui-tab-bar",3),b(2,"div",4),x(3,mi,3,1,null,null,J),d()),t&2){let e=a();s(),f(e.tabs().length>0?1:-1),s(2),D(e.controls())}}var j=(()=>{class t{constructor(){this._controls=H([]),this.controls=m(()=>this._controls().toSorted((e,i)=>(e.weight??0)-(i.weight??0))),this.mostEmphasizedControlId=m(()=>this.controls().filter(e=>!e.mode||e.mode=="auto").at(-1)?.id),this.eventsMap={}}registerControl(e,i){return this._controls.update(n=>[...n,w({},e)]),this.eventsMap[e.id]=i,{update:n=>{this._controls.update(r=>r.map(l=>l.id==n.id?w(w({},l),n):l))},dispose:()=>{this._controls.update(n=>n.filter(r=>r.id!=e.id))}}}controlOnClick(e,i){this.eventsMap[e]?.click?.(i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac})}}return t})(),Ci=(()=>{class t{constructor(){this.overlayRef=u(Ze),this.dataProvider=u(ht),this.layoutService=u(j,{self:!0}),this.configuration=this.dataProvider?.configuration,this.heading=m(()=>this.dataProvider.heading()),this.contentInputs=m(()=>this.dataProvider.contentInputs?.()??{}),this.controls=this.layoutService.controls,this.mostEmphasizedControlId=this.layoutService.mostEmphasizedControlId,this.dataProvider.onActionDrawerInit?.(this.overlayRef)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["pui-action-drawer-layout"]],hostAttrs:[1,"pui-action-drawer-layout"],features:[ie([j])],decls:10,vars:2,consts:[[1,"@container/layout"],[1,"pui-action-drawer-layout__heading"],[1,"pui-action-drawer-layout__content"],[3,"ngComponentOutlet","ngComponentOutletInputs"],[1,"pui-action-drawer-layout__controls"],["puiFilledButton","","color","accent",1,"pui-action-drawer-layout__controls__most-emphasized",3,"disabled","hoverableEnabled"],["puiBorderedButton","","color","accent",1,"pui-action-drawer-layout__controls__normal",3,"disabled","hoverableEnabled"],["puiFilledButton","","color","accent",1,"pui-action-drawer-layout__controls__most-emphasized",3,"click","disabled","hoverableEnabled"],[3,"ngTemplateOutlet"],["puiBorderedButton","","color","accent",1,"pui-action-drawer-layout__controls__normal",3,"click","disabled","hoverableEnabled"]],template:function(i,n){i&1&&(c(0,"div",0)(1,"header",1),b(2,"pui-breadcrumbs"),c(3,"h1"),C(4),d()(),c(5,"div",2),_(6,gt,1,2,"ng-container",3),d(),c(7,"div",4),x(8,Et,3,1,null,null,J),d()()),i&2&&(s(4),h(n.heading()),s(2),f(n.configuration&&n.configuration.content?6:-1),s(2),D(n.controls()))},dependencies:[fe,Oe,oe,N,ue,_e],encapsulation:2})}}return t})(),ht=new R("action drawer layout data provider"),Hi=(()=>{class t{constructor(){this.overlay=u(et),this.injector=u(X)}open(e,i={width:"480px"}){this.overlay.open(Ci,{positionStrategy:this.overlay.position().global().right("0").centerVertically(),maxWidth:"90vw",width:i.width??"480px",height:"100%",hasBackdrop:!0,backdropClass:"pui-action-drawer-backdrop",closeOnBackdropClick:!0,disposeOnNavigation:!0,closeOnEscapeKeydown:!0,animation:"slideInEnd",data:i.overlayData,parentInjector:X.create({providers:[{provide:Xe,useValue:i.overlayData},{provide:ht,useClass:e},...i.providers??[]],parent:i.parent??this.injector})})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hi=[{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"}],Ui=[{id:"cancel",label:"Cancel",icon:"close",mode:"low-emphasis"},{id:"save",label:"Save",icon:"save"}],bi=new R("editable content data provider");function K(t,o,e,i){return Object.entries(t.properties).flatMap(([r,l])=>{if(l.type=="object")return K(l,o,`${e?`${e}.`:""}${r}`,`${i}${l.description??""} / `);if(l.type=="array"){let $=ce(o,`${e?`${e}.`:""}${r}`);return[{key:`${e?`${e}.`:""}${r}`,fieldConfiguration:A(w({},l),{description:`${i}${l.description??""}`})},...Array.isArray($)?$.flatMap((Te,V)=>l.items.type=="object"?[...K(l.items,o,`${e?`${e}.`:""}${r}[${V}]`,`${i}${l.description??""} / #${V} / `)]:[{key:`${e?`${e}.`:""}${r}[${V}]`,fieldConfiguration:A(w({},l.items),{description:`${i}${l.description??""} / #${V}`})}]):[]]}return[{key:`${e?`${e}.`:""}${r}`,fieldConfiguration:A(w({},l),{description:i+l.description})}]})}var bt=(()=>{class t{constructor(){if(this.layoutService=u(j,{optional:!0}),this.destroyRef=u(ke),this.id=k.required(),this.label=k.required(),this.weight=k(0),this.icon=k(),this.iconTemplateRef=k(),this.disabled=k(!1,{transform:Le}),this.mode=k(void 0),this.click=Fe(),!this.layoutService)return;let e,i;B(()=>{let n=this.id(),r=this.label(),l=this.disabled(),$=this.icon(),Te=this.iconTemplateRef(),V=this.mode(),vt=this.weight(),ge={id:n,label:r,isDisabled:l,icon:$,iconTemplateRef:Te,weight:vt,mode:V};if(e)e(ge);else{let ye=this.layoutService.registerControl(ge,{click:Tt=>this.click.emit(Tt)});e=ye.update,i=ye.dispose}}),this.destroyRef.onDestroy(()=>{i?.()})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Ee({type:t,selectors:[["pui-layout-control"]],inputs:{id:[1,"id"],label:[1,"label"],weight:[1,"weight"],icon:[1,"icon"],iconTemplateRef:[1,"iconTemplateRef"],disabled:[1,"disabled"],mode:[1,"mode"]},outputs:{click:"click"}})}}return t})(),qi=(()=>{class t{constructor(){this.route=u(M),this.dataProvider=u(bi),this.formControl=new je(void 0),this.data=m(()=>this.dataProvider.data()),this.fieldConfiguration=m(()=>this.dataProvider.fieldConfiguration()),this.formControlValue=Pe(this.formControl.events.pipe(z(e=>e instanceof Me),xe(e=>e.value))),this.flattenedControls=m(()=>{let e=this.fieldConfiguration(),i=this.formControlValue();return e?K(e,i,"",e.description?`${e.description} / `:""):[]}),this.controlsConfig=m(()=>this.dataProvider.controlsConfig?.()??hi),B(()=>{let e=this.data();W(()=>this.formControl.setValue(e))}),B(()=>{let e=this.formControlValue();W(()=>this.dataProvider.onValueChange?.(e))}),P([this.route.params,this.route.queryParams]).pipe(S()).subscribe(([e,i])=>this.dataProvider.onParamsChange?.(e,i)),this.formControl.events.pipe(S()).subscribe(()=>{this.dataProvider.onStateChange?.({isValid:this.formControl.valid,isDisabled:this.formControl.disabled,isDirty:this.formControl.dirty})}),this.dataProvider.registerUpdateState?.(e=>{W(()=>{e?.isDirty===!1?this.formControl.markAsPristine():e?.isDirty===!0&&this.formControl.markAsDirty(),e?.isDisabled===!1?this.formControl.enable():e?.isDisabled===!0&&this.formControl.disable()})})}onControlClick(e,i){this.dataProvider.onControlClick?.(e,i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["pui-editable-content"]],hostAttrs:[1,"pui-editable-content"],decls:4,vars:1,consts:[[3,"id","label","icon","iconTemplateRef","disabled","weight","mode"],[3,"formControl"],[3,"key","fieldType","label","fieldConfig"],[3,"click","id","label","icon","iconTemplateRef","disabled","weight","mode"]],template:function(i,n){i&1&&(c(0,"main"),_(1,Vt,4,1,"form"),d(),x(2,At,1,7,"pui-layout-control",0,J)),i&2&&(s(),f(n.flattenedControls().length>0?1:-1),s(),D(n.controlsConfig()))},dependencies:[be,he,Ce,ze,se,Be,Ne,de,bt],encapsulation:2})}}return t})(),vi=new R("peekable addon data provider"),Ti=(()=>{class t{constructor(){this.dataProvider=u(vi,{optional:!0}),this.route=u(M),this.routeToFullContent=m(()=>this.dataProvider?.routeToFullContent()??null),P([this.route.params,this.route.queryParams]).pipe(S()).subscribe(([e,i])=>this.dataProvider?.onParamsChange?.(e,i))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["pui-peekable-addon"]],hostAttrs:[1,"pui-peekable-addon"],decls:8,vars:9,consts:[[1,"pui-peekable-addon__nav"],["puiBaseButton","","puiTooltip","View in full",1,"pui-peekable-addon__nav-button",3,"routerLink"],[1,"spacer"],["puiBaseButton","","puiTooltip","Close peek window",1,"pui-peekable-addon__nav-button",3,"routerLink"],[1,"pui-peekable-addon__content"],["name","peek"]],template:function(i,n){i&1&&(c(0,"nav",0),_(1,Pt,3,1,"a",1),b(2,"div",2),c(3,"a",3)(4,"i"),C(5,"close"),d()()(),c(6,"main",4),b(7,"router-outlet",5),d()),i&2&&(s(),f(n.routeToFullContent()?1:-1),s(2),p("routerLink",F(7,It,F(5,Ot,F(3,Lt,U(2,Rt))))))},dependencies:[G,le,N,pe,me],encapsulation:2})}}return t})(),Wi=(()=>{class t{constructor(){this.router=u(ae,{optional:!0}),this.isSidenavVisible=H(!1),this.router?.events.pipe(z(e=>e instanceof re),De(150),S()).subscribe(()=>{this.isSidenavVisible.set(!1)})}toggleSidenav(e){this.isSidenavVisible.update(i=>e??!i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["pui-root-sidenav"]],ngContentSelectors:Mt,decls:12,vars:1,consts:[[1,"pui-root-sidenav"],[1,"pui-root-sidenav__header"],["puiBaseButton","",1,"pui-root-sidenav__header__hamburger",3,"click"],[1,"spacer"],[1,"pui-root-sidenav__nav-wrapper"],[1,"pui-root-sidenav__content-wrapper"],[1,"pui-root-sidenav__content"]],template:function(i,n){i&1&&(Re(Bt),c(0,"div",0)(1,"div",1)(2,"button",2),v("click",function(){return n.toggleSidenav()}),c(3,"i"),C(4,"menu"),d()(),b(5,"div",3),ee(6),d(),c(7,"div",4),ee(8,1),d()(),c(9,"div",5)(10,"div",6),b(11,"router-outlet"),d()()),i&2&&(s(10),$e("data-sidenav",n.isSidenavVisible()?"visible":"hidden"))},dependencies:[N,pe,G],encapsulation:2})}}return t})();function Gi(t,o,e=!0){let i=Object.values(t??{}).some(r=>typeof r=="string"?!!r:r!=null),n=Object.keys(t??{});return r=>{if(!i)return!0;if(e){for(let l of n)if(l in o&&o[l]!=null&&!o[l](r,l,t[l],t))return!1;return!0}else{for(let l of n)if(l in o&&o[l]!=null&&o[l](r,l,t[l],t))return!0;return!1}}}function Yi(t){let o=t.find(i=>i.isSortedAsc||i.isSortedDesc);if(!o)return()=>0;let e=o.isSortedDesc?-1:1;return o.fieldConfiguration?.type=="date-time"?(i,n)=>{let r=I(i,o),l=I(n,o);return r==null&&l==null?0:r instanceof Date&&l instanceof Date?(r.getTime()-l.getTime())*e:r instanceof Date?1*e:-1*e}:(i,n)=>{switch(o.key){default:return I(i,o)>I(n,o)?e:I(i,o)<I(n,o)?-1*e:0}}}function I(t,o){return o.path?ce(t,o.path):t[o.key]}var gi=[{id:"refresh",label:"Refresh",icon:"refresh",mode:"low-emphasis"},{id:"add",label:"Add new",icon:"add"}],yi=new R("table content data provider"),Ki=(()=>{class t{constructor(){this.route=u(M),this.dataProvider=u(yi),this.isBrowser=Ie(u(Se)),this.ROUTE_TO_DETAIL=Symbol(),this.configuration=this.dataProvider.configuration,this.data=m(()=>{let e=this.dataProvider.data(),i=this.dataProvider.routeToDetail;return e?.map(n=>Object.assign({},n,{[this.ROUTE_TO_DETAIL]:i?.bind(this.dataProvider)?.(n)}))}),this.columnConfig=m(()=>this.dataProvider.columnsConfig()),this.columnsToDisplay=m(()=>this.dataProvider.columnsToDisplay()),this.selectionMode=m(()=>this.dataProvider.selectionMode?.()??null),this.selectedItems=m(()=>this.dataProvider.selectedItems?.()??new Set),this.controlsConfig=m(()=>this.dataProvider.controlsConfig?.()??gi),this.flattenFilterDef=m(()=>{let e=this.dataProvider.filterConfig?.();return e?K(e,{},"",e.description?`${e.description} / `:""):[]}),this.filterFormControl=u(He).nonNullable.control({}),this.cmpFn=this.dataProvider.compareFn??((e,i)=>e==i),P([this.route.params,this.route.queryParams]).pipe(S()).subscribe(([e,i])=>this.dataProvider.onParamsChange?.(e,i)),B(()=>{this.dataProvider.filterValue&&this.filterFormControl.setValue(this.dataProvider.filterValue?.(),{emitEvent:!1})})}ngOnInit(){this.dataProvider?.onInit?.()}ngOnDestroy(){this.dataProvider?.onDestroy?.()}onRowClick(e){this.dataProvider.onTableRowClick?.(e)}onHeaderClick(e,i){this.dataProvider.onHeaderCellClick?.(e,i)}onControlClick(e,i){this.dataProvider.onControlClick?.(e,i)}onFilterValueChange(e){this.dataProvider.onFilterChange?.(e)}trackingFn(e,i){return e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["pui-table-content"]],hostAttrs:[1,"pui-table-content"],decls:13,vars:5,consts:[[3,"formControl"],[3,"itemHeight","columns","selectionMode"],[3,"id","label","icon","iconTemplateRef","disabled","weight","mode"],[3,"valueChange","formControl"],[3,"key","fieldType","label","fieldConfig","isNullable"],[3,"rightAligned","sortedAsc","sortedDesc","cellClick",4,"puiTableHeaderCellDef"],[3,"rightAligned",4,"puiTableCellDef"],[3,"cellClick","rightAligned","sortedAsc","sortedDesc"],[3,"rightAligned"],[1,"pui-table-cell__boolean-content",3,"pui-table-cell__boolean-content--true"],[3,"mode","format","date"],[1,"pui-table-cell__boolean-content"],["itemSize","48","scrollWindow","",3,"height"],["itemSize","48","scrollWindow",""],["puiHoverable","",3,"item","route","height","selected","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],["puiHoverable","",3,"click","item","route","selected"],["puiHoverable","",3,"item","route","selected"],[3,"click","id","label","icon","iconTemplateRef","disabled","weight","mode"]],template:function(i,n){if(i&1&&(c(0,"main")(1,"div"),te(2),_(3,jt,3,1,"pui-fieldset",0),c(4,"pui-table",1),x(5,Jt,2,2,null,null,ve),c(7,"pui-table-body"),b(8,"pui-table-header-row"),_(9,Zt,1,1)(10,ti,2,0),d()()()(),x(11,ii,1,7,"pui-layout-control",2,J)),i&2){let r=n.flattenFilterDef();s(3),f(r.length>0?3:-1),s(),p("itemHeight",48)("columns",n.columnsToDisplay())("selectionMode",n.selectionMode()),s(),D(n.columnConfig()),s(4),f(n.configuration!=null&&n.configuration.useVirtualScroll?9:10),s(2),D(n.controlsConfig())}},dependencies:[ft,ct,mt,st,_t,ut,dt,at,pt,lt,tt,bt,it,qe,Qe,Ge,Ke,Ye,Je,be,he,Ce,se,de,Ue],encapsulation:2})}}return t})();function Ji(t,o,e=!0){return t.map(i=>i.key==o?A(w({},i),{isSortedAsc:!i.isSortedAsc&&!i.isSortedDesc?e:!!i.isSortedDesc,isSortedDesc:!i.isSortedAsc&&!i.isSortedDesc?!e:!!i.isSortedAsc}):A(w({},i),{isSortedAsc:!1,isSortedDesc:!1}))}var xi=new R("vertical layout data provider"),Qi=(()=>{class t{constructor(){this.dataProvider=u(xi),this.layoutService=u(j,{self:!0}),this.router=u(ae),this.route=u(M),this.activeTab=H(null),this.heading=m(()=>this.dataProvider.heading()),this.tabs=m(()=>this.dataProvider.tabs()),this.controls=this.layoutService.controls,this.mostEmphasizedControlId=this.layoutService.mostEmphasizedControlId,P([this.route.params,this.route.queryParams]).pipe(S()).subscribe(([e,i])=>this.dataProvider.onParamsChange?.(e,i)),this.router.events.pipe(z(e=>e instanceof re),we(this.router.lastSuccessfulNavigation?.finalUrl),We(),S()).subscribe(()=>{let e=this.tabs();if(!e)return;let i=e.find(r=>{let l=this.router.createUrlTree(r.route,{relativeTo:this.route});return this.router.isActive(l,{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})});if(!i)return;this.activeTab.set(i.label);let n=this.route.routeConfig?.children?.find(r=>r.path=="**");n&&(n.redirectTo=i.route.map(r=>String(r).replaceAll("..%2F","").replaceAll(".%2F","")).join("/"))})}onTabChanged(e){let i=this.tabs()?.find(n=>n.label==e);i&&this.router.navigate(i.route,{relativeTo:this.route})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["pui-vertical-layout"]],hostAttrs:[1,"pui-vertical-layout"],features:[ie([j])],decls:8,vars:2,consts:[[1,"@container/layout"],[1,"pui-vertical-layout__heading"],[1,"pui-vertical-layout__controls"],[1,"pui-vertical-layout__tabs",3,"currentTab"],[1,"spacer"],[1,"pui-vertical-layout__tabs",3,"tabChange","currentTab"],[3,"routerLink"],[3,"routerLink",4,"puiTab"],["puiFilledButton","","color","accent",1,"pui-vertical-layout__controls__most-emphasized",3,"disabled","hoverableEnabled"],["puiBorderedButton","","color","accent",1,"pui-vertical-layout__controls__normal",3,"disabled","hoverableEnabled","puiTooltip"],["puiFilledButton","","color","accent",1,"pui-vertical-layout__controls__most-emphasized",3,"click","disabled","hoverableEnabled"],[3,"ngTemplateOutlet"],["puiBorderedButton","","color","accent",1,"pui-vertical-layout__controls__normal",3,"click","disabled","hoverableEnabled","puiTooltip"]],template:function(i,n){i&1&&(c(0,"div",0)(1,"header",1),b(2,"pui-breadcrumbs"),c(3,"h1"),C(4),d()(),_(5,fi,5,1,"header",2),b(6,"router-outlet")(7,"pui-peekable-addon"),d()),i&2&&(s(4),h(n.heading()),s(),f(n.tabs().length>0||n.controls().length>0?5:-1))},dependencies:[G,fe,N,ue,_e,rt,ot,nt,le,oe,Ti,me],encapsulation:2})}}return t})();export{ht as a,Hi as b,hi as c,Ui as d,bi as e,bt as f,qi as g,vi as h,Wi as i,Gi as j,Yi as k,gi as l,yi as m,Ki as n,Ji as o,xi as p,Qi as q};
