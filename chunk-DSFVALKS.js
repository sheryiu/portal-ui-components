import{a as R}from"./chunk-7X6ZSEXU.js";import"./chunk-7HTQARGM.js";import{a as lt}from"./chunk-X6UDUAUK.js";import{a as N}from"./chunk-BOSLPKN6.js";import{a as O}from"./chunk-45UJE42O.js";import"./chunk-XCKYQHPE.js";import{$b as xe,$c as Ie,Aa as n,B as q,Ba as u,Bc as Ae,Ca as K,D as S,Da as X,Dc as $e,Dd as ze,Ea as b,Ed as qe,Fa as v,Fc as Fe,Fd as Je,Ga as d,Gd as Ye,Ha as Z,Hc as Ee,Hd as Ke,Ia as ee,Ic as V,Id as Xe,Ja as te,Jb as ce,Jc as k,Jd as Ze,Ka as P,Kb as de,Kc as H,Kd as et,L as _,La as m,Lb as F,Lc as M,Ld as tt,Ma as T,Mb as se,Mc as B,Md as it,N as y,Na as ie,Nb as ue,Nd as rt,Oa as re,Ob as _e,Oc as Le,Od as ot,Pa as A,Pc as Ve,Pd as nt,Qa as j,Qb as G,Qc as ke,Qd as at,Ra as g,Rc as He,S as f,T as C,Ta as oe,Tb as fe,Tc as Me,Ua as ne,Ub as Ce,Uc as Be,W as w,Wb as be,Xa as ae,Xb as ve,Yb as he,Zb as Se,_b as ge,ab as x,ac as ye,ad as Oe,bc as we,ca as p,d as Q,db as $,eb as le,fc as E,i as U,kc as L,la as D,na as s,qa as o,qc as De,r as W,rc as Te,rd as Ne,sa as J,sd as Re,td as Pe,ua as Y,ud as je,v as z,vd as Ge,wd as Qe,xb as pe,xd as Ue,yd as We,za as r,zb as me,zd as I}from"./chunk-BWIITBJI.js";import"./chunk-6RDLFHTQ.js";import"./chunk-CWTPBX7D.js";var st=e=>({"!text-primary-950 dark:!text-primary-50":e}),ut=e=>({enum:e});function _t(e,i){if(e&1){let t=b();r(0,"form",5),v("ngSubmit",function(){f(t);let l=d();return C(l.onSubmit())}),r(1,"pui-fieldset",6),u(2,"pui-field-def",7)(3,"pui-field-def",8)(4,"pui-field-def",9)(5,"pui-field-def",10),n(),r(6,"button",11),m(7,"Add"),n()()}if(e&2){let t=d(),a=P(9);p(),o("formControl",t.formControl),p(3),o("fieldConfig",g(3,ut,t.armorPosition)),p(),o("templateRef",a)}}function ft(e,i){if(e&1&&(r(0,"div"),m(1),n()),e&2){let t=i.$implicit;p(),T(t)}}function Ct(e,i){e&1&&(r(0,"pui-search-dropdown"),u(1,"demo-armor-set-search"),n())}function bt(e,i){if(e&1){let t=b();K(0,12),r(1,"pui-dropdown",13),v("valueChange",function(){let l=f(t).valueUpdated$;return C(l.next())}),s(2,ft,2,1,"div",14)(3,Ct,2,0,"pui-search-dropdown",15),n(),X()}if(e&2){let t=i.key,a=i.formGroup;o("formGroup",a),p(),o("formControlName",t)}}var pt=(()=>{let i=class i extends E{constructor(){super(...arguments),this.service=_(N),this.builder=_(we),this.dialog=_(Oe),this.formControl=this.builder.nonNullable.control(null),this.armorPosition=Object.values(lt),this.onSubmit=this.createEffectFn(a=>a.pipe(z(()=>this.service.create(this.formControl.getRawValue()).pipe(W(l=>(this.dialog.open({title:"Error",icon:"error",details:l.message,dialogClass:"error-dialog"}),Q)))),S(()=>this.formControl.reset())))}};i.\u0275fac=(()=>{let a;return function(c){return(a||(a=w(i)))(c||i)}})(),i.\u0275cmp=y({type:i,selectors:[["mhw-armor-list-drawer-create"]],standalone:!0,features:[D,A],decls:10,vars:6,consts:[["trigger","accordionTrigger"],["armorSetIdInput",""],["puiSidebarDrawerSection",""],["puiSidebarDrawerSectionHeader","","puiHoverable","","role","button","type","button","puiAccordionTrigger","","opened","",3,"ngClass"],["puiSidebarDrawerSectionContent",""],["puiSidebarDrawerSectionContent","",3,"ngSubmit"],[3,"formControl"],["key","name>en","label","English Name","fieldType","string"],["key","name>jp","label","Japanese Name","fieldType","string"],["key","position","label","Position","fieldType","string",3,"fieldConfig"],["key","armorSetId","label","Armor Set","fieldType","string",3,"templateRef"],["puiHoverable","","role","button","type","submit",1,"rounded-1","mx-1","py-2","text-sm","text-primary-700","dark:text-primary-500"],[3,"formGroup"],[3,"valueChange","formControlName"],[4,"puiDropdownTrigger"],[4,"puiDropdownOverlay"]],template:function(l,c){if(l&1&&(r(0,"div",2)(1,"button",3,0)(3,"i"),m(4,"add"),n(),r(5,"p"),m(6,"Insert New"),n()(),s(7,_t,8,5,"form",4),n(),s(8,bt,4,2,"ng-template",null,1,ae)),l&2){let h=P(2);J("bg-drawer-content",h.isOpened$$()),p(),o("ngClass",g(4,st,!h.isOpened$$())),p(6),Y(7,h.isOpened$$()?7:-1)}},dependencies:[O,$,L,$e,Ae,I,je,Ge,Qe,Be,Me,Ee,Se,be,ve,he,ge,xe,ye,B,H,V,k,M,R]});let e=i;return e})();var vt=()=>["name","armorSetId","createdAt"],ht=()=>["50%","30%","1fr"],St=e=>({"text-secondary":e}),gt=e=>[e];function xt(e,i){if(e&1){let t=b();r(0,"div",14)(1,"pui-input-field")(2,"input",15),v("input",function(l){f(t);let c=d(3);return C(c.onChangeFilter({name:l.currentTarget.value}))}),n()()()}if(e&2){let t,a=d(3);o("cdkTrapFocusAutoCapture",!0),p(2),o("value",(t=a.filterByName$$())!==null&&t!==void 0?t:"")}}function yt(e,i){if(e&1&&(r(0,"pui-table-header-cell",12),m(1," Name "),s(2,xt,3,2,"div",13),n()),e&2){let t=d(2);o("filtered",t.filterByName$$()!=null)}}function wt(e,i){e&1&&(r(0,"div",21)(1,"i",22),m(2,"sort"),n(),r(3,"span",23),m(4,"1 to 9"),n()())}function Dt(e,i){e&1&&(r(0,"div",21)(1,"i",24),m(2,"sort"),n(),r(3,"span",23),m(4,"9 to 1"),n()())}function Tt(e,i){if(e&1){let t=b();r(0,"pui-segmented-options",19),v("valueChange",function(l){f(t);let c=d(3);return C(c.onChangeSort(["armorSetId",l]))}),s(1,wt,5,0,"div",20)(2,Dt,5,0,"div",20),n()}if(e&2){let t=d(3);o("value",t.sortByArmorSet$$()),p(),o("puiOption","asc"),p(),o("puiOption","desc")}}function At(e,i){if(e&1&&(r(0,"div",28),m(1),n()),e&2){let t=i.$implicit;o("ngClass",g(2,St,!t)),p(),T(t||"Type to search")}}function $t(e,i){e&1&&(r(0,"pui-search-dropdown"),u(1,"demo-armor-set-search",29),n()),e&2&&(p(),o("canUnset",!0))}function Ft(e,i){if(e&1){let t=b();r(0,"pui-dropdown",25),v("valueChange",function(l){f(t);let c=d(3);return C(c.onChangeFilter({armorSetId:l}))}),s(1,At,2,4,"div",26)(2,$t,2,1,"pui-search-dropdown",27),n()}if(e&2){let t=d(3);o("value",t.filterByArmorSet$$())}}function Et(e,i){if(e&1&&(r(0,"pui-table-header-cell",16),m(1," Armor Set "),s(2,Tt,3,3,"pui-segmented-options",17)(3,Ft,3,1,"pui-dropdown",18),n()),e&2){let t=d(2);o("filtered",t.filterByArmorSet$$()!=null)("sortedAsc",t.sortByArmorSet$$()==="asc")("sortedDesc",t.sortByArmorSet$$()==="desc")}}function Lt(e,i){e&1&&(r(0,"div",21)(1,"i",22),m(2,"sort"),n(),r(3,"span",23),m(4,"1 to 9"),n()())}function Vt(e,i){e&1&&(r(0,"div",21)(1,"i",24),m(2,"sort"),n(),r(3,"span",23),m(4,"9 to 1"),n()())}function kt(e,i){if(e&1){let t=b();r(0,"pui-segmented-options",19),v("valueChange",function(l){f(t);let c=d(3);return C(c.onChangeSort(["createdAt",l]))}),s(1,Lt,5,0,"div",20)(2,Vt,5,0,"div",20),n()}if(e&2){let t=d(3);o("value",t.sortByCreatedAt$$()),p(),o("puiOption","asc"),p(),o("puiOption","desc")}}function Ht(e,i){if(e&1&&(r(0,"pui-table-header-cell",30),m(1," Created "),s(2,kt,3,3,"pui-segmented-options",17),n()),e&2){let t=d(2);o("sortedAsc",t.sortByCreatedAt$$()==="asc")("sortedDesc",t.sortByCreatedAt$$()==="desc")}}function Mt(e,i){if(e&1&&(r(0,"pui-table-cell"),m(1),n()),e&2){let t=i.$implicit;p(),re(" ",t.name==null?null:t.name.jp," / ",t.name==null?null:t.name.en," ")}}function Bt(e,i){if(e&1&&(r(0,"pui-table-cell"),m(1),n()),e&2){let t=i.$implicit;p(),ie(" ",t.armorSetId," ")}}function It(e,i){if(e&1&&(r(0,"pui-table-cell"),u(1,"pui-time-display",31),n()),e&2){let t=i.$implicit;p(),o("date",t.createdAt)}}function Ot(e,i){if(e&1&&u(0,"pui-table-row",32),e&2){let t=i.$implicit;o("route",g(2,gt,t.id))("item",t)}}function Nt(e,i){if(e&1&&(r(0,"pui-table",4),s(1,yt,3,1,"pui-table-header-cell",5)(2,Et,4,3,"pui-table-header-cell",6)(3,Ht,3,2,"pui-table-header-cell",7)(4,Mt,2,2,"pui-table-cell",8)(5,Bt,2,1,"pui-table-cell",8)(6,It,2,1,"pui-table-cell",8),r(7,"cdk-virtual-scroll-viewport",9)(8,"pui-table-body"),u(9,"pui-table-header-row"),s(10,Ot,1,4,"pui-table-row",10),oe(11,"async"),r(12,"pui-table-footer-row",11),u(13,"pui-table-simple-footer"),n()()()()),e&2){let t=d();o("columns",j(13,vt))("columnWidths",j(14,ht)),p(),o("puiTableHeaderCellDef","name"),p(),o("puiTableHeaderCellDef","armorSetId"),p(),o("puiTableHeaderCellDef","createdAt"),p(),o("puiTableCellDef","name"),p(),o("puiTableCellDef","armorSetId"),p(),o("puiTableCellDef","createdAt"),p(),o("extraHeight",48*2),p(3),o("cdkVirtualForOf",ne(11,11,t.data$))("cdkVirtualForTrackBy",t.trackingFn)}}function Rt(e,i){e&1&&u(0,"mhw-armor-list-drawer-create")}var Ci=(()=>{let i=class i extends E{constructor(){super(...arguments),this.service=_(N),this.router=_(me),this.route=_(pe),this.data$=U({filter:G(this.service.mainListFilter$$),sort:G(this.service.mainListSort$$)}).pipe(q(({filter:a,sort:l})=>this.service.list(a,l))),this.filterByName$$=x(()=>this.service.mainListFilter$$().name),this.filterByArmorSet$$=x(()=>this.service.mainListFilter$$().armorSetId),this.sortByArmorSet$$=x(()=>this.service.mainListSort$$().armorSetId),this.sortByCreatedAt$$=x(()=>this.service.mainListSort$$().createdAt),this.onChangeSort=this.createEffectFn(a=>a.pipe(S(([l,c])=>{this.service.mainListSort$$.set({[l]:c})}))),this.onChangeFilter=this.createEffectFn(a=>a.pipe(S(l=>{this.service.mainListFilter$$.set(l)}),S()))}onHeaderClick(){this.router.navigate(["./"],{relativeTo:this.route}),this.scrollViewport?.scrollToOffset(0,"smooth")}trackingFn(a,l){return l.id}pickArmorSet(a){return a.id}};i.\u0275fac=(()=>{let a;return function(c){return(a||(a=w(i)))(c||i)}})(),i.\u0275cmp=y({type:i,selectors:[["mhw-armor-list"]],viewQuery:function(l,c){if(l&1&&Z(F,5),l&2){let h;ee(h=te())&&(c.scrollViewport=h.first)}},standalone:!0,features:[D,A],decls:7,vars:0,consts:[["puiSidebarContainer","","cdkVirtualScrollingElement","","cdkScrollable",""],["puiSidebarBreadcrumbs",""],["itemHeight","48",3,"columns","columnWidths",4,"puiSidebarMain"],[4,"puiSidebarDrawer"],["itemHeight","48",3,"columns","columnWidths"],[3,"filtered",4,"puiTableHeaderCellDef"],[3,"filtered","sortedAsc","sortedDesc",4,"puiTableHeaderCellDef"],["rightAligned","",3,"sortedAsc","sortedDesc",4,"puiTableHeaderCellDef"],[4,"puiTableCellDef"],["itemSize","",3,"extraHeight"],["puiHoverable","",3,"route","item",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"px-4","py-1"],[3,"filtered"],["cdkTrapFocus","",3,"cdkTrapFocusAutoCapture",4,"puiTableHeaderCellFilter"],["cdkTrapFocus","",3,"cdkTrapFocusAutoCapture"],["type","search","placeholder","Type to search",3,"input","value"],[3,"filtered","sortedAsc","sortedDesc"],["color","accent",3,"value","valueChange",4,"puiTableHeaderCellSort"],[3,"value","valueChange",4,"puiTableHeaderCellFilter"],["color","accent",3,"valueChange","value"],["class","flex items-center gap-1",4,"puiOption"],[1,"flex","items-center","gap-1"],[1,"icon-4","rotate-180","-scale-x-100"],[1,"text-sm/[0]","font-bold"],[1,"icon-4"],[3,"valueChange","value"],[3,"ngClass",4,"puiDropdownTrigger"],[4,"puiDropdownOverlay"],[3,"ngClass"],[3,"canUnset"],["rightAligned","",3,"sortedAsc","sortedDesc"],["format","yyyy-MM-dd HH:mm",3,"date"],["puiHoverable","",3,"route","item"]],template:function(l,c){l&1&&(r(0,"pui-layered-container")(1,"div",0)(2,"div",1),u(3,"pui-breadcrumbs"),n(),r(4,"pui-sidebar-content"),s(5,Nt,14,15,"pui-table",2)(6,Rt,1,0,"mhw-armor-list-drawer-create",3),n()()())},dependencies:[O,$,L,Te,De,Fe,le,pt,Ie,_e,de,ce,se,F,ue,I,Re,Ne,We,Ue,Pe,at,Je,nt,Ye,rt,it,Ke,ze,tt,qe,Ze,et,Xe,ot,ke,Ve,Le,He,B,H,V,k,M,R,Ce,fe],styles:[".pui-table-column-createdAt[_ngcontent-%COMP%]{justify-content:flex-end}"]});let e=i;return e})();export{Ci as ArmorListComponent};
