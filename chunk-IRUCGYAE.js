import{d as s,e as d}from"./chunk-JCB2IDA7.js";import{a}from"./chunk-A7X6ERW6.js";import{B as l,O as c,e as m,r as h,ra as f,s as n,y as o}from"./chunk-Q665FWTK.js";var g=(()=>{let t=class t{constructor(){this.appRef=l(f),this.list=new m([]),this.employeeData=l(d),this.isInitialized=!1}createMock(e){let i=a.date.past({years:1}),u=a.date.between({from:i,to:new Date(i.getTime()+5*24*36e5)}),p=a.helpers.arrayElement([s.ANNUAL_LEAVE,s.BUSINESS_TRIP,s.PERSONAL_LEAVE,s.SICK_LEAVE]);return{id:a.string.nanoid(),employeeId:e.id,startsFrom:i,endsAt:u,isFullDay:[s.ANNUAL_LEAVE,s.PERSONAL_LEAVE,s.SICK_LEAVE].includes(p),type:p,label:a.lorem.lines(1)}}initialize(){this.isInitialized||(this.isInitialized=!0,this.employeeData.getList().pipe(n(e=>e.length>0)).subscribe(e=>{this.list.next(e.map(i=>this.createMock(i)))}))}getList(){return this.appRef.isStable.pipe(n(e=>e),h(1e3)).subscribe(()=>{this.initialize()}),this.list}save(e){this.list.next(this.list.value.map(i=>i.id==e.id?e:i))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var j=(()=>{let t=class t{constructor(){this.heading=c("Employee Calendar"),this.tabs=c([{label:"Monthly",route:["monthly","-1"]},{label:"Weekly",route:["weekly"]},{label:"Data",route:["data"]}]),this.storedSelectedTime=new Date}updateSelectedTime(e){this.storedSelectedTime=e}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=o({token:t,factory:t.\u0275fac});let r=t;return r})();export{g as a,j as b};
